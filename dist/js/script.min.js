(()=>{"use strict";function e(){var e=document.querySelector(".clock");if(e){var t=new Date;e.textContent=t.toLocaleTimeString()}}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e){localStorage.setItem("columnSize",e);var t=document.querySelector(".columns");t&&(t.classList.forEach((function(e){e.startsWith("max-")&&t.classList.remove(e)})),"auto"!==e&&t.classList.add(e))}function o(e,t){var n=localStorage.getItem("columnSize"),o=t.indexOf(n);-1===o&&(o="next"===e?-1:0),"next"===e&&o<t.length-1?o+=1:"prev"===e&&o>0&&(o-=1),r(t[o])}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e,t=(null===(e=document.querySelector(".search-bar"))||void 0===e?void 0:e.value.toLowerCase())||"";document.querySelectorAll(".folders li").forEach((function(e){var n=e.textContent.toLowerCase();e.style.display=n.includes(t)?"":"none"}))}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m;document.addEventListener("DOMContentLoaded",(function(){e(),setInterval(e,1e3)})),m=["max-xs","max-sm","max-md","max-lg"],document.addEventListener("DOMContentLoaded",(function(){var e=localStorage.getItem("columnSize");e&&r(e);var t=document.getElementById("reset-width"),n=document.getElementById("prev-width"),a=document.getElementById("next-width");t&&t.addEventListener("click",(function(){return r("auto")})),n&&n.addEventListener("click",(function(){return o("prev",m)})),a&&a.addEventListener("click",(function(){return o("next",m)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".columns");if(e){var n=null,r=JSON.parse(localStorage.getItem("columnOrder")||"[]");r.length&&r.forEach((function(t){var n=document.getElementById(t);n&&e.appendChild(n)})),e.querySelectorAll(".column:not(.column-controls)").forEach((function(r){var o=r.querySelector(".drag-handle");o&&(r.setAttribute("draggable",!1),o.addEventListener("mousedown",(function(){r.setAttribute("draggable",!0)})),o.addEventListener("mouseup",(function(){r.setAttribute("draggable",!1)})),r.addEventListener("dragstart",(function(){n=r,r.style.opacity="0.5"})),r.addEventListener("dragend",(function(){var t;n=null,r.style.opacity="1",r.setAttribute("draggable",!1),t=Array.from(e.children).filter((function(e){return!e.classList.contains("column-controls")})).map((function(e){return e.id})),localStorage.setItem("columnOrder",JSON.stringify(t))})),r.addEventListener("dragover",(function(e){return e.preventDefault()})),r.addEventListener("drop",(function(o){if(o.preventDefault(),n&&n!==r){var a=t(e.children),i=a.indexOf(r);a.indexOf(n)<i?r.after(n):r.before(n)}})))}))}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("dock-list"),t=document.getElementById("add-dock-item"),n=document.querySelector("#settings-view form");function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("li");n.className="dock-item",n.draggable=!0,n.innerHTML='\n                <input type="text" placeholder="Label" value="'.concat(t.label||"",'">\n                <input type="text" placeholder="URL" value="').concat(t.url||"",'">\n                <input type="text" placeholder="Icon" value="').concat(t.icon||"",'">\n                <input type="text" placeholder="Alt Text" value="').concat(t.alt||"",'">\n                <button class="remove">üóëÔ∏è</button>\n            '),e.appendChild(n),n.querySelector(".remove").onclick=function(){return n.remove()},function(e){e.addEventListener("dragstart",(function(){e.classList.add("dragging")})),e.addEventListener("dragend",(function(){e.classList.remove("dragging")}))}(n)}e&&t&&n&&(fetch("partials/dock.json").then((function(e){return e.json()})).then((function(e){e.forEach(r)})),t.onclick=function(){return r()},e.addEventListener("dragover",(function(t){t.preventDefault();var n,r,o=e.querySelector(".dragging"),a=(n=e,r=t.clientY,i(n.querySelectorAll(".dock-item:not(.dragging)")).reduce((function(e,t){var n=t.getBoundingClientRect(),o=r-n.top-n.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);o&&(null==a?e.appendChild(o):e.insertBefore(o,a))})),n.addEventListener("submit",(function(){var t=i(e.querySelectorAll(".dock-item")).map((function(e){var t=a(e.querySelectorAll("input"),4),n=t[0],r=t[1],o=t[2],i=t[3];return{label:n.value,url:r.value,icon:o.value,alt:i.value}})),r=document.createElement("input");r.type="hidden",r.name="dock_json",r.value=JSON.stringify(t),n.appendChild(r)})))})),document.addEventListener("DOMContentLoaded",(function(){var e="true"===document.body.getAttribute("data-ajax-enabled");if(document.getElementById("error-log-section")){var t=function(){fetch(e?"ajax_apache_error_log.php":"apache_error_log.php",{cache:"no-store"}).then((function(e){if(!e.ok)throw new Error("Error log unavailable");return e.text()})).then((function(e){r.innerHTML="<code>".concat(e,"</code>")})).catch((function(e){console.error("Error fetching error log:",e),clearInterval(o)}))},n=document.getElementById("toggle-error-log"),r=document.getElementById("error-log");n.addEventListener("click",(function(){var e="block"===r.style.display;r.style.display=e?"none":"block",this.setAttribute("aria-expanded",!e)}));var o=setInterval(t,3e3);t()}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".search-bar");e&&e.addEventListener("input",u)})),document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("system-monitor")){var e=function(){var e=useAjax?"ajax_system_stats.php":"system_stats.php";fetch(e,{cache:"no-store"}).then((function(e){if(!e.ok)throw new Error("System stats unavailable");return e.json()})).then((function(e){t.textContent="".concat(e.cpu,"%"),n.textContent="".concat(e.memory," MB"),r.textContent="".concat(e.disk,"%")})).catch((function(e){console.error("Error fetching system stats:",e),clearInterval(o)}))},t=document.getElementById("cpu-load"),n=document.getElementById("memory-usage"),r=document.getElementById("disk-space"),o=setInterval(e,1e3);e()}})),document.addEventListener("DOMContentLoaded",(function(){"light"===localStorage.getItem("theme")&&(document.documentElement.classList.add("light-mode"),document.body.classList.add("light-mode"));var e=document.querySelector(".toggle-theme");e&&e.addEventListener("click",(function(){document.documentElement.classList.toggle("light-mode"),document.body.classList.toggle("light-mode");var e=document.documentElement.classList.contains("light-mode");localStorage.setItem("theme",e?"light":"dark")}))})),document.addEventListener("DOMContentLoaded",(function(){var e={index:document.getElementById("folders-view"),settings:document.getElementById("settings-view"),phpinfo:document.getElementById("phpinfo-view")};Object.entries({"toggle-index":"index","toggle-settings":"settings","toggle-phpinfo":"phpinfo"}).forEach((function(t){var n=d(t,2),r=n[0],o=n[1],a=document.getElementById(r);a&&a.addEventListener("click",(function(t){t.preventDefault(),Object.entries(e).forEach((function(e){var t=d(e,2),n=t[0],r=t[1];r&&(r.style.display=n===o?"block":"none")}))}))}))}))})();
//# sourceMappingURL=script.min.js.map