(()=>{"use strict";function t(){var t=document.querySelector(".clock");if(t){var e=new Date;t.textContent=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}}function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.querySelector(t);if(n&&"1"!==n.dataset.sortBound){n.dataset.sortBound="1";var o=e.items||"li",r=e.handle||null,a=null;n.addEventListener("pointerdown",function(t){var e=t.target.closest(o);e&&n.contains(e)&&(t.target.closest('input, select, textarea, button, a, [contenteditable=""], .no-drag')||r&&!t.target.closest(r)||(e.draggable=!0))},{capture:!0}),n.addEventListener("dragstart",function(t){var e=t.target.closest(o);if(e&&n.contains(e)){a=e,t.dataTransfer.effectAllowed="move";try{t.dataTransfer.setData("text/plain","")}catch(t){}e.classList.add("dragElem")}}),n.addEventListener("dragenter",function(t){var e=t.target.closest(o);e&&n.contains(e)&&e.classList.add("over")}),n.addEventListener("dragover",function(t){a&&t.preventDefault()}),n.addEventListener("dragleave",function(t){var e=t.target.closest(o);e&&n.contains(e)&&e.classList.remove("over")}),n.addEventListener("drop",function(t){t.preventDefault();var e=t.target.closest(o);if(e&&a&&e!==a){var r=Array.from(n.querySelectorAll(":scope > ".concat(o))),c=r.indexOf(a),i=r.indexOf(e);c>-1&&i>-1&&(c<i?e.after(a):e.before(a),n.dispatchEvent(new CustomEvent("sorted",{bubbles:!0}))),e.classList.remove("over")}}),n.addEventListener("dragend",function(t){var e=t.target.closest(o);e&&n.contains(e)&&(e.classList.remove("dragElem"),e.draggable=!1),Array.from(n.querySelectorAll(o)).forEach(function(t){return t.classList.remove("over")}),a=null})}}function n(t){localStorage.setItem("columnSize",t);var e=document.querySelector(".columns");e&&(e.classList.forEach(function(t){t.startsWith("max-")&&e.classList.remove(t)}),"auto"!==t&&e.classList.add(t))}function o(t,e){var o=localStorage.getItem("columnSize")||"auto",r=e.indexOf(o),a=0;"next"===t?a=(r+1)%e.length:"prev"===t&&(a=(r-1+e.length)%e.length),n(e[a])}function r(t){var e=t.sectionId,n=t.toggleButtonId,o=t.logElementId,r=t.endpoint;document.addEventListener("DOMContentLoaded",function(){var t=document.body;if(document.getElementById(e)){var a=document.getElementById(n),c=document.getElementById(o);a&&c&&(a.addEventListener("click",function(){var t=c.classList.contains("visible");c.classList.toggle("visible",!t),this.setAttribute("aria-expanded",!t)}),"true"===t.getAttribute("data-ajax-enabled")&&fetch("".concat(window.BASE_URL).concat(r),{cache:"no-store"}).then(function(t){return t.ok?t.text():Promise.reject()}).then(function(t){i(t),setInterval(l,3e3)}).catch(function(){}))}function i(t){var e=""===t.trim();c.innerHTML=e?'<code class="muted">No errors logged. You\'re doing great. üéâ</code>':"<code>".concat(t,"</code>")}function l(){fetch("".concat(window.BASE_URL).concat(r),{cache:"no-store"}).then(function(t){return t.ok?t.text():Promise.reject()}).then(i)}})}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,c,i=[],l=!0,d=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=a.call(n)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(t){d=!0,r=t}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(){var t,e=(null===(t=document.querySelector(".search-bar"))||void 0===t?void 0:t.value.toLowerCase())||"";document.querySelectorAll(".folders li").forEach(function(t){var n=t.textContent.toLowerCase();t.style.display=n.includes(e)?"":"none"})}function d(t){document.documentElement.className="","default"!==t&&document.documentElement.classList.add("".concat(t,"-theme")),document.body.classList.remove("light-mode"),"undefined"!=typeof themeTypes&&"light"===themeTypes[t]&&document.body.classList.add("light-mode")}function u(){document.querySelectorAll("[data-generate-cert]").forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.generateCert;confirm("Generate a new SSL certificate for "+e+"?")&&fetch("".concat(window.BASE_URL,"utils/generate_cert.php?name=").concat(encodeURIComponent(e))).then(function(t){return t.text()}).then(function(t){if(alert(t),t.includes("successfully")){var e=document.getElementById("restart-apache");e&&e.click()}}).catch(function(){return alert("Failed to run cert script.")})})})}function s(){var t=document.getElementById("vhost-filter"),e=document.querySelectorAll("#vhosts-table tbody tr");t&&e.length&&t.addEventListener("change",function(){var n=t.value,o=0;e.forEach(function(t){var e=t.classList.contains("vhost-ssl"),r=t.classList.contains("cert-valid"),a=t.classList.contains("host-valid"),c=!0;"missing-cert"===n?c=!r:"missing-host"===n?c=!a:"ssl-only"===n?c=e:"non-ssl"===n&&(c=!e),t.style.display=c?"":"none",c&&o++});var r=document.getElementById("vhost-empty-msg");r&&(r.style.display=0===o?"":"none")})}function m(){document.addEventListener("click",function(t){if(t.target.matches(".open-folder")){var e=t.target.dataset.path.replace(/^"(.*)"$/,"$1");e&&fetch("".concat(window.BASE_URL,"utils/open_folder.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})})}})}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,c,i=[],l=!0,d=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=a.call(n)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(t){d=!0,r=t}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("restart-apache-button");t&&t.addEventListener("click",function(){return t="restart",void((e=document.getElementById("apache-status-message"))&&(e.innerText="Executing "+t+"...",fetch("".concat(window.BASE_URL,"utils/toggle_apache.php"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action="+encodeURIComponent(t)}).then(function(t){return t.text()}).then(function(t){try{var n=JSON.parse(t);e.innerText=n.message,"function"==typeof renderServerInfo&&renderServerInfo()}catch(n){console.error("Invalid JSON:",t),e.innerText="Error: Invalid server response"}}).catch(function(t){e.innerText="Error: "+t})));var t,e})}),document.addEventListener("DOMContentLoaded",function(){t(),setInterval(t,1e3)}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".columns");if(t){var r=["max-xs","max-sm","max-md","max-lg"],a=localStorage.getItem("columnSize");a&&r.includes(a)&&n(a);var c=document.getElementById("reset-width"),i=document.getElementById("prev-width"),l=document.getElementById("next-width");c&&c.addEventListener("click",function(){return n("auto")}),i&&i.addEventListener("click",function(){return o("prev",r)}),l&&l.addEventListener("click",function(){return o("next",r)});var d=JSON.parse(localStorage.getItem("columnOrder")||"[]");Array.isArray(d)&&d.length&&d.forEach(function(e){var n=document.getElementById(e);n&&n.classList.contains("column")&&!n.classList.contains("column-controls")&&t.appendChild(n)}),e(".columns",{items:".column:not(.column-controls)",handle:".drag-handle"}),t.addEventListener("sorted",function(){var e=Array.from(t.querySelectorAll(":scope > .column:not(.column-controls)")).map(function(t){return t.id}).filter(Boolean);localStorage.setItem("columnOrder",JSON.stringify(e))})}}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("dock-list"),n=document.getElementById("add-dock-item"),o=document.querySelector("#settings-view form");function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("li");n.className="dock-item",n.innerHTML='\n\t\t\t\t<input type="text" placeholder="Label" value="'.concat(e.label||"",'">\n\t\t\t\t<input type="text" placeholder="URL" value="').concat(e.url||"",'">\n\t\t\t\t<input type="text" placeholder="Icon" value="').concat(e.icon||"",'">\n\t\t\t\t<input type="text" placeholder="Alt Text" value="').concat(e.alt||"",'">\n\t\t\t\t<button type="button" class="remove-dock-item">‚ùå</button>\n\t\t\t'),t.appendChild(n),n.querySelector(".remove-dock-item").addEventListener("click",function(){n.remove(),a()}),Array.from(n.querySelectorAll("input")).forEach(function(t){t.addEventListener("input",a)})}function a(){var e=[];Array.from(t.children).forEach(function(t){var n=t.querySelectorAll("input");n.length<4||e.push({label:n[0].value.trim(),url:n[1].value.trim(),icon:n[2].value.trim(),alt:n[3].value.trim()})});var n=document.getElementById("dock_json_input");n&&(n.value=JSON.stringify(e,null,2))}t&&n&&o&&(fetch("".concat(window.BASE_URL,"utils/read_config.php?file=dock"),{cache:"no-store"}).then(function(t){return t.json()}).then(function(n){n.forEach(r),e("#dock-list"),t.addEventListener("sorted",a),a()}),n.addEventListener("click",function(){r(),e("#dock-list"),a()}))}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("folders-config-list"),n=document.getElementById("add-folder-column"),o=document.getElementById("folders_json_input");if(t&&n&&o){var r=[],c='<option value="">(none)</option>',l=!1,d=null;t.addEventListener("input",function(t){t.target.matches('input[type="text"], select')&&f()}),t.addEventListener("change",function(t){t.target.matches('select, input[type="checkbox"]')&&f()}),t.addEventListener("click",function(t){if(t.target.closest(".add-special")){var e,n=null===(e=t.target.closest(".folder-config-item"))||void 0===e?void 0:e.querySelector(".special-cases");n&&(n.insertAdjacentHTML("beforeend",u()),f())}if(t.target.closest(".remove-special")){var o=t.target.closest(".special-case");o&&(o.remove(),f())}if(t.target.closest(".remove-folder-column")){var r=t.target.closest(".folder-config-item");r&&(r.remove(),f())}}),t.addEventListener("sorted",function(){l=!0,p()}),Promise.all([fetch("".concat(window.BASE_URL,"utils/read_config.php?file=folders"),{cache:"no-store"}).then(function(t){return t.json()}).catch(function(){return[]}),Array.isArray(window.LINK_TEMPLATES)?(r=window.LINK_TEMPLATES.map(function(t){return t&&"string"==typeof t.name?t.name.trim():""}).filter(Boolean),r=Array.from(new Set(r)),c='<option value="">(none)</option>'+r.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")}).join(""),Promise.resolve(r)):fetch("".concat(window.BASE_URL,"utils/read_config.php?file=link_templates"),{cache:"no-store"}).then(function(t){return t.json()}).then(function(t){return r=(Array.isArray(t)?t:[]).map(function(t){return t&&"string"==typeof t.name?t.name.trim():""}).filter(Boolean),r=Array.from(new Set(r)),c='<option value="">(none)</option>'+r.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")}).join(""),r}).catch(function(){return c='<option value="">(none)</option>',r=[]})]).then(function(n){var o,c,i,d=a(n,1)[0];e("#folders-config-list"),Array.isArray(d)&&d.length&&(o=d,c=document.createDocumentFragment(),(i=document.createElement("div")).innerHTML=o.map(s).join(""),Array.from(i.children).forEach(function(t){return c.appendChild(t)}),t.appendChild(c),t.querySelectorAll(".folder-config-item").forEach(function(t){var e=t.querySelector(".link-template-select");if(e){var n,a=(null===(n=t.querySelector('input[data-key="title"]'))||void 0===n?void 0:n.value)||"",c=o.find(function(t){return(t.title||"")===a}),i=(null==c?void 0:c.linkTemplate)||"";i&&(e.value=i),e.disabled=0===r.length}})),0===t.children.length&&m({}),l=!0,p()}),n.addEventListener("click",function(){m({})})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.match||"",n=t.replace||"";return'\n\t\t\t\t<div class="special-case">\n\t\t\t\t\t<input type="text" class="sc-match" placeholder="Match Regex" value="'.concat(e,'">\n\t\t\t\t\t<input type="text" class="sc-replace" placeholder="Replace Regex" value="').concat(n,'">\n\t\t\t\t\t<button type="button" class="remove-special">‚úñ</button>\n\t\t\t\t</div>\n\t\t\t')}function s(){var t,e,n,o,r,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(r=l.specialCases,r&&"object"===i(r)&&!Array.isArray(r)?Object.entries(r).map(function(t){var e=a(t,2),n=e[0],o=e[1];return{match:String(null!=n?n:""),replace:String(null!=o?o:"")}}):[]).map(u).join("");return l.linkTemplate,'\n\t\t\t\t<li class="folder-config-item">\n\t\t\t\t\t<input type="text" data-key="title" placeholder="Title" value="'.concat(l.title||"",'">\n\t\t\t\t\t<input type="text" data-key="href" placeholder="Href (optional)" value="').concat(l.href||"",'">\n\t\t\t\t\t<input type="text" data-key="dir" placeholder="Dir (relative to HTDOCS_PATH)" value="').concat(l.dir||"",'">\n\t\t\t\t\t<input type="text" data-key="excludeList" placeholder="Exclude List (comma-separated)" value="').concat((l.excludeList||[]).join(","),'">\n\t\t\t\t\t<input type="text" data-key="match" placeholder="Match Regex" value="').concat(null!==(t=null===(e=l.urlRules)||void 0===e?void 0:e.match)&&void 0!==t?t:"",'">\n\t\t\t\t\t<input type="text" data-key="replace" placeholder="Replace Regex" value="').concat(null!==(n=null===(o=l.urlRules)||void 0===o?void 0:o.replace)&&void 0!==n?n:"",'">\n\t\t\t\t\t<label>Link Template:\n\t\t\t\t\t\t<select class="link-template-select" name="linkTemplate">').concat(c,'</select>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label><input type="checkbox" class="disable-links"').concat(l.disableLinks?" checked":"",'> Disable Links</label>\n\n\t\t\t\t\t<div class="special-cases-wrapper">\n\t\t\t\t\t\t<label>Special Cases:</label>\n\t\t\t\t\t\t<div class="special-cases">').concat(d,'</div>\n\t\t\t\t\t\t<button type="button" class="add-special">‚ûï Add Rule</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button type="button" class="remove-folder-column">‚ùå</button>\n\t\t\t\t</li>\n\t\t\t')}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("div");n.innerHTML=s(e);var o=n.firstElementChild;t.appendChild(o);var a=o.querySelector(".link-template-select");a&&(a.disabled=0===r.length,e.linkTemplate&&(a.value=e.linkTemplate)),f()}function f(){l=!0,d&&clearTimeout(d),d=setTimeout(p,120)}function p(){var e;d=null,l&&(o.value=JSON.stringify((e=[],t.querySelectorAll(".folder-config-item").forEach(function(t){var n,o,r,a,c,i,l,d,u=function(e){return t.querySelector(e)},s=(null===(n=u('input[data-key="title"]'))||void 0===n?void 0:n.value.trim())||"",m=(null===(o=u('input[data-key="href"]'))||void 0===o?void 0:o.value.trim())||"",f=(null===(r=u('input[data-key="dir"]'))||void 0===r?void 0:r.value.trim())||"",p=(null===(a=u('input[data-key="excludeList"]'))||void 0===a?void 0:a.value)||"",v=(null===(c=u('input[data-key="match"]'))||void 0===c?void 0:c.value)||"",h=(null===(i=u('input[data-key="replace"]'))||void 0===i?void 0:i.value)||"",g=(null===(l=t.querySelector(".link-template-select"))||void 0===l?void 0:l.value)||"",y=!(null===(d=t.querySelector(".disable-links"))||void 0===d||!d.checked),E=[];t.querySelectorAll(".special-case").forEach(function(t){var e,n,o=(null===(e=t.querySelector(".sc-match"))||void 0===e?void 0:e.value)||"",r=(null===(n=t.querySelector(".sc-replace"))||void 0===n?void 0:n.value)||"";(o.length||r.length)&&E.push({match:o,replace:r})});var L,S=(L={},E.forEach(function(t){var e=t.match,n=void 0===e?"":e,o=t.replace,r=void 0===o?"":o,a=String(n).trim(),c=String(r).trim();(a.length||c.length)&&(L[a]=c)}),L),b=p.split(",").map(function(t){return t.trim()}).filter(Boolean),x={title:s,href:m,dir:f,excludeList:b,urlRules:{match:v,replace:h},linkTemplate:g,disableLinks:y,specialCases:S};(s||m||f||b.length||v||h||g||y||Object.keys(S).length)&&e.push(x)}),e),null,2),l=!1)}}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("link-templates-list"),e=document.getElementById("add-link-template");function n(){var e=[];t.querySelectorAll(".template-item").forEach(function(t){var n,o,r=null===(n=t.querySelector(".template-name"))||void 0===n?void 0:n.value.trim(),a=null===(o=t.querySelector(".template-html"))||void 0===o?void 0:o.value.trim();r&&a&&e.push({name:r,html:a})});var n=document.getElementById("link_templates_json_input");n&&(n.value=JSON.stringify(e,null,2))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=document.createElement("li");o.className="template-item",o.innerHTML='\n        <input type="text" class="template-name" placeholder="Template Name" value="'.concat(e.name||"",'">\n        <input type="text" class="template-html" placeholder="HTML Template" value="').concat(e.html||"",'">\n        <button type="button" class="remove-template">‚ùå</button>\n      '),o.querySelector(".remove-template").addEventListener("click",function(){o.remove(),n()}),Array.from(o.querySelectorAll("input")).forEach(function(t){t.addEventListener("input",n)}),t.appendChild(o),n()}t&&e&&(e.addEventListener("click",function(){return o()}),t.innerHTML="",fetch("".concat(window.BASE_URL,"utils/read_config.php?file=link_templates"),{cache:"no-store"}).then(function(t){return t.json()}).then(function(t){t.forEach(o),n()}))}),r({sectionId:"apache-error-log-section",toggleButtonId:"toggle-apache-error-log",logElementId:"apache-error-log",endpoint:"utils/apache_error_log.php"}),r({sectionId:"php-error-log-section",toggleButtonId:"toggle-php-error-log",logElementId:"php-error-log",endpoint:"utils/php_error_log.php"}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".search-bar");t&&t.addEventListener("input",l)}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("clear-local-storage");t&&t.addEventListener("click",function(){if(confirm("Are you sure you want to reset saved UI settings?")){var t=["theme","columnOrder","columnSize"];Object.keys(localStorage).forEach(function(e){t.some(function(t){return e.startsWith(t)})&&localStorage.removeItem(e)}),alert("Saved settings have been cleared from local storage."),location.reload()}})}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".post-confirmation-container");t&&setTimeout(function(){t.style.transition="opacity 0.5s ease",t.style.opacity="0",setTimeout(function(){return t.remove()},500)},3e3)}),document.addEventListener("DOMContentLoaded",function(){var t=document.body;if(document.getElementById("system-monitor")&&"true"===t.getAttribute("data-ajax-enabled")){var e=document.getElementById("cpu-load"),n=document.getElementById("memory-usage"),o=document.getElementById("disk-space");fetch("".concat(window.BASE_URL,"utils/system_stats.php"),{cache:"no-store"}).then(function(t){if(t.ok)return t.json()}).then(function(t){e.textContent="".concat(t.cpu,"%"),n.textContent="".concat(t.memory," MB"),o.textContent="".concat(t.disk,"%"),setInterval(r,1e3),r()}).catch(function(){})}function r(){fetch("".concat(window.BASE_URL,"utils/system_stats.php"),{cache:"no-store"}).then(function(t){if(!t.ok)throw new Error("System stats unavailable");return t.json()}).then(function(t){e.textContent="".concat(t.cpu,"%"),n.textContent="".concat(t.memory," MB"),o.textContent="".concat(t.disk,"%")})}}),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("#theme-selector");if(t){var e=localStorage.getItem("theme")||serverTheme||"default";d(e),t.value=e,t.addEventListener("change",function(t){var e=t.target.value;d(e),localStorage.setItem("theme",e)})}}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){u(),s(),m()}):(u(),s(),m()),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".toggle-content-container").forEach(function(t,e){var n=t.querySelector(".toggle-accordion"),o=t.querySelector(".toggle-content");if(n&&o){var r=parseInt(o.dataset.collapsedHeight)||0,a=t.dataset.id||"accordion-"+e;"open"===localStorage.getItem("accordion_"+a)?(t.classList.add("open"),o.style.height=o.scrollHeight+"px",requestAnimationFrame(function(){o.style.height="auto"})):(t.classList.remove("open"),o.style.height=r+"px"),n.addEventListener("click",function(e){if(e.stopPropagation(),!function(t,e){return!!t.target.closest(e)}(e,".tooltip-icon")){var n=t.classList.toggle("open");if(localStorage.setItem("accordion_"+a,n?"open":"closed"),n){o.style.height=o.scrollHeight+"px";var c=function(){o.style.height="auto",o.removeEventListener("transitionend",c)};o.addEventListener("transitionend",c)}else o.style.height=o.scrollHeight+"px",o.offsetHeight,requestAnimationFrame(function(){o.style.height=r+"px"})}})}}),window.addEventListener("resize",function(){document.querySelectorAll(".toggle-content-container.open .toggle-content").forEach(function(t){"auto"!==t.style.height&&(t.style.height=t.scrollHeight+"px")})})}),document.addEventListener("DOMContentLoaded",function(){var t={index:document.getElementById("folders-view"),settings:document.getElementById("settings-view"),phpinfo:document.getElementById("phpinfo-view"),apache:document.getElementById("apache-view"),mysql:document.getElementById("mysql-view")},e={index:"index",settings:"settings",phpinfo:"phpinfo","apache-inspector":"apache","mysql-inspector":"mysql"};function n(){return new URLSearchParams(window.location.search).get("view")||"index"}function o(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e[n]||"index";if(Object.entries(t).forEach(function(t){var e=f(t,2),n=e[0],o=e[1];o&&o.classList.toggle("visible",n===r)}),"apache"===r||"mysql"===r){var a=t[r];if(!a.dataset.loaded){a.innerHTML='<div class="loader"><span class="spinner" role="img" aria-label="Loading"></span></div>';var c="utils/".concat(r,"_inspector.php");fetch("".concat(window.BASE_URL||"/").concat(c)).then(function(t){return t.text()}).then(function(t){a.innerHTML=t,a.dataset.loaded="true"}).catch(function(t){a.innerHTML='<p class="error">Failed to load '.concat(c,"</p>"),console.error("[view.js] Failed to fetch ".concat(c),t)})}}if(o){var i=window.BASE_URL||window.location.pathname,l="index"===r?"":"?view="+encodeURIComponent(n);history.pushState({},"",i+l)}}Object.entries({"toggle-index":"index","toggle-settings":"settings","toggle-phpinfo":"phpinfo","toggle-apache-inspector":"apache-inspector","toggle-mysql-inspector":"mysql-inspector"}).forEach(function(t){var e=f(t,2),n=e[0],r=e[1],a=document.getElementById(n);a&&a.addEventListener("click",function(t){t.preventDefault(),o(r,!0)})}),o(n()),window.addEventListener("popstate",function(){o(n())})})})();
//# sourceMappingURL=script.min.js.map