{"version":3,"file":"js/script.min.js","mappings":"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","sources":["webpack://pav-localhost/../../htdocs/assets/js/modules/clock.js","webpack://pav-localhost/../../htdocs/assets/js/modules/drag.js","webpack://pav-localhost/../../htdocs/assets/js/modules/columns.js","webpack://pav-localhost/../../htdocs/assets/js/modules/error.js","webpack://pav-localhost/../../htdocs/assets/js/modules/export.js","webpack://pav-localhost/../../htdocs/assets/js/modules/search.js","webpack://pav-localhost/../../htdocs/assets/js/modules/theme.js","webpack://pav-localhost/../../htdocs/assets/js/modules/vhosts.js","webpack://pav-localhost/../../htdocs/assets/js/modules/apache.js","webpack://pav-localhost/../../htdocs/assets/js/modules/dock.js","webpack://pav-localhost/../../htdocs/assets/js/modules/folders.js","webpack://pav-localhost/../../htdocs/assets/js/modules/linkTemplates.js","webpack://pav-localhost/../../htdocs/assets/js/modules/settings.js","webpack://pav-localhost/../../htdocs/assets/js/modules/system.js","webpack://pav-localhost/../../htdocs/assets/js/modules/view.js"],"sourcesContent":["// assets/js/modules/clock.js\nexport function initClock() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tupdateClock();\n\t\tsetInterval( updateClock, 1000 );\n\t} );\n}\n\nexport function updateClock() {\n\tconst clock = document.querySelector( '.clock' );\n\tif ( clock ) {\n\t\tconst now = new Date();\n\t\tclock.textContent = now.toLocaleTimeString( [], {\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\tsecond: '2-digit',\n\t\t\thour12: false\n\t\t} );\n\t}\n}\n","// assets/js/modules/drag.js\r\nexport function enableDragSort( listSelector, opts = {} ) {\r\n\tconst list = document.querySelector( listSelector );\r\n\tif ( !list ) return;\r\n\r\n\t// Prevent double-initialising the same list\r\n\tif ( list.dataset.sortBound === '1' ) return;\r\n\tlist.dataset.sortBound = '1';\r\n\r\n\tconst itemsSelector = opts.items || 'li';\r\n\tconst handleSelector = opts.handle || null;\r\n\r\n\tlet dragSrcEl = null;\r\n\r\n\tfunction isInteractive( el ) {\r\n\t\treturn !!el.closest( 'input, select, textarea, button, a, [contenteditable=\"\"], .no-drag' );\r\n\t}\r\n\r\n\t// Enable \"just-in-time\" draggable, but only if we’re on a valid item (and, if set, on its handle)\r\n\tlist.addEventListener( 'pointerdown', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\t\tif ( isInteractive( e.target ) ) return;\r\n\t\tif ( handleSelector && !e.target.closest( handleSelector ) ) return;\r\n\t\titem.draggable = true;\r\n\t}, {capture: true} );\r\n\r\n\tlist.addEventListener( 'dragstart', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\t\tdragSrcEl = item;\r\n\t\te.dataTransfer.effectAllowed = 'move';\r\n\t\ttry {\r\n\t\t\te.dataTransfer.setData( 'text/plain', '' );\r\n\t\t} catch ( _ ) {\r\n\t\t}\r\n\t\titem.classList.add( 'dragElem' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragenter', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\t\titem.classList.add( 'over' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragover', ( e ) => {\r\n\t\tif ( dragSrcEl ) e.preventDefault();\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragleave', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( item && list.contains( item ) ) {\r\n\t\t\titem.classList.remove( 'over' );\r\n\t\t}\r\n\t} );\r\n\r\n\tlist.addEventListener( 'drop', ( e ) => {\r\n\t\te.preventDefault();\r\n\t\tconst target = e.target.closest( itemsSelector );\r\n\t\tif ( !target || !dragSrcEl || target === dragSrcEl ) return;\r\n\r\n\t\tconst children = Array.from( list.querySelectorAll( `:scope > ${ itemsSelector }` ) );\r\n\t\tconst from = children.indexOf( dragSrcEl );\r\n\t\tconst to = children.indexOf( target );\r\n\r\n\t\tif ( from > -1 && to > -1 ) {\r\n\t\t\tif ( from < to ) {\r\n\t\t\t\ttarget.after( dragSrcEl );\r\n\t\t\t} else {\r\n\t\t\t\ttarget.before( dragSrcEl );\r\n\t\t\t}\r\n\t\t\tlist.dispatchEvent( new CustomEvent( 'sorted', {bubbles: true} ) );\r\n\t\t}\r\n\t\ttarget.classList.remove( 'over' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragend', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( item && list.contains( item ) ) {\r\n\t\t\titem.classList.remove( 'dragElem' );\r\n\t\t\titem.draggable = false; // return inputs to normal behaviour\r\n\t\t}\r\n\t\tArray.from( list.querySelectorAll( itemsSelector ) ).forEach( el => el.classList.remove( 'over' ) );\r\n\t\tdragSrcEl = null;\r\n\t} );\r\n}\r\n","// assets/js/modules/columns.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nexport function setColumnWidth( size ) {\r\n\tlocalStorage.setItem( 'columnSize', size );\r\n\tconst columnsDiv = document.querySelector( '.columns' );\r\n\tif ( !columnsDiv ) return;\r\n\r\n\tcolumnsDiv.classList.forEach( ( cls ) => {\r\n\t\tif ( cls.startsWith( 'max-' ) ) {\r\n\t\t\tcolumnsDiv.classList.remove( cls );\r\n\t\t}\r\n\t} );\r\n\r\n\tif ( size !== 'auto' ) {\r\n\t\tcolumnsDiv.classList.add( size );\r\n\t}\r\n}\r\n\r\nexport function cycleColumnWidth( direction, sizes ) {\r\n\tconst current = localStorage.getItem( 'columnSize' ) || 'auto';\r\n\tconst idx = sizes.indexOf( current );\r\n\tlet nextIdx = 0;\r\n\r\n\tif ( direction === 'next' ) {\r\n\t\tnextIdx = (idx + 1) % sizes.length;\r\n\t} else if ( direction === 'prev' ) {\r\n\t\tnextIdx = (idx - 1 + sizes.length) % sizes.length;\r\n\t}\r\n\r\n\tsetColumnWidth( sizes[nextIdx] );\r\n}\r\n\r\nexport function initColumnFeatures() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst container = document.querySelector( '.columns' );\r\n\t\tif ( !container ) return;\r\n\r\n\t\t// Restore saved width\r\n\t\tconst columnSizes = [ 'max-xs', 'max-sm', 'max-md', 'max-lg' ];\r\n\t\tconst savedSize = localStorage.getItem( 'columnSize' );\r\n\t\tif ( savedSize && columnSizes.includes( savedSize ) ) {\r\n\t\t\tsetColumnWidth( savedSize );\r\n\t\t}\r\n\r\n\t\t// Width controls\r\n\t\tconst resetBtn = document.getElementById( 'reset-width' );\r\n\t\tconst prevBtn = document.getElementById( 'prev-width' );\r\n\t\tconst nextBtn = document.getElementById( 'next-width' );\r\n\r\n\t\tif ( resetBtn ) {\r\n\t\t\tresetBtn.addEventListener( 'click', () => setColumnWidth( 'auto' ) );\r\n\t\t}\r\n\t\tif ( prevBtn ) {\r\n\t\t\tprevBtn.addEventListener( 'click', () => cycleColumnWidth( 'prev', columnSizes ) );\r\n\t\t}\r\n\t\tif ( nextBtn ) {\r\n\t\t\tnextBtn.addEventListener( 'click', () => cycleColumnWidth( 'next', columnSizes ) );\r\n\t\t}\r\n\r\n\t\t// Restore saved column order (IDs are the source of truth)\r\n\t\tconst savedOrder = JSON.parse( localStorage.getItem( 'columnOrder' ) || '[]' );\r\n\t\tif ( Array.isArray( savedOrder ) && savedOrder.length ) {\r\n\t\t\tsavedOrder.forEach( ( id ) => {\r\n\t\t\t\tconst col = document.getElementById( id );\r\n\t\t\t\t// skip control “column” rows if any; only reorder actual columns\r\n\t\t\t\tif ( col && col.classList.contains( 'column' ) && !col.classList.contains( 'column-controls' ) ) {\r\n\t\t\t\t\tcontainer.appendChild( col );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction saveOrder() {\r\n\t\t\tconst order = Array.from( container.querySelectorAll( ':scope > .column:not(.column-controls)' ) )\r\n\t\t\t\t.map( ( el ) => el.id )\r\n\t\t\t\t.filter( Boolean );\r\n\t\t\tlocalStorage.setItem( 'columnOrder', JSON.stringify( order ) );\r\n\t\t}\r\n\r\n\t\t// Hook into the shared drag util (same pattern as dock/folders)\r\n\t\tenableDragSort( '.columns', {\r\n\t\t\titems: '.column:not(.column-controls)',\r\n\t\t\thandle: '.drag-handle'\r\n\t\t} );\r\n\r\n\t\t// Persist whenever user reorders\r\n\t\tcontainer.addEventListener( 'sorted', saveOrder );\r\n\t} );\r\n}\r\n","// assets/js/modules/error.js\r\nfunction initGenericErrorLog( {\r\n\t                              sectionId,\r\n\t                              toggleButtonId,\r\n\t                              logElementId,\r\n\t                              endpoint\r\n                              } ) {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst body = document.body;\r\n\t\tconst logSection = document.getElementById( sectionId );\r\n\t\tif ( !logSection ) return;\r\n\r\n\t\tconst toggleBtn = document.getElementById( toggleButtonId );\r\n\t\tconst logElement = document.getElementById( logElementId );\r\n\r\n\t\tif ( !toggleBtn || !logElement ) return;\r\n\r\n\t\ttoggleBtn.addEventListener( 'click', function () {\r\n\t\t\tconst isVisible = logElement.classList.contains( 'visible' );\r\n\t\t\tlogElement.classList.toggle( 'visible', !isVisible );\r\n\t\t\tthis.setAttribute( 'aria-expanded', !isVisible );\r\n\t\t} );\r\n\r\n\t\tif ( body.getAttribute( 'data-ajax-enabled' ) !== 'true' ) return;\r\n\r\n\t\tfunction displayLogContent( data ) {\r\n\t\t\tconst isEmpty = data.trim() === '';\r\n\t\t\tlogElement.innerHTML = isEmpty\r\n\t\t\t\t? `<code class=\"muted\">No errors logged. You're doing great. 🎉</code>`\r\n\t\t\t\t: `<code>${ data }</code>`;\r\n\t\t}\r\n\r\n\t\tfunction fetchLog() {\r\n\t\t\tfetch( `${ window.BASE_URL }${ endpoint }`, {cache: 'no-store'} )\r\n\t\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\r\n\t\t\t\t.then( displayLogContent );\r\n\t\t}\r\n\r\n\t\tfetch( `${ window.BASE_URL }${ endpoint }`, {cache: 'no-store'} )\r\n\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tdisplayLogContent( data );\r\n\t\t\t\tsetInterval( fetchLog, 3000 );\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t} );\r\n\t} );\r\n}\r\n\r\n// Public wrappers — keeps main.js simple\r\nexport function initApacheErrorLog() {\r\n\tinitGenericErrorLog( {\r\n\t\tsectionId: 'apache-error-log-section',\r\n\t\ttoggleButtonId: 'toggle-apache-error-log',\r\n\t\tlogElementId: 'apache-error-log',\r\n\t\tendpoint: 'utils/apache_error_log.php'\r\n\t} );\r\n}\r\n\r\nexport function initPhpErrorLog() {\r\n\tinitGenericErrorLog( {\r\n\t\tsectionId: 'php-error-log-section',\r\n\t\ttoggleButtonId: 'toggle-php-error-log',\r\n\t\tlogElementId: 'php-error-log',\r\n\t\tendpoint: 'utils/php_error_log.php'\r\n\t} );\r\n}\r\n","// assets/js/modules/export.js\r\nexport function initExportModule() {\r\n\tif ( document.readyState === 'loading' ) {\r\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => setupExport() );\r\n\t} else {\r\n\t\tsetupExport();\r\n\t}\r\n}\r\n\r\nfunction setupExport() {\r\n\tconst groupEl = document.getElementById( 'export-group' );\r\n\tconst folderEl = document.getElementById( 'export-folder' );\r\n\tconst uploadsModeRow = document.getElementById( 'uploads-mode-row' );\r\n\r\n\tconst filesForm = document.getElementById( 'export-files-form' );\r\n\tconst filesStatus = document.getElementById( 'export-files-status' );\r\n\r\n\tconst dbForm = document.getElementById( 'export-db-form' );\r\n\tconst dbSelect = document.getElementById( 'export-db' );\r\n\tconst dbStatus = document.getElementById( 'export-db-status' );\r\n\r\n\tif ( !groupEl || !folderEl ) return;\r\n\r\n\tlet groups = [];\r\n\r\n\t// Helpers\r\n\tfunction refreshCsrf() {\r\n\t\treturn fetch( `${ window.BASE_URL }partials/export.php?action=token`, {credentials: 'same-origin'} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( d => {\r\n\t\t\t\tif ( d.ok && d.token ) {\r\n\t\t\t\t\tdocument.querySelectorAll( 'input[name=\"csrf\"]' ).forEach( el => {\r\n\t\t\t\t\t\tel.value = d.token;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t} );\r\n\t}\r\n\r\n\tfunction renderGroups( selectEl, data ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tdata.forEach( ( g ) => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = String( g.index );\r\n\t\t\topt.textContent = g.title;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderFolders( selectEl, subfolders ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !subfolders.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No subfolders found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsubfolders.forEach( sf => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = sf.name;\r\n\t\t\topt.textContent = sf.name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderDatabases( selectEl, dbs ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !dbs.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No databases found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdbs.forEach( name => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = name;\r\n\t\t\topt.textContent = name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\t// Initial loads\r\n\trefreshCsrf();\r\n\r\n\tfetch( `${ window.BASE_URL }partials/export.php?action=scan`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to scan folders' );\r\n\t\t\t}\r\n\r\n\t\t\tgroups = data.groups || [];\r\n\r\n\t\t\tif ( !groups.length ) {\r\n\t\t\t\t// Graceful empty state\r\n\t\t\t\tgroupEl.innerHTML = `<option value=\"\">No folders defined</option>`;\r\n\t\t\t\tgroupEl.disabled = true;\r\n\r\n\t\t\t\tfolderEl.innerHTML = `<option value=\"\">No subfolders</option>`;\r\n\t\t\t\tfolderEl.disabled = true;\r\n\r\n\t\t\t\tconst filesStatus = document.getElementById( 'export-files-status' );\r\n\t\t\t\tif ( filesStatus ) {\r\n\t\t\t\t\tfilesStatus.innerHTML = 'No folders defined. Add entries to <code>config/folders.json</code> to enable file exports.';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Hide media options just in case\r\n\t\t\t\tconst uploadsModeRow = document.getElementById( 'uploads-mode-row' );\r\n\t\t\t\tif ( uploadsModeRow ) uploadsModeRow.style.display = 'none';\r\n\r\n\t\t\t\treturn; // stop here\r\n\t\t\t}\r\n\r\n\t\t\trenderGroups( groupEl, groups );\r\n\t\t\tif ( groupEl.options.length ) {\r\n\t\t\t\tgroupEl.dispatchEvent( new Event( 'change' ) );\r\n\t\t\t}\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tgroupEl.innerHTML = `<option value=\"\">Error loading groups</option>`;\r\n\t\t\tgroupEl.disabled = true;\r\n\t\t\tfolderEl.innerHTML = `<option value=\"\">—</option>`;\r\n\t\t\tfolderEl.disabled = true;\r\n\t\t} );\r\n\r\n\tfetch( `${ window.BASE_URL }partials/export.php?action=dbs`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to list databases' );\r\n\t\t\t}\r\n\t\t\trenderDatabases( dbSelect, data.databases || [] );\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tdbSelect.innerHTML = `<option value=\"\">Error loading databases</option>`;\r\n\t\t} );\r\n\r\n\t// Events\r\n\tgroupEl.addEventListener( 'change', () => {\r\n\t\tconst idx = parseInt( groupEl.value, 10 );\r\n\t\tconst group = Number.isNaN( idx ) ? null : groups[idx];\r\n\r\n\t\t// Reset UI\r\n\t\tfolderEl.disabled = true;\r\n\t\tfolderEl.innerHTML = `<option value=\"\">Select a group first…</option>`;\r\n\t\tuploadsModeRow.style.display = 'none';\r\n\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\r\n\t\tif ( !group ) return;\r\n\r\n\t\trenderFolders( folderEl, group.subfolders );\r\n\t\tfolderEl.disabled = (group.subfolders.length === 0);\r\n\r\n\t\t// Auto-select first folder and trigger its change\r\n\t\tif ( group.subfolders.length > 0 ) {\r\n\t\t\tfolderEl.selectedIndex = 0;\r\n\t\t\tfolderEl.dispatchEvent( new Event( 'change' ) );\r\n\t\t}\r\n\t} );\r\n\r\n\tfolderEl.addEventListener( 'change', () => {\r\n\t\tconst gIdx = parseInt( groupEl.value, 10 );\r\n\t\tconst group = groups[gIdx];\r\n\t\tif ( !group ) return;\r\n\t\tconst sf = group.subfolders.find( s => s.name === folderEl.value );\r\n\t\tconst showUploads = !!(sf && sf.isWordPress && sf.hasUploads);\r\n\r\n\t\tuploadsModeRow.style.display = showUploads ? '' : 'none';\r\n\t\t// default to exclude on change\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\t} );\r\n\r\n\tfilesForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tfilesStatus.textContent = 'Preparing archive…';\r\n\r\n\t\tconst form = new FormData( filesForm );\r\n\t\tform.append( 'action', 'zip' ); // radios are included automatically\r\n\r\n\t\tfetch( `${ window.BASE_URL }partials/export.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) {\r\n\t\t\t\t\tthrow new Error( data.error || 'Export failed' );\r\n\t\t\t\t}\r\n\t\t\t\tfilesStatus.innerHTML = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tfilesStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n\r\n\tdbForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tdbStatus.textContent = 'Dumping database…';\r\n\r\n\t\tconst form = new FormData( dbForm );\r\n\t\tform.append( 'action', 'dumpdb' );\r\n\r\n\t\tfetch( `${ window.BASE_URL }partials/export.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) {\r\n\t\t\t\t\tthrow new Error( data.error || 'DB export failed' );\r\n\t\t\t\t}\r\n\t\t\t\tdbStatus.innerHTML = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tdbStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n}\r\n","// assets/js/modules/search.js\nexport function initSearch() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst searchBar = document.querySelector( '.search-bar' );\n\t\tif ( searchBar ) {\n\t\t\tsearchBar.addEventListener( 'input', searchProjects );\n\t\t}\n\t} );\n}\n\nexport function searchProjects() {\n\tconst input = document.querySelector( '.search-bar' )?.value.toLowerCase() || '';\n\tconst items = document.querySelectorAll( '.folders li' );\n\n\titems.forEach( item => {\n\t\tconst text = item.textContent.toLowerCase();\n\t\titem.style.display = text.includes( input ) ? '' : 'none';\n\t} );\n}\n","// assets/js/modules/theme.js\r\nexport function initThemeSwitcher() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst selector = document.querySelector( '#theme-selector' );\r\n\t\tif ( !selector ) return;\r\n\r\n\t\t// Use serverTheme first, then fallback to localStorage\r\n\t\tconst saved = localStorage.getItem( 'theme' ) || serverTheme || 'default';\r\n\t\tsetTheme( saved );\r\n\r\n\t\tselector.value = saved;\r\n\t\tselector.addEventListener( 'change', ( e ) => {\r\n\t\t\tconst selected = e.target.value;\r\n\t\t\tsetTheme( selected );\r\n\t\t\tlocalStorage.setItem( 'theme', selected );\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nfunction setTheme( theme ) {\r\n\tdocument.documentElement.className = '';\r\n\r\n\tif ( theme !== 'default' ) {\r\n\t\tdocument.documentElement.classList.add( `${ theme }-theme` );\r\n\t}\r\n\r\n\tdocument.body.classList.remove( 'light-mode' );\r\n\r\n\tif ( typeof themeTypes !== 'undefined' && themeTypes[theme] === 'light' ) {\r\n\t\tdocument.body.classList.add( 'light-mode' );\r\n\t}\r\n}\r\n","// assets/js/modules/vhosts.js\nexport function setupVhostCertButtons() {\n\tif ( document.readyState === 'loading' ) {\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\t\tbindButtons();\n\t\t\tsetupFiltering();\n\t\t\tsetupOpenFolder();\n\t\t} );\n\t} else {\n\t\tbindButtons();\n\t\tsetupFiltering();\n\t\tsetupOpenFolder();\n\t}\n}\n\nfunction bindButtons() {\n\tconst buttons = document.querySelectorAll( '[data-generate-cert]' );\n\n\tbuttons.forEach( button => {\n\t\tbutton.addEventListener( 'click', () => {\n\t\t\tconst name = button.dataset.generateCert;\n\t\t\tif ( confirm( 'Generate a new SSL certificate for ' + name + '?' ) ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/generate_cert.php?name=${ encodeURIComponent( name ) }` )\n\t\t\t\t\t.then( res => res.text() )\n\t\t\t\t\t.then( msg => {\n\t\t\t\t\t\talert( msg );\n\t\t\t\t\t\tif ( msg.includes( 'successfully' ) ) {\n\t\t\t\t\t\t\tconst restartBtn = document.getElementById( 'restart-apache' );\n\t\t\t\t\t\t\tif ( restartBtn ) restartBtn.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( () => alert( 'Failed to run cert script.' ) );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nfunction setupFiltering() {\n\tconst filter = document.getElementById( 'vhost-filter' );\n\tconst rows = document.querySelectorAll( '#vhosts-table tbody tr' );\n\n\tif ( !filter || !rows.length ) return;\n\n\tfilter.addEventListener( 'change', () => {\n\t\tconst value = filter.value;\n\t\tlet visibleCount = 0;\n\n\t\trows.forEach( row => {\n\t\t\tconst isSSL = row.classList.contains( 'vhost-ssl' );\n\t\t\tconst hasCert = row.classList.contains( 'cert-valid' );\n\t\t\tconst hasHost = row.classList.contains( 'host-valid' );\n\n\t\t\tlet show = true;\n\t\t\tif ( value === 'missing-cert' ) show = !hasCert;\n\t\t\telse if ( value === 'missing-host' ) show = !hasHost;\n\t\t\telse if ( value === 'ssl-only' ) show = isSSL;\n\t\t\telse if ( value === 'non-ssl' ) show = !isSSL;\n\n\t\t\trow.style.display = show ? '' : 'none';\n\t\t\tif ( show ) visibleCount++;\n\t\t} );\n\n\t\tconst emptyMsg = document.getElementById( 'vhost-empty-msg' );\n\t\tif ( emptyMsg ) {\n\t\t\temptyMsg.style.display = visibleCount === 0 ? '' : 'none';\n\t\t}\n\t} );\n}\n\nfunction setupOpenFolder() {\n\tdocument.addEventListener( 'click', e => {\n\t\tif ( e.target.matches( '.open-folder' ) ) {\n\t\t\tconst path = e.target.dataset.path.replace( /^\"(.*)\"$/, '$1' );\n\t\t\tif ( path ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/open_folder.php`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify( {path} )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n}\n","// assets/js/modules/apache.js\nexport function toggleApache( action ) {\n\tconst messageBox = document.getElementById( 'apache-status-message' );\n\tif ( !messageBox ) return;\n\tmessageBox.innerText = 'Executing ' + action + '...';\n\tfetch( `${ window.BASE_URL }utils/toggle_apache.php`, {\n\t\tmethod: 'POST',\n\t\theaders: {'Content-Type': 'application/x-www-form-urlencoded'},\n\t\tbody: 'action=' + encodeURIComponent( action )\n\t} )\n\t\t.then( response => response.text() )\n\t\t.then( text => {\n\t\t\ttry {\n\t\t\t\tconst data = JSON.parse( text );\n\t\t\t\tmessageBox.innerText = data.message;\n\t\t\t\tif ( typeof renderServerInfo === 'function' ) {\n\t\t\t\t\trenderServerInfo(); // Refresh Apache status\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.error( 'Invalid JSON:', text );\n\t\t\t\tmessageBox.innerText = 'Error: Invalid server response';\n\t\t\t}\n\t\t} )\n\t\t.catch( error => {\n\t\t\tmessageBox.innerText = 'Error: ' + error;\n\t\t} );\n}\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst btn = document.getElementById( 'restart-apache-button' );\n\tif ( btn ) {\n\t\tbtn.addEventListener( 'click', () => toggleApache( 'restart' ) );\n\t}\n} );\n","// assets/js/modules/dock.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nexport function initDockConfig() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst dockList = document.getElementById( 'dock-list' );\r\n\t\tconst addBtn = document.getElementById( 'add-dock-item' );\r\n\t\tconst form = document.querySelector( '#settings-view form' );\r\n\r\n\t\tif ( !dockList || !addBtn || !form ) return;\r\n\r\n\t\t// Load current config\r\n\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=dock`, {cache: 'no-store'} )\r\n\t\t\t.then( res => res.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tdata.forEach( addDockItem );\r\n\t\t\t\tenableDragSort( '#dock-list' );\r\n\r\n\t\t\t\t// When user reorders items, refresh hidden input\r\n\t\t\t\tdockList.addEventListener( 'sorted', updateInput );\r\n\t\t\t\tupdateInput();\r\n\t\t\t} );\r\n\r\n\t\taddBtn.addEventListener( 'click', () => {\r\n\t\t\taddDockItem();\r\n\t\t\t// enableDragSort is idempotent now; it will only bind to new child\r\n\t\t\tenableDragSort( '#dock-list' );\r\n\t\t\tupdateInput();\r\n\t\t} );\r\n\r\n\t\tfunction addDockItem( item = {} ) {\r\n\t\t\tconst li = document.createElement( 'li' );\r\n\t\t\tli.className = 'dock-item';\r\n\t\t\tli.innerHTML = `\r\n\t\t\t\t<input type=\"text\" placeholder=\"Label\" value=\"${ item.label || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"URL\" value=\"${ item.url || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"Icon\" value=\"${ item.icon || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"Alt Text\" value=\"${ item.alt || '' }\">\r\n\t\t\t\t<button type=\"button\" class=\"remove-dock-item\">❌</button>\r\n\t\t\t`;\r\n\t\t\tdockList.appendChild( li );\r\n\r\n\t\t\tli.querySelector( '.remove-dock-item' ).addEventListener( 'click', () => {\r\n\t\t\t\tli.remove();\r\n\t\t\t\tupdateInput();\r\n\t\t\t} );\r\n\r\n\t\t\tArray.from( li.querySelectorAll( 'input' ) ).forEach( ( input ) => {\r\n\t\t\t\tinput.addEventListener( 'input', updateInput );\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction updateInput() {\r\n\t\t\tconst dockItems = [];\r\n\t\t\tArray.from( dockList.children ).forEach( ( li ) => {\r\n\t\t\t\tconst inputs = li.querySelectorAll( 'input' );\r\n\t\t\t\tif ( inputs.length < 4 ) return;\r\n\t\t\t\tdockItems.push( {\r\n\t\t\t\t\tlabel: inputs[0].value.trim(),\r\n\t\t\t\t\turl: inputs[1].value.trim(),\r\n\t\t\t\t\ticon: inputs[2].value.trim(),\r\n\t\t\t\t\talt: inputs[3].value.trim()\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\tconst dockJsonInput = document.getElementById( 'dock_json_input' );\r\n\t\t\tif ( dockJsonInput ) {\r\n\t\t\t\tdockJsonInput.value = JSON.stringify( dockItems, null, 2 );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n}\r\n","// assets/js/modules/folders.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nexport function initFoldersConfig() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst list = document.getElementById( 'folders-config-list' );\r\n\t\tconst addBtn = document.getElementById( 'add-folder-column' );\r\n\t\tconst jsonInput = document.getElementById( 'folders_json_input' );\r\n\t\tif ( !list || !addBtn || !jsonInput ) return;\r\n\r\n\t\tlet linkTemplates = [];\r\n\t\tlet templateOptionsHtml = `<option value=\"\">(none)</option>`;\r\n\t\tlet dirty = false;\r\n\t\tlet debounceTimer = null;\r\n\r\n\t\t// helpers for specialCases (object map <-> rows)\r\n\r\n\t\tfunction mapToRows( scMap ) {\r\n\t\t\tif ( scMap && typeof scMap === 'object' && !Array.isArray( scMap ) ) {\r\n\t\t\t\treturn Object.entries( scMap ).map( ( [ match, replace ] ) => ({\r\n\t\t\t\t\tmatch: String( match ?? '' ),\r\n\t\t\t\t\treplace: String( replace ?? '' )\r\n\t\t\t\t}) );\r\n\t\t\t}\r\n\t\t\treturn []; // default if missing/invalid\r\n\t\t}\r\n\r\n\t\tfunction rowsToMap( rows ) {\r\n\t\t\tconst map = {};\r\n\t\t\trows.forEach( ( {match = '', replace = ''} ) => {\r\n\t\t\t\tconst m = String( match ).trim();\r\n\t\t\t\tconst r = String( replace ).trim();\r\n\t\t\t\tif ( m.length || r.length ) {\r\n\t\t\t\t\tmap[m] = r; // later duplicates overwrite earlier — deterministic\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn map;\r\n\t\t}\r\n\r\n\t\t// templates\r\n\r\n\t\tfunction fetchLinkTemplates() {\r\n\t\t\tif ( Array.isArray( window.LINK_TEMPLATES ) ) {\r\n\t\t\t\tlinkTemplates = window.LINK_TEMPLATES\r\n\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\r\n\t\t\t\t\t.filter( Boolean );\r\n\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\r\n\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\r\n\t\t\t\treturn Promise.resolve( linkTemplates );\r\n\t\t\t}\r\n\r\n\t\t\treturn fetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, {cache: 'no-store'} )\r\n\t\t\t\t.then( res => res.json() )\r\n\t\t\t\t.then( data => {\r\n\t\t\t\t\tlinkTemplates = (Array.isArray( data ) ? data : [])\r\n\t\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\r\n\t\t\t\t\t\t.filter( Boolean );\r\n\t\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\r\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\r\n\t\t\t\t\treturn linkTemplates;\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( () => {\r\n\t\t\t\t\tlinkTemplates = [];\r\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>`;\r\n\t\t\t\t\treturn linkTemplates;\r\n\t\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// rendering\r\n\r\n\t\tfunction specialCaseRowHtml( sc = {} ) {\r\n\t\t\tconst matchVal = sc.match || '';\r\n\t\t\tconst replaceVal = sc.replace || '';\r\n\t\t\treturn `\r\n\t\t\t\t<div class=\"special-case\">\r\n\t\t\t\t\t<input type=\"text\" class=\"sc-match\" placeholder=\"Match Regex\" value=\"${ matchVal }\">\r\n\t\t\t\t\t<input type=\"text\" class=\"sc-replace\" placeholder=\"Replace Regex\" value=\"${ replaceVal }\">\r\n\t\t\t\t\t<button type=\"button\" class=\"remove-special\">✖</button>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tfunction folderItemHtml( item = {} ) {\r\n\t\t\tconst casesHtml = mapToRows( item.specialCases ).map( specialCaseRowHtml ).join( '' );\r\n\t\t\tconst selected = item.linkTemplate || '';\r\n\r\n\t\t\treturn `\r\n\t\t\t\t<li class=\"folder-config-item\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"title\" placeholder=\"Title\" value=\"${ item.title || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"href\" placeholder=\"Href (optional)\" value=\"${ item.href || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"dir\" placeholder=\"Dir (relative to HTDOCS_PATH)\" value=\"${ item.dir || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"excludeList\" placeholder=\"Exclude List (comma-separated)\" value=\"${ (item.excludeList || []).join( ',' ) }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"match\" placeholder=\"Match Regex\" value=\"${ item.urlRules?.match ?? '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"replace\" placeholder=\"Replace Regex\" value=\"${ item.urlRules?.replace ?? '' }\">\r\n\t\t\t\t\t<label>Link Template:\r\n\t\t\t\t\t\t<select class=\"link-template-select\" name=\"linkTemplate\">${ templateOptionsHtml }</select>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label><input type=\"checkbox\" class=\"disable-links\"${ item.disableLinks ? ' checked' : '' }> Disable Links</label>\r\n\r\n\t\t\t\t\t<div class=\"special-cases-wrapper\">\r\n\t\t\t\t\t\t<label>Special Cases:</label>\r\n\t\t\t\t\t\t<div class=\"special-cases\">${ casesHtml }</div>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"add-special\">➕ Add Rule</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"remove-folder-column\">❌</button>\r\n\t\t\t\t</li>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tfunction appendFolderItems( items ) {\r\n\t\t\tconst frag = document.createDocumentFragment();\r\n\t\t\tconst tmp = document.createElement( 'div' );\r\n\t\t\ttmp.innerHTML = items.map( folderItemHtml ).join( '' );\r\n\t\t\tArray.from( tmp.children ).forEach( child => frag.appendChild( child ) );\r\n\t\t\tlist.appendChild( frag );\r\n\r\n\t\t\t// Apply select value + disable state\r\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\r\n\t\t\t\tconst select = li.querySelector( '.link-template-select' );\r\n\t\t\t\tif ( select ) {\r\n\t\t\t\t\t// Find the corresponding item by matching the title currently in the li\r\n\t\t\t\t\tconst titleInLi = li.querySelector( 'input[data-key=\"title\"]' )?.value || '';\r\n\t\t\t\t\tconst found = items.find( it => (it.title || '') === titleInLi );\r\n\t\t\t\t\tconst val = found?.linkTemplate || '';\r\n\t\t\t\t\tif ( val ) select.value = val;\r\n\t\t\t\t\tselect.disabled = linkTemplates.length === 0;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction addFolderItem( item = {} ) {\r\n\t\t\tconst tmp = document.createElement( 'div' );\r\n\t\t\ttmp.innerHTML = folderItemHtml( item );\r\n\t\t\tconst li = tmp.firstElementChild;\r\n\t\t\tlist.appendChild( li );\r\n\t\t\tconst select = li.querySelector( '.link-template-select' );\r\n\t\t\tif ( select ) {\r\n\t\t\t\tselect.disabled = linkTemplates.length === 0;\r\n\t\t\t\tif ( item.linkTemplate ) select.value = item.linkTemplate;\r\n\t\t\t}\r\n\t\t\tmarkDirty();\r\n\t\t}\r\n\r\n\t\t// updates\r\n\r\n\t\tfunction markDirty() {\r\n\t\t\tdirty = true;\r\n\t\t\tdebounceUpdate();\r\n\t\t}\r\n\r\n\t\tfunction debounceUpdate() {\r\n\t\t\tif ( debounceTimer ) clearTimeout( debounceTimer );\r\n\t\t\tdebounceTimer = setTimeout( updateInput, 120 );\r\n\t\t}\r\n\r\n\t\tfunction updateInput() {\r\n\t\t\tdebounceTimer = null;\r\n\t\t\tif ( !dirty ) return;\r\n\t\t\tjsonInput.value = JSON.stringify( serializeList(), null, 2 );\r\n\t\t\tdirty = false;\r\n\t\t}\r\n\r\n\t\tfunction serializeList() {\r\n\t\t\tconst items = [];\r\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\r\n\t\t\t\tconst get = ( sel ) => li.querySelector( sel );\r\n\r\n\t\t\t\tconst title = get( 'input[data-key=\"title\"]' )?.value.trim() || '';\r\n\t\t\t\tconst href = get( 'input[data-key=\"href\"]' )?.value.trim() || '';\r\n\t\t\t\tconst dir = get( 'input[data-key=\"dir\"]' )?.value.trim() || '';\r\n\t\t\t\tconst excludeStr = get( 'input[data-key=\"excludeList\"]' )?.value || '';\r\n\t\t\t\tconst match = get( 'input[data-key=\"match\"]' )?.value || '';\r\n\t\t\t\tconst replace = get( 'input[data-key=\"replace\"]' )?.value || '';\r\n\t\t\t\tconst linkTemplate = li.querySelector( '.link-template-select' )?.value || '';\r\n\t\t\t\tconst disableLinks = !!li.querySelector( '.disable-links' )?.checked;\r\n\r\n\t\t\t\t// Collect specialCases from rows and convert back to an object map\r\n\t\t\t\tconst scRows = [];\r\n\t\t\t\tli.querySelectorAll( '.special-case' ).forEach( row => {\r\n\t\t\t\t\tconst m = row.querySelector( '.sc-match' )?.value || '';\r\n\t\t\t\t\tconst r = row.querySelector( '.sc-replace' )?.value || '';\r\n\t\t\t\t\tif ( m.length || r.length ) scRows.push( {match: m, replace: r} );\r\n\t\t\t\t} );\r\n\t\t\t\tconst specialCases = rowsToMap( scRows );\r\n\r\n\t\t\t\tconst excludeList = excludeStr.split( ',' ).map( s => s.trim() ).filter( Boolean );\r\n\r\n\t\t\t\tconst record = {\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\thref,\r\n\t\t\t\t\tdir,\r\n\t\t\t\t\texcludeList,\r\n\t\t\t\t\turlRules: {match, replace},\r\n\t\t\t\t\tlinkTemplate,\r\n\t\t\t\t\tdisableLinks,\r\n\t\t\t\t\tspecialCases\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Skip fully empty rows\r\n\t\t\t\tconst hasValue =\r\n\t\t\t\t\ttitle || href || dir || excludeList.length || match || replace || linkTemplate || disableLinks || Object.keys( specialCases ).length;\r\n\t\t\t\tif ( hasValue ) items.push( record );\r\n\t\t\t} );\r\n\t\t\treturn items;\r\n\t\t}\r\n\r\n\t\t// delegated events\r\n\r\n\t\tlist.addEventListener( 'input', ( e ) => {\r\n\t\t\tif ( e.target.matches( 'input[type=\"text\"], select' ) ) {\r\n\t\t\t\tmarkDirty();\r\n\t\t\t}\r\n\t\t} );\r\n\t\tlist.addEventListener( 'change', ( e ) => {\r\n\t\t\tif ( e.target.matches( 'select, input[type=\"checkbox\"]' ) ) {\r\n\t\t\t\tmarkDirty();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tlist.addEventListener( 'click', ( e ) => {\r\n\t\t\tif ( e.target.closest( '.add-special' ) ) {\r\n\t\t\t\tconst wrap = e.target.closest( '.folder-config-item' )?.querySelector( '.special-cases' );\r\n\t\t\t\tif ( wrap ) {\r\n\t\t\t\t\twrap.insertAdjacentHTML( 'beforeend', specialCaseRowHtml() );\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( e.target.closest( '.remove-special' ) ) {\r\n\t\t\t\tconst row = e.target.closest( '.special-case' );\r\n\t\t\t\tif ( row ) {\r\n\t\t\t\t\trow.remove();\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( e.target.closest( '.remove-folder-column' ) ) {\r\n\t\t\t\tconst li = e.target.closest( '.folder-config-item' );\r\n\t\t\t\tif ( li ) {\r\n\t\t\t\t\tli.remove();\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tlist.addEventListener( 'sorted', () => {\r\n\t\t\tdirty = true;\r\n\t\t\tupdateInput(); // immediate update after reorder\r\n\t\t} );\r\n\r\n\t\t// init\r\n\r\n\t\tPromise.all( [\r\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=folders`, {cache: 'no-store'} ).then( r => r.json() ).catch( () => [] ),\r\n\t\t\tfetchLinkTemplates()\r\n\t\t] ).then( ( [ data ] ) => {\r\n\t\t\tenableDragSort( '#folders-config-list' );\r\n\t\t\tif ( Array.isArray( data ) && data.length ) {\r\n\t\t\t\tappendFolderItems( data );\r\n\t\t\t}\r\n\t\t\tif ( list.children.length === 0 ) addFolderItem( {} );\r\n\t\t\tdirty = true;\r\n\t\t\tupdateInput();\r\n\t\t} );\r\n\r\n\t\taddBtn.addEventListener( 'click', () => {\r\n\t\t\taddFolderItem( {} );\r\n\t\t} );\r\n\t} );\r\n}\r\n","// assets/js/modules/linkTemplates.js\nexport function initLinkTemplates() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst list = document.getElementById( 'link-templates-list' );\n\t\tconst addBtn = document.getElementById( 'add-link-template' );\n\t\tif ( !list || !addBtn ) return;\n\n\t\tfunction loadTemplatesFromFile() {\n\t\t\tlist.innerHTML = '';\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, {cache: 'no-store'} )\n\t\t\t\t.then( ( res ) => res.json() )\n\t\t\t\t.then( ( data ) => {\n\t\t\t\t\tdata.forEach( addTemplateItem );\n\t\t\t\t\tupdateHiddenInput();\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction updateHiddenInput() {\n\t\t\tconst templates = [];\n\t\t\tlist.querySelectorAll( '.template-item' ).forEach( item => {\n\t\t\t\tconst name = item.querySelector( '.template-name' )?.value.trim();\n\t\t\t\tconst html = item.querySelector( '.template-html' )?.value.trim();\n\t\t\t\tif ( name && html ) templates.push( {name, html} );\n\t\t\t} );\n\n\t\t\tconst hidden = document.getElementById( 'link_templates_json_input' );\n\t\t\tif ( hidden ) hidden.value = JSON.stringify( templates, null, 2 );\n\t\t}\n\n\t\tfunction addTemplateItem( data = {} ) {\n\t\t\tconst li = document.createElement( 'li' );\n\t\t\tli.className = 'template-item';\n\t\t\tli.innerHTML = `\n        <input type=\"text\" class=\"template-name\" placeholder=\"Template Name\" value=\"${ data.name || '' }\">\n        <input type=\"text\" class=\"template-html\" placeholder=\"HTML Template\" value=\"${ data.html || '' }\">\n        <button type=\"button\" class=\"remove-template\">❌</button>\n      `;\n\n\t\t\tli.querySelector( '.remove-template' ).addEventListener( 'click', () => {\n\t\t\t\tli.remove();\n\t\t\t\tupdateHiddenInput();\n\t\t\t} );\n\n\t\t\tArray.from( li.querySelectorAll( 'input' ) ).forEach( input => {\n\t\t\t\tinput.addEventListener( 'input', updateHiddenInput );\n\t\t\t} );\n\n\t\t\tlist.appendChild( li );\n\t\t\tupdateHiddenInput();\n\t\t}\n\n\t\taddBtn.addEventListener( 'click', () => addTemplateItem() );\n\n\t\t// Load templates from file on page load\n\t\tloadTemplatesFromFile();\n\t} );\n}\n","// assets/js/modules/settings.js\r\nexport function initClearStorageButton() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst clearBtn = document.getElementById( 'clear-local-storage' );\r\n\t\tif ( !clearBtn ) return;\r\n\r\n\t\tclearBtn.addEventListener( 'click', () => {\r\n\t\t\tif ( !confirm( \"Are you sure you want to reset saved UI settings?\" ) ) return;\r\n\r\n\t\t\tconst prefixesToRemove = [ 'theme', 'columnOrder', 'columnSize' ];\r\n\r\n\t\t\tObject.keys( localStorage ).forEach( ( key ) => {\r\n\t\t\t\tif ( prefixesToRemove.some( prefix => key.startsWith( prefix ) ) ) {\r\n\t\t\t\t\tlocalStorage.removeItem( key );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\talert( \"Saved settings have been cleared from local storage.\" );\r\n\t\t\tlocation.reload();\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nexport function autoHideConfirmationMessage() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst msg = document.querySelector( '.post-confirmation-container' );\r\n\t\tif ( !msg ) return;\r\n\r\n\t\tsetTimeout( () => {\r\n\t\t\tmsg.style.transition = 'opacity 0.5s ease';\r\n\t\t\tmsg.style.opacity = '0';\r\n\t\t\tsetTimeout( () => msg.remove(), 500 );\r\n\t\t}, 3000 );\r\n\t} );\r\n}\r\n","// assets/js/modules/system.js\nexport function initSystemMonitoring() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst body = document.body;\n\t\tconst systemStatsSection = document.getElementById( 'system-monitor' );\n\n\t\tif ( !systemStatsSection ) return;\n\n\t\tconst ajaxEnabled = body.getAttribute( 'data-ajax-enabled' ) === 'true';\n\t\tif ( !ajaxEnabled ) return;\n\n\t\tconst cpuElem = document.getElementById( 'cpu-load' );\n\t\tconst memElem = document.getElementById( 'memory-usage' );\n\t\tconst diskElem = document.getElementById( 'disk-space' );\n\n\t\tlet statsInterval;\n\n\t\tfunction fetchSystemStats() {\n\t\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t\t.then( response => {\n\t\t\t\t\tif ( !response.ok ) throw new Error( 'System stats unavailable' );\n\t\t\t\t\treturn response.json();\n\t\t\t\t} )\n\t\t\t\t.then( data => {\n\t\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction startMonitoring() {\n\t\t\tstatsInterval = setInterval( fetchSystemStats, 1000 );\n\t\t\tfetchSystemStats();\n\t\t}\n\n\t\t// Only begin polling once we know the backend is returning valid JSON\n\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t.then( response => {\n\t\t\t\tif ( !response.ok ) return;\n\t\t\t\treturn response.json();\n\t\t\t} )\n\t\t\t.then( data => {\n\t\t\t\t// First fetch succeeded — safe to start polling\n\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\tstartMonitoring();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\t// Do nothing — let next AJAX-enabled cycle pick it up silently\n\t\t\t} );\n\t} );\n}\n","// assets/js/modules/view.js\r\nexport function initToggleAccordion() {\r\n\t// Helper: force layout reflow to ensure transitions behave correctly (especially in Firefox)\r\n\tfunction forceReflow( element ) {\r\n\t\tvoid element.offsetHeight;\r\n\t}\r\n\r\n\t// Helper: check if the click happened inside a given selector\r\n\tfunction isClickInside( event, selector ) {\r\n\t\treturn !!event.target.closest( selector );\r\n\t}\r\n\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tdocument.querySelectorAll( '.toggle-content-container' ).forEach( ( container, index ) => {\r\n\t\t\tconst toggle = container.querySelector( '.toggle-accordion' );\r\n\t\t\tconst content = container.querySelector( '.toggle-content' );\r\n\t\t\tif ( !toggle || !content ) return;\r\n\r\n\t\t\tconst collapsedHeight = parseInt( content.dataset.collapsedHeight ) || 0;\r\n\t\t\tconst accordionId = container.dataset.id || 'accordion-' + index;\r\n\r\n\t\t\t// Restore state from localStorage\r\n\t\t\tconst savedState = localStorage.getItem( 'accordion_' + accordionId );\r\n\t\t\tif ( savedState === 'open' ) {\r\n\t\t\t\tcontainer.classList.add( 'open' );\r\n\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\trequestAnimationFrame( () => {\r\n\t\t\t\t\tcontent.style.height = 'auto';\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tcontainer.classList.remove( 'open' );\r\n\t\t\t\tcontent.style.height = collapsedHeight + 'px';\r\n\t\t\t}\r\n\r\n\t\t\t// Toggle click\r\n\t\t\ttoggle.addEventListener( 'click', ( event ) => {\r\n\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t// Prevent toggling if clicking inside .tooltip-icon\r\n\t\t\t\tif ( isClickInside( event, '.tooltip-icon' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst isOpen = container.classList.toggle( 'open' );\r\n\t\t\t\tlocalStorage.setItem( 'accordion_' + accordionId, isOpen ? 'open' : 'closed' );\r\n\r\n\t\t\t\tif ( isOpen ) {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t\tconst onTransitionEnd = () => {\r\n\t\t\t\t\t\tcontent.style.height = 'auto';\r\n\t\t\t\t\t\tcontent.removeEventListener( 'transitionend', onTransitionEnd );\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcontent.addEventListener( 'transitionend', onTransitionEnd );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t\tforceReflow( content ); // Ensure Firefox animates the collapse properly\r\n\t\t\t\t\trequestAnimationFrame( () => {\r\n\t\t\t\t\t\tcontent.style.height = collapsedHeight + 'px';\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n\t\t// Recalculate heights on window resize\r\n\t\twindow.addEventListener( 'resize', () => {\r\n\t\t\tdocument.querySelectorAll( '.toggle-content-container.open .toggle-content' ).forEach( ( content ) => {\r\n\t\t\t\tif ( content.style.height !== 'auto' ) {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nexport function initViewToggles() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst views = {\r\n\t\t\t'index': document.getElementById( 'folders-view' ),\r\n\t\t\t'settings': document.getElementById( 'settings-view' ),\r\n\t\t\t'phpinfo': document.getElementById( 'phpinfo-view' ),\r\n\t\t\t'apache': document.getElementById( 'apache-view' ),\r\n\t\t\t'mysql': document.getElementById( 'mysql-view' ),\r\n\t\t};\r\n\r\n\t\tconst pathMap = {\r\n\t\t\t'index': 'index',\r\n\t\t\t'settings': 'settings',\r\n\t\t\t'phpinfo': 'phpinfo',\r\n\t\t\t'apache-inspector': 'apache',\r\n\t\t\t'mysql-inspector': 'mysql',\r\n\t\t};\r\n\r\n\t\tconst toggleMap = {\r\n\t\t\t'toggle-index': 'index',\r\n\t\t\t'toggle-settings': 'settings',\r\n\t\t\t'toggle-phpinfo': 'phpinfo',\r\n\t\t\t'toggle-apache-inspector': 'apache-inspector',\r\n\t\t\t'toggle-mysql-inspector': 'mysql-inspector',\r\n\t\t};\r\n\r\n\t\tfunction getCurrentRoute() {\r\n\t\t\tconst params = new URLSearchParams( window.location.search );\r\n\t\t\treturn params.get( 'view' ) || 'index';\r\n\t\t}\r\n\r\n\t\tfunction showView( routeKey, push = false ) {\r\n\t\t\tconst key = pathMap[routeKey] || 'index';\r\n\r\n\t\t\tObject.entries( views ).forEach( ( [ k, el ] ) => {\r\n\t\t\t\tif ( el ) el.classList.toggle( 'visible', k === key );\r\n\t\t\t} );\r\n\r\n\t\t\t// Lazy load for Apache and MySQL views\r\n\t\t\tif ( key === 'apache' || key === 'mysql' ) {\r\n\t\t\t\tconst target = views[key];\r\n\t\t\t\tif ( !target.dataset.loaded ) {\r\n\t\t\t\t\t// To use a spinning emoji, add the class \"emoji\" to \"loader\" and insert your emoji within the <span>\r\n\t\t\t\t\ttarget.innerHTML = '<div class=\"loader\"><span class=\"spinner\" role=\"img\" aria-label=\"Loading\"></span></div>';\r\n\t\t\t\t\tconst url = `utils/${ key }_inspector.php`;\r\n\r\n\t\t\t\t\tfetch( `${ window.BASE_URL || '/' }${ url }` )\r\n\t\t\t\t\t\t.then( res => res.text() )\r\n\t\t\t\t\t\t.then( html => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = html;\r\n\t\t\t\t\t\t\ttarget.dataset.loaded = 'true';\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t.catch( err => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = `<p class=\"error\">Failed to load ${ url }</p>`;\r\n\t\t\t\t\t\t\tconsole.error( `[view.js] Failed to fetch ${ url }`, err );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( push ) {\r\n\t\t\t\tconst base = window.BASE_URL || window.location.pathname;\r\n\t\t\t\tconst param = key === 'index' ? '' : '?view=' + encodeURIComponent( routeKey );\r\n\t\t\t\thistory.pushState( {}, '', base + param );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Attach toggle click handlers\r\n\t\tObject.entries( toggleMap ).forEach( ( [ toggleId, routeKey ] ) => {\r\n\t\t\tconst toggle = document.getElementById( toggleId );\r\n\t\t\tif ( toggle ) {\r\n\t\t\t\ttoggle.addEventListener( 'click', ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tshowView( routeKey, true );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\t// Initial load\r\n\t\tshowView( getCurrentRoute() );\r\n\r\n\t\t// Back/forward navigation\r\n\t\twindow.addEventListener( 'popstate', () => {\r\n\t\t\tshowView( getCurrentRoute() );\r\n\t\t} );\r\n\t} );\r\n}\r\n"],"names":["updateClock","clock","document","querySelector","now","Date","textContent","toLocaleTimeString","hour","minute","second","hour12","enableDragSort","listSelector","opts","list","dataset","sortBound","itemsSelector","items","handleSelector","handle","dragSrcEl","addEventListener","e","item","target","closest","contains","draggable","capture","dataTransfer","effectAllowed","setData","_","classList","add","preventDefault","remove","children","Array","from","querySelectorAll","indexOf","to","after","before","dispatchEvent","CustomEvent","bubbles","forEach","el","setColumnWidth","size","localStorage","setItem","columnsDiv","cls","startsWith","cycleColumnWidth","direction","sizes","current","getItem","idx","nextIdx","length","initGenericErrorLog","sectionId","toggleButtonId","logElementId","endpoint","body","getElementById","toggleBtn","logElement","displayLogContent","data","isEmpty","trim","innerHTML","fetchLog","fetch","window","BASE_URL","cache","then","res","ok","text","Promise","reject","isVisible","toggle","this","setAttribute","getAttribute","setInterval","catch","setupExport","groupEl","folderEl","uploadsModeRow","filesForm","filesStatus","dbForm","dbSelect","dbStatus","groups","refreshCsrf","credentials","r","json","d","token","value","Error","error","disabled","style","display","selectEl","g","opt","createElement","String","index","title","appendChild","renderGroups","options","Event","err","console","dbs","databases","name","parseInt","group","Number","isNaN","def","subfolders","checked","sf","selectedIndex","gIdx","find","s","showUploads","isWordPress","hasUploads","form","FormData","append","method","href","location","message","searchProjects","input","toLowerCase","includes","setTheme","theme","documentElement","className","themeTypes","bindButtons","button","generateCert","confirm","encodeURIComponent","msg","alert","restartBtn","click","setupFiltering","filter","rows","visibleCount","row","isSSL","hasCert","hasHost","show","emptyMsg","setupOpenFolder","matches","path","replace","headers","JSON","stringify","btn","action","messageBox","innerText","response","parse","renderServerInfo","toggleApache","container","columnSizes","savedSize","resetBtn","prevBtn","nextBtn","savedOrder","isArray","id","col","order","map","Boolean","dockList","addBtn","addDockItem","li","label","url","icon","alt","updateInput","dockItems","inputs","push","dockJsonInput","jsonInput","linkTemplates","templateOptionsHtml","dirty","debounceTimer","specialCaseRowHtml","sc","match","folderItemHtml","casesHtml","scMap","specialCases","Object","entries","join","linkTemplate","dir","excludeList","urlRules","disableLinks","addFolderItem","tmp","firstElementChild","select","markDirty","clearTimeout","setTimeout","get","sel","excludeStr","scRows","m","rowsToMap","split","record","keys","serializeList","wrap","insertAdjacentHTML","all","LINK_TEMPLATES","t","Set","n","resolve","frag","createDocumentFragment","child","titleInLi","found","it","val","appendFolderItems","updateHiddenInput","templates","html","hidden","addTemplateItem","readyState","searchBar","clearBtn","prefixesToRemove","key","some","prefix","removeItem","reload","transition","opacity","cpuElem","memElem","diskElem","statsInterval","fetchSystemStats","cpu","memory","disk","selector","saved","serverTheme","selected","content","collapsedHeight","accordionId","height","scrollHeight","requestAnimationFrame","event","stopPropagation","isClickInside","isOpen","onTransitionEnd","removeEventListener","offsetHeight","views","pathMap","getCurrentRoute","URLSearchParams","search","showView","routeKey","k","loaded","base","pathname","param","history","pushState","toggleId"],"sourceRoot":""}