{"version":3,"file":"js/script.min.js","mappings":"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","sources":["webpack://AMPBoard/./assets/js/modules/clock.js","webpack://AMPBoard/./assets/js/modules/apache.js","webpack://AMPBoard/./assets/js/modules/drag.js","webpack://AMPBoard/./assets/js/modules/columns.js","webpack://AMPBoard/./assets/js/modules/error.js","webpack://AMPBoard/./assets/js/modules/export.js","webpack://AMPBoard/./assets/js/modules/htmlSyntaxEditor.js","webpack://AMPBoard/./assets/js/modules/search.js","webpack://AMPBoard/./assets/js/modules/settings.js","webpack://AMPBoard/./assets/js/modules/theme.js","webpack://AMPBoard/./assets/js/modules/vhosts.js","webpack://AMPBoard/./assets/js/modules/dock.js","webpack://AMPBoard/./assets/js/modules/folders.js","webpack://AMPBoard/./assets/js/modules/linkTemplates.js","webpack://AMPBoard/./assets/js/modules/system.js","webpack://AMPBoard/./assets/js/modules/accordion.js","webpack://AMPBoard/./assets/js/main.js","webpack://AMPBoard/./assets/js/modules/view.js"],"sourcesContent":["// assets/js/modules/clock.js\nexport function initClock() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tupdateClock();\n\t\tsetInterval( updateClock, 1000 );\n\t} );\n}\n\nexport function updateClock() {\n\tconst clock = document.querySelector( '.clock' );\n\tif ( clock ) {\n\t\tconst now = new Date();\n\t\tclock.textContent = now.toLocaleTimeString( [], {\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\tsecond: '2-digit',\n\t\t\thour12: false\n\t\t} );\n\t}\n}\n","// assets/js/modules/apache.js\nexport function toggleApache( action ) {\n\tconst messageBox = document.getElementById( 'apache-status-message' );\n\tif ( !messageBox ) return;\n\tmessageBox.innerText = 'Executing ' + action + '...';\n\tfetch( `${ window.BASE_URL }utils/toggle_apache.php`, {\n\t\tmethod: 'POST',\n\t\theaders: {'Content-Type': 'application/x-www-form-urlencoded'},\n\t\tbody: 'action=' + encodeURIComponent( action )\n\t} )\n\t\t.then( response => response.text() )\n\t\t.then( text => {\n\t\t\ttry {\n\t\t\t\tconst data = JSON.parse( text );\n\t\t\t\tmessageBox.innerText = data.message;\n\t\t\t\tif ( typeof renderServerInfo === 'function' ) {\n\t\t\t\t\trenderServerInfo(); // Refresh Apache status\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.error( 'Invalid JSON:', text );\n\t\t\t\tmessageBox.innerText = 'Error: Invalid server response';\n\t\t\t}\n\t\t} )\n\t\t.catch( error => {\n\t\t\tmessageBox.innerText = 'Error: ' + error;\n\t\t} );\n}\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst btn = document.getElementById( 'restart-apache-button' );\n\tif ( btn ) {\n\t\tbtn.addEventListener( 'click', () => toggleApache( 'restart' ) );\n\t}\n} );\n","// assets/js/modules/drag.js\r\nconst _initialisedLists = new WeakSet();\r\n\r\nexport function enableDragSort( listSelector, opts = {} ) {\r\n\tconst list = document.querySelector( listSelector );\r\n\tif ( !list ) return;\r\n\r\n\tif ( _initialisedLists.has( list ) ) return;\r\n\t_initialisedLists.add( list );\r\n\r\n\tconst itemsSelector = opts.items || 'li';\r\n\tconst handleSelector = opts.handle || null;\r\n\r\n\t// Configurable \"interactive\" rules\r\n\tconst interactiveSelector = opts.interactiveSelector || 'input, select, textarea, button, a, [contenteditable], .no-drag';\r\n\tconst allowInsideHandle = opts.allowInsideHandle || '[data-drag-allow]'; // whitelist inside handle\r\n\tconst allowHandleInteractive = opts.allowHandleInteractive ?? true; // allow whitelisted interactives inside handle\r\n\r\n\tlet dragSrcEl = null;\r\n\tlet dragging = false;\r\n\r\n\tfunction isInteractive( el ) {\r\n\t\treturn !!el.closest( interactiveSelector );\r\n\t}\r\n\r\n\tlist.addEventListener( 'pointerdown', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\r\n\t\tconst isHandleHit = handleSelector ? !!e.target.closest( handleSelector ) : true;\r\n\t\tif ( handleSelector && !isHandleHit ) return;\r\n\r\n\t\tconst interactiveHit = isInteractive( e.target );\r\n\r\n\t\t// If we hit an interactive elementâ€¦\r\n\t\tif ( interactiveHit ) {\r\n\t\t\t// â€¦but it's inside the handle and on the allowlist, let it start drag\r\n\t\t\tconst allowed = allowHandleInteractive && isHandleHit && e.target.closest( allowInsideHandle );\r\n\t\t\tif ( !allowed ) return;\r\n\t\t}\r\n\r\n\t\titem.draggable = true;\r\n\t}, {capture: true} );\r\n\r\n\tlist.addEventListener( 'dragstart', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\t\tdragSrcEl = item;\r\n\t\tdragging = true;\r\n\r\n\t\te.dataTransfer.effectAllowed = 'move';\r\n\t\ttry {\r\n\t\t\te.dataTransfer.setData( 'text/plain', '' );\r\n\t\t} catch ( _ ) {\r\n\t\t}\r\n\t\titem.classList.add( 'dragElem' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragenter', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( !item || !list.contains( item ) ) return;\r\n\t\titem.classList.add( 'over' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragover', ( e ) => {\r\n\t\tif ( dragSrcEl ) e.preventDefault();\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragleave', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( item && list.contains( item ) ) item.classList.remove( 'over' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'drop', ( e ) => {\r\n\t\te.preventDefault();\r\n\t\tconst target = e.target.closest( itemsSelector );\r\n\t\tif ( !target || !dragSrcEl || target === dragSrcEl ) return;\r\n\r\n\t\tconst children = Array.from( list.querySelectorAll( `:scope > ${ itemsSelector }` ) );\r\n\t\tconst from = children.indexOf( dragSrcEl );\r\n\t\tconst to = children.indexOf( target );\r\n\r\n\t\tif ( from > -1 && to > -1 ) {\r\n\t\t\tif ( from < to ) target.after( dragSrcEl );\r\n\t\t\telse target.before( dragSrcEl );\r\n\t\t\tlist.dispatchEvent( new CustomEvent( 'sorted', {bubbles: true} ) );\r\n\t\t}\r\n\t\ttarget.classList.remove( 'over' );\r\n\t} );\r\n\r\n\tlist.addEventListener( 'dragend', ( e ) => {\r\n\t\tconst item = e.target.closest( itemsSelector );\r\n\t\tif ( item && list.contains( item ) ) {\r\n\t\t\titem.classList.remove( 'dragElem' );\r\n\t\t\titem.draggable = false;\r\n\t\t}\r\n\t\tArray.from( list.querySelectorAll( itemsSelector ) ).forEach( el => el.classList.remove( 'over' ) );\r\n\t\tdragSrcEl = null;\r\n\t\tdragging = false;\r\n\t} );\r\n\r\n\t// Suppress accidental click activation after a drag\r\n\tlist.addEventListener( 'click', ( e ) => {\r\n\t\tif ( !dragging ) return;\r\n\t\tif ( handleSelector && e.target.closest( handleSelector ) ) e.preventDefault();\r\n\t}, true );\r\n}\r\n","// assets/js/modules/columns.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nconst WIDTH_SIZES = [ 'max-xs', 'max-sm', 'max-md', 'max-lg' ];\r\n\r\nfunction getWidthKey( el ) {\r\n\treturn el.dataset.widthKey || 'width_element';\r\n}\r\n\r\nfunction setWidthForElement( el, size ) {\r\n\tif ( !el ) return;\r\n\r\n\tconst storageKey = getWidthKey( el );\r\n\r\n\t// Always store the chosen size, even \"auto\"\r\n\tlocalStorage.setItem( storageKey, size );\r\n\r\n\t// Remove any existing max-* classes\r\n\tel.classList.forEach( ( cls ) => {\r\n\t\tif ( cls.startsWith( 'max-' ) ) {\r\n\t\t\tel.classList.remove( cls );\r\n\t\t}\r\n\t} );\r\n\r\n\t// Only add a class if not \"auto\"\r\n\tif ( size !== 'auto' ) {\r\n\t\tel.classList.add( size );\r\n\t} else {\r\n\t\t// Clear any inline max-width overrides\r\n\t\tel.style.maxWidth = '';\r\n\t}\r\n}\r\n\r\nfunction cycleWidthForElement( el, direction, sizes = WIDTH_SIZES ) {\r\n\tif ( !el ) return;\r\n\r\n\tconst storageKey = getWidthKey( el );\r\n\tconst current = localStorage.getItem( storageKey ) || 'auto';\r\n\tlet idx = sizes.indexOf( current );\r\n\tlet nextIdx;\r\n\r\n\t// If current is not in sizes (e.g. \"auto\"), start from an edge\r\n\tif ( idx === -1 ) {\r\n\t\tnextIdx = direction === 'prev'\r\n\t\t\t? sizes.length - 1 // go to the last size on prev\r\n\t\t\t: 0;               // go to the first size on next\r\n\t} else if ( direction === 'next' ) {\r\n\t\tnextIdx = (idx + 1) % sizes.length;\r\n\t} else if ( direction === 'prev' ) {\r\n\t\tnextIdx = (idx - 1 + sizes.length) % sizes.length;\r\n\t} else {\r\n\t\t// Unknown direction, bail\r\n\t\treturn;\r\n\t}\r\n\r\n\tsetWidthForElement( el, sizes[nextIdx] );\r\n}\r\n\r\nfunction resolveWidthTarget( target ) {\r\n\tif ( !target ) {\r\n\t\t// No implicit default: caller must pass a target or key\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif ( target instanceof HTMLElement ) {\r\n\t\treturn target;\r\n\t}\r\n\r\n\tif ( typeof target === 'string' ) {\r\n\t\t// First try by data-width-key\r\n\t\tconst byKey = document.querySelector( `.width-resizable[data-width-key=\"${ target }\"]` );\r\n\t\tif ( byKey ) return byKey;\r\n\r\n\t\t// Fallback: treat as selector\r\n\t\treturn document.querySelector( target );\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\n// Public API: still named for backwards compatibility\r\nexport function setColumnWidth( size, target ) {\r\n\tconst el = resolveWidthTarget( target );\r\n\tsetWidthForElement( el, size );\r\n}\r\n\r\nexport function cycleColumnWidth( direction, sizes = WIDTH_SIZES, target ) {\r\n\tconst el = resolveWidthTarget( target );\r\n\tcycleWidthForElement( el, direction, sizes );\r\n}\r\n\r\nexport function initColumnFeatures() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\t// Find all resizable elements\r\n\t\tconst resizables = document.querySelectorAll( '.width-resizable' );\r\n\r\n\t\t// Restore widths for each element\r\n\t\tresizables.forEach( ( el ) => {\r\n\t\t\tconst storageKey = getWidthKey( el );\r\n\t\t\tconst savedSize = localStorage.getItem( storageKey );\r\n\r\n\t\t\t// only apply stored sizes if it's a known max-* value\r\n\t\t\tif ( savedSize && WIDTH_SIZES.includes( savedSize ) ) {\r\n\t\t\t\tsetWidthForElement( el, savedSize );\r\n\t\t\t}\r\n\t\t\t// else: either \"auto\" or nothing, so do nothing\r\n\t\t} );\r\n\r\n\t\t// Wire up all control groups\r\n\t\tconst controlGroups = document.querySelectorAll( '.width-controls' );\r\n\r\n\t\tcontrolGroups.forEach( ( controls ) => {\r\n\t\t\tconst key = controls.dataset.widthFor;\r\n\t\t\tif ( !key ) return;\r\n\r\n\t\t\tconst target = document.querySelector( `.width-resizable[data-width-key=\"${ key }\"]` );\r\n\t\t\tif ( !target ) return;\r\n\r\n\t\t\tconst resetBtn = controls.querySelector( '[data-action=\"reset\"]' );\r\n\t\t\tconst prevBtn = controls.querySelector( '[data-action=\"decrease\"]' );\r\n\t\t\tconst nextBtn = controls.querySelector( '[data-action=\"increase\"]' );\r\n\r\n\t\t\tif ( resetBtn ) {\r\n\t\t\t\tresetBtn.addEventListener( 'click', () => {\r\n\t\t\t\t\tsetWidthForElement( target, 'auto' );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( prevBtn ) {\r\n\t\t\t\tprevBtn.addEventListener( 'click', () => {\r\n\t\t\t\t\tcycleWidthForElement( target, 'prev', WIDTH_SIZES );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( nextBtn ) {\r\n\t\t\t\tnextBtn.addEventListener( 'click', () => {\r\n\t\t\t\t\tcycleWidthForElement( target, 'next', WIDTH_SIZES );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tconst container = document.querySelector( '.columns' );\r\n\t\tif ( container ) {\r\n\t\t\tconst savedOrder = JSON.parse( localStorage.getItem( 'columnOrder' ) || '[]' );\r\n\t\t\tif ( Array.isArray( savedOrder ) && savedOrder.length ) {\r\n\t\t\t\tsavedOrder.forEach( ( id ) => {\r\n\t\t\t\t\tconst col = document.getElementById( id );\r\n\t\t\t\t\tif ( col && col.classList.contains( 'column' ) && !col.classList.contains( 'column-controls' ) ) {\r\n\t\t\t\t\t\tcontainer.appendChild( col );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tfunction saveOrder() {\r\n\t\t\t\tconst order = Array\r\n\t\t\t\t\t.from( container.querySelectorAll( ':scope > .column:not(.column-controls)' ) )\r\n\t\t\t\t\t.map( ( el ) => el.id )\r\n\t\t\t\t\t.filter( Boolean );\r\n\r\n\t\t\t\tlocalStorage.setItem( 'columnOrder', JSON.stringify( order ) );\r\n\t\t\t}\r\n\r\n\t\t\tenableDragSort( '.columns', {\r\n\t\t\t\titems: '.column:not(.column-controls)',\r\n\t\t\t\thandle: '.drag-handle'\r\n\t\t\t} );\r\n\r\n\t\t\tcontainer.addEventListener( 'sorted', saveOrder );\r\n\t\t}\r\n\t} );\r\n}\r\n","// assets/js/modules/error.js\r\nfunction initGenericErrorLog( {\r\n\t                              sectionId,\r\n\t                              toggleButtonId,\r\n\t                              logElementId,\r\n\t                              endpoint\r\n                              } ) {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst body = document.body;\r\n\t\tconst logSection = document.getElementById( sectionId );\r\n\t\tif ( !logSection ) return;\r\n\r\n\t\tconst toggleBtn = document.getElementById( toggleButtonId );\r\n\t\tconst logElement = document.getElementById( logElementId );\r\n\r\n\t\tif ( !toggleBtn || !logElement ) return;\r\n\r\n\t\ttoggleBtn.addEventListener( 'click', function () {\r\n\t\t\tconst isVisible = logElement.classList.contains( 'visible' );\r\n\t\t\tlogElement.classList.toggle( 'visible', !isVisible );\r\n\t\t\tthis.setAttribute( 'aria-expanded', !isVisible );\r\n\t\t} );\r\n\r\n\t\tif ( body.getAttribute( 'data-ajax-enabled' ) !== 'true' ) return;\r\n\r\n\t\tfunction displayLogContent( data ) {\r\n\t\t\tconst isEmpty = data.trim() === '';\r\n\t\t\tlogElement.innerHTML = isEmpty\r\n\t\t\t\t? `<code class=\"muted\">No errors logged. You're doing great. ðŸŽ‰</code>`\r\n\t\t\t\t: `<code>${ data }</code>`;\r\n\t\t}\r\n\r\n\t\tfunction fetchLog() {\r\n\t\t\tfetch( `${ window.BASE_URL }${ endpoint }`, {cache: 'no-store'} )\r\n\t\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\r\n\t\t\t\t.then( displayLogContent );\r\n\t\t}\r\n\r\n\t\tfetch( `${ window.BASE_URL }${ endpoint }`, {cache: 'no-store'} )\r\n\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tdisplayLogContent( data );\r\n\t\t\t\tsetInterval( fetchLog, 3000 );\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t} );\r\n\t} );\r\n}\r\n\r\n// Public wrappers â€” keeps main.js simple\r\nexport function initApacheErrorLog() {\r\n\tinitGenericErrorLog( {\r\n\t\tsectionId: 'apache-error-log-section',\r\n\t\ttoggleButtonId: 'toggle-apache-error-log',\r\n\t\tlogElementId: 'apache-error-log',\r\n\t\tendpoint: 'utils/apache_error_log.php'\r\n\t} );\r\n}\r\n\r\nexport function initPhpErrorLog() {\r\n\tinitGenericErrorLog( {\r\n\t\tsectionId: 'php-error-log-section',\r\n\t\ttoggleButtonId: 'toggle-php-error-log',\r\n\t\tlogElementId: 'php-error-log',\r\n\t\tendpoint: 'utils/php_error_log.php'\r\n\t} );\r\n}\r\n","// assets/js/modules/export.js\r\nexport function initExportModule() {\r\n\tif ( document.readyState === 'loading' ) {\r\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => setupExport() );\r\n\t} else {\r\n\t\tsetupExport();\r\n\t}\r\n}\r\n\r\nfunction setupExport() {\r\n\tconst groupEl = document.getElementById( 'export-group' );\r\n\tconst folderEl = document.getElementById( 'export-folder' );\r\n\tconst uploadsModeRow = document.getElementById( 'uploads-mode-row' );\r\n\r\n\tconst filesForm = document.getElementById( 'export-files-form' );\r\n\tconst filesStatus = document.getElementById( 'export-files-status' );\r\n\r\n\tconst dbForm = document.getElementById( 'export-db-form' );\r\n\tconst dbSelect = document.getElementById( 'export-db' );\r\n\tconst dbStatus = document.getElementById( 'export-db-status' );\r\n\r\n\tif ( !groupEl || !folderEl || !filesForm || !dbForm ) return;\r\n\r\n\tlet groups = [];\r\n\r\n\t// Helpers\r\n\tfunction refreshCsrf() {\r\n\t\treturn fetch( `${ window.BASE_URL }utils/export_files.php?action=token`, {credentials: 'same-origin'} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( d => {\r\n\t\t\t\tif ( d.ok && d.token ) {\r\n\t\t\t\t\tdocument.querySelectorAll( 'input[name=\"csrf\"]' ).forEach( el => {\r\n\t\t\t\t\t\tel.value = d.token;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t} );\r\n\t}\r\n\r\n\tfunction getArchiveEngine() {\r\n\t\tconst checked = document.querySelector( 'input[name=\"archiveEngine\"]:checked' );\r\n\t\treturn checked ? checked.value : 'php';\r\n\t}\r\n\r\n\tfunction renderGroups( selectEl, data ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tdata.forEach( ( g ) => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = String( g.index );\r\n\t\t\topt.textContent = g.title;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderFolders( selectEl, subfolders ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !subfolders.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No subfolders found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsubfolders.forEach( sf => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = sf.name;\r\n\t\t\topt.textContent = sf.name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderDatabases( selectEl, dbs ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !dbs.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No databases found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdbs.forEach( name => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = name;\r\n\t\t\topt.textContent = name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\t// Initial loads\r\n\trefreshCsrf();\r\n\r\n\tfetch( `${ window.BASE_URL }utils/export_files.php?action=scan`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to scan folders' );\r\n\t\t\t}\r\n\r\n\t\t\tgroups = data.groups || [];\r\n\r\n\t\t\tif ( !groups.length ) {\r\n\t\t\t\t// Graceful empty state\r\n\t\t\t\tgroupEl.innerHTML = `<option value=\"\">No folders defined</option>`;\r\n\t\t\t\tgroupEl.disabled = true;\r\n\r\n\t\t\t\tfolderEl.innerHTML = `<option value=\"\">No subfolders</option>`;\r\n\t\t\t\tfolderEl.disabled = true;\r\n\r\n\t\t\t\tif ( filesStatus ) {\r\n\t\t\t\t\tfilesStatus.innerHTML = 'No folders defined. Add entries to <code>config/folders.json</code> to enable file exports.';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( uploadsModeRow ) {\r\n\t\t\t\t\tuploadsModeRow.style.display = 'none';\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn; // stop here\r\n\t\t\t}\r\n\r\n\t\t\trenderGroups( groupEl, groups );\r\n\t\t\tif ( groupEl.options.length ) {\r\n\t\t\t\tgroupEl.dispatchEvent( new Event( 'change' ) );\r\n\t\t\t}\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tgroupEl.innerHTML = `<option value=\"\">Error loading groups</option>`;\r\n\t\t\tgroupEl.disabled = true;\r\n\t\t\tfolderEl.innerHTML = `<option value=\"\">â€”</option>`;\r\n\t\t\tfolderEl.disabled = true;\r\n\t\t} );\r\n\r\n\tfetch( `${ window.BASE_URL }utils/export_files.php?action=dbs`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to list databases' );\r\n\t\t\t}\r\n\t\t\trenderDatabases( dbSelect, data.databases || [] );\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tdbSelect.innerHTML = `<option value=\"\">Error loading databases</option>`;\r\n\t\t} );\r\n\r\n\t// Events\r\n\tgroupEl.addEventListener( 'change', () => {\r\n\t\tconst idx = parseInt( groupEl.value, 10 );\r\n\t\tconst group = Number.isNaN( idx ) ? null : groups[idx];\r\n\r\n\t\t// Reset UI\r\n\t\tfolderEl.disabled = true;\r\n\t\tfolderEl.innerHTML = `<option value=\"\">Select a group firstâ€¦</option>`;\r\n\t\tif ( uploadsModeRow ) {\r\n\t\t\tuploadsModeRow.style.display = 'none';\r\n\t\t}\r\n\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\r\n\t\tif ( !group ) return;\r\n\r\n\t\trenderFolders( folderEl, group.subfolders );\r\n\t\tfolderEl.disabled = (group.subfolders.length === 0);\r\n\r\n\t\t// Auto-select first folder and trigger its change\r\n\t\tif ( group.subfolders.length > 0 ) {\r\n\t\t\tfolderEl.selectedIndex = 0;\r\n\t\t\tfolderEl.dispatchEvent( new Event( 'change' ) );\r\n\t\t}\r\n\t} );\r\n\r\n\tfolderEl.addEventListener( 'change', () => {\r\n\t\tconst gIdx = parseInt( groupEl.value, 10 );\r\n\t\tconst group = Number.isNaN( gIdx ) ? null : groups[gIdx];\r\n\t\tif ( !group ) return;\r\n\r\n\t\tconst sf = group.subfolders.find( s => s.name === folderEl.value );\r\n\t\tconst showUploads = !!(sf && sf.isWordPress && sf.hasUploads);\r\n\r\n\t\tif ( uploadsModeRow ) {\r\n\t\t\tuploadsModeRow.style.display = showUploads ? '' : 'none';\r\n\t\t}\r\n\r\n\t\t// default to exclude on change\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\t} );\r\n\r\n\tfilesForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tfilesStatus.textContent = 'Preparing archiveâ€¦';\r\n\r\n\t\tconst form = new FormData( filesForm );\r\n\t\tform.append( 'action', 'zip' );\r\n\t\tform.append( 'engine', getArchiveEngine() ); // php | external\r\n\r\n\t\tfetch( `${ window.BASE_URL }utils/export_files.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) throw new Error( data.error || 'Export failed' );\r\n\r\n\t\t\t\tlet html = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\tif ( data.message ) {\r\n\t\t\t\t\thtml += `<br><small class=\"muted\">${ data.message }</small>`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfilesStatus.innerHTML = html;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tfilesStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n\r\n\tdbForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tdbStatus.textContent = 'Dumping databaseâ€¦';\r\n\r\n\t\tconst form = new FormData( dbForm );\r\n\t\tform.append( 'action', 'dumpdb' );\r\n\t\tform.append( 'engine', getArchiveEngine() ); // php | external\r\n\r\n\t\tfetch( `${ window.BASE_URL }utils/export_files.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) {\r\n\t\t\t\t\tthrow new Error( data.error || 'DB export failed' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet html = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\tif ( data.message ) {\r\n\t\t\t\t\thtml += `<br><small class=\"muted\">${ data.message }</small>`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdbStatus.innerHTML = html;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tdbStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n}\r\n","// assets/js/modules/htmlSyntaxEditor.js\r\n\r\n/* Public API\r\n * ----------\r\n * import { attachHtmlEditor } from './htmlSyntaxEditor.js';\r\n *\r\n * const api = attachHtmlEditor( editorEl, {\r\n *   placeholder : 'HTML Template',\r\n *   onChange    : ( value ) => { /* value is plain text, ZWSP stripped * / },\r\n * });\r\n *\r\n * api.getValue();         // -> plain text (no ZWSP)\r\n * api.setValue( text );   // replace content (plain text)\r\n * api.destroy();          // remove listeners\r\n */\r\n\r\nexport function attachHtmlEditor( editor, opts = {} ) {\r\n\tconst PLACEHOLDER = opts.placeholder || 'HTML Template';\r\n\tlet lastText = '';\r\n\tlet renderScheduled = false;\r\n\tlet allowFocusEscape = false; // â† Esc sets this true to let Tab move focus\r\n\r\n\t// Set base attributes once\r\n\teditor.setAttribute( 'contenteditable', 'true' );\r\n\teditor.setAttribute( 'role', 'textbox' );\r\n\teditor.setAttribute( 'aria-multiline', 'true' );\r\n\teditor.setAttribute( 'aria-label', PLACEHOLDER );\r\n\teditor.setAttribute( 'aria-describedby', opts.describedBy || 'editor-instructions' );\r\n\teditor.setAttribute( 'placeholder', PLACEHOLDER );\r\n\teditor.setAttribute( 'spellcheck', 'false' );\r\n\teditor.setAttribute( 'autocomplete', 'off' );\r\n\teditor.setAttribute( 'autocapitalize', 'off' );\r\n\teditor.setAttribute( 'autocorrect', 'off' );\r\n\r\n\tfunction getPlainText() {\r\n\t\t// normalise NBSP, strip zero-width spaces\r\n\t\treturn editor.textContent.replace( /\\u200B/g, '' ).replace( /\\u00A0/g, ' ' );\r\n\t}\r\n\r\n\tfunction saveCaretPosition( element ) {\r\n\t\tconst sel = window.getSelection();\r\n\t\tif ( !sel.rangeCount ) return null;\r\n\t\tconst range = sel.getRangeAt( 0 );\r\n\t\tconst pre = range.cloneRange();\r\n\t\tpre.selectNodeContents( element );\r\n\t\tpre.setEnd( range.endContainer, range.endOffset );\r\n\t\tconst len = element.textContent.length;\r\n\t\treturn Math.min( pre.toString().length, len );\r\n\t}\r\n\r\n\tfunction restoreCaretPosition( element, position ) {\r\n\t\tconst sel = window.getSelection();\r\n\t\tconst range = document.createRange();\r\n\t\tlet current = 0;\r\n\t\tlet lastTextNode = null;\r\n\t\tconst walker = document.createTreeWalker( element, NodeFilter.SHOW_TEXT, null, false );\r\n\r\n\t\twhile ( walker.nextNode() ) {\r\n\t\t\tconst node = walker.currentNode;\r\n\t\t\tconst len = node.nodeValue.length;\r\n\t\t\tlastTextNode = node;\r\n\t\t\tif ( current + len >= position ) {\r\n\t\t\t\trange.setStart( node, position - current );\r\n\t\t\t\trange.collapse( true );\r\n\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\tsel.addRange( range );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcurrent += len;\r\n\t\t}\r\n\r\n\t\tif ( !lastTextNode ) {\r\n\t\t\tconst empty = document.createTextNode( '' );\r\n\t\t\telement.appendChild( empty );\r\n\t\t\tlastTextNode = empty;\r\n\t\t}\r\n\t\trange.setStart( lastTextNode, lastTextNode.nodeValue.length );\r\n\t\trange.collapse( true );\r\n\t\tsel.removeAllRanges();\r\n\t\tsel.addRange( range );\r\n\t}\r\n\r\n\tfunction highlightHTML( text ) {\r\n\t\tconst escaped = text\r\n\t\t\t.replace( /&/g, '&amp;' )\r\n\t\t\t.replace( /</g, '&lt;' )\r\n\t\t\t.replace( />/g, '&gt;' );\r\n\r\n\t\treturn escaped.replace( /&lt;\\/?[a-zA-Z][^&]*?&gt;/g, match => {\r\n\t\t\tlet inner = match.slice( 4, -4 ).trim();\r\n\t\t\tlet isClosing = false;\r\n\t\t\tlet selfClosing = false;\r\n\r\n\t\t\tif ( inner.startsWith( '/' ) ) {\r\n\t\t\t\tisClosing = true;\r\n\t\t\t\tinner = inner.slice( 1 ).trim();\r\n\t\t\t}\r\n\t\t\tif ( inner.endsWith( '/' ) ) {\r\n\t\t\t\tselfClosing = true;\r\n\t\t\t\tinner = inner.slice( 0, -1 ).trim();\r\n\t\t\t}\r\n\r\n\t\t\tconst firstSpace = inner.search( /\\s/ );\r\n\t\t\tconst tagName = (firstSpace === -1 ? inner : inner.slice( 0, firstSpace )).toLowerCase();\r\n\t\t\tlet rest = firstSpace === -1 ? '' : inner.slice( firstSpace ).trim();\r\n\r\n\t\t\trest = rest.replace(\r\n\t\t\t\t/([a-zA-Z_:][-a-zA-Z0-9_:.]*)\\s*(=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+))?/g,\r\n\t\t\t\t( _, name, eqPart ) => {\r\n\t\t\t\t\tif ( !name ) return _;\r\n\t\t\t\t\tif ( !eqPart ) return `<span class=\"attr\">${ name }</span>`;\r\n\t\t\t\t\tconst m = eqPart.match( /^=\\s*(?:\"([^\"]*)\"|'([^']*)'|([^\\s'\">=]+))/ );\r\n\t\t\t\t\tif ( !m ) return `<span class=\"attr\">${ name }</span>${ eqPart || '' }`;\r\n\r\n\t\t\t\t\tconst value = m[1] ?? m[2] ?? m[3] ?? '';\r\n\t\t\t\t\tconst quote = m[1] ? '\"' : (m[2] ? \"'\" : '');\r\n\r\n\t\t\t\t\treturn quote\r\n\t\t\t\t\t\t? `<span class=\"attr\">${ name }</span>=<span class=\"value\">${ quote }${ value }${ quote }</span>`\r\n\t\t\t\t\t\t: `<span class=\"attr\">${ name }</span>=<span class=\"value\">${ value }</span>`;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst open = `<span class=\"pun\">&lt;${ isClosing ? '/' : '' }</span>`;\r\n\t\t\tconst t = `<span class=\"tag\">${ tagName }</span>`;\r\n\t\t\tconst body = rest ? ` ${ rest }` : '';\r\n\t\t\tconst close = `<span class=\"pun\">${ selfClosing ? ' /' : '' }&gt;</span>`;\r\n\t\t\treturn `${ open }${ t }${ body }${ close }`;\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderHighlight() {\r\n\t\trenderScheduled = false;\r\n\r\n\t\tconst raw = getPlainText();\r\n\t\tif ( raw === lastText ) return;\r\n\r\n\t\tconst caretPos = saveCaretPosition( editor );\r\n\r\n\t\tlet html = raw;\r\n\t\t// Chromium collapses trailing \\n in editable <pre>\r\n\t\tif ( html.endsWith( '\\n' ) && !html.endsWith( '\\n\\u200B' ) ) {\r\n\t\t\thtml += '\\u200B';\r\n\t\t}\r\n\r\n\t\teditor.innerHTML = highlightHTML( html );\r\n\r\n\t\t// Re-assert placeholder attribute (innerHTML wipes it on some engines)\r\n\t\tif ( !editor.hasAttribute( 'placeholder' ) ) {\r\n\t\t\teditor.setAttribute( 'placeholder', PLACEHOLDER );\r\n\t\t}\r\n\r\n\t\t// Ensure a tail text node only when content exists\r\n\t\tif ( raw.length > 0 && (!editor.lastChild || editor.lastChild.nodeType !== Node.TEXT_NODE) ) {\r\n\t\t\teditor.appendChild( document.createTextNode( '' ) );\r\n\t\t}\r\n\r\n\t\tif ( caretPos != null ) restoreCaretPosition( editor, caretPos );\r\n\r\n\t\tlastText = raw;\r\n\t\topts.onChange && opts.onChange( raw );\r\n\t}\r\n\r\n\tfunction scheduleRender() {\r\n\t\tif ( !renderScheduled ) {\r\n\t\t\trenderScheduled = true;\r\n\t\t\trequestAnimationFrame( () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trenderHighlight();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\trenderScheduled = false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\t// PASTE as plain text\r\n\tfunction setTextAtCaret( text ) {\r\n\t\tconst plain = getPlainText();\r\n\t\tconst pos = saveCaretPosition( editor ) ?? plain.length;\r\n\t\tconst newText = plain.slice( 0, pos ) + text + plain.slice( pos );\r\n\t\teditor.textContent = newText;\r\n\t\trestoreCaretPosition( editor, pos + text.length );\r\n\t\tlastText = '';\r\n\t\trenderHighlight();\r\n\t}\r\n\r\n\t// Events\r\n\tfunction onBeforeInput( e ) {\r\n\t\tif ( e.inputType === 'insertFromPaste' && e.clipboardData ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst txt = e.clipboardData.getData( 'text/plain' ).replace( /\\r\\n?/g, '\\n' );\r\n\t\t\tsetTextAtCaret( txt );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onKeyDown( e ) {\r\n\t\t// ESC: next Tab should move focus out (donâ€™t indent)\r\n\t\tif ( e.key === 'Escape' ) {\r\n\t\t\tallowFocusEscape = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// TAB pressed after ESC: let the browser move focus (next/prev control)\r\n\t\tif ( e.key === 'Tab' && allowFocusEscape ) {\r\n\t\t\tallowFocusEscape = false; // consume the escape state\r\n\t\t\treturn; // no preventDefault â†’ native focus navigation\r\n\t\t}\r\n\r\n\t\t// TAB (indent / unindent) â€“ only when not escaping focus\r\n\t\tif ( e.key === 'Tab' ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst text = getPlainText();\r\n\t\t\tlet pos = saveCaretPosition( editor );\r\n\t\t\tlet newText = text;\r\n\r\n\t\t\tif ( e.shiftKey ) {\r\n\t\t\t\t// Unindent (quick heuristics for a single cursor)\r\n\t\t\t\tif ( text.slice( pos - 1, pos ) === '\\t' ) {\r\n\t\t\t\t\tnewText = text.slice( 0, pos - 1 ) + text.slice( pos );\r\n\t\t\t\t\tpos -= 1;\r\n\t\t\t\t} else if ( text.slice( pos - 2, pos ) === '  ' ) {\r\n\t\t\t\t\tnewText = text.slice( 0, pos - 2 ) + text.slice( pos );\r\n\t\t\t\t\tpos -= 2;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Indent\r\n\t\t\t\tnewText = text.slice( 0, pos ) + '\\t' + text.slice( pos );\r\n\t\t\t\tpos += 1;\r\n\t\t\t}\r\n\r\n\t\t\teditor.textContent = newText;\r\n\t\t\trestoreCaretPosition( editor, pos );\r\n\t\t\tlastText = '';\r\n\t\t\trenderHighlight();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// ENTER (manual newline + auto-indent)\r\n\t\tif ( e.key === 'Enter' && !e.shiftKey ) {\r\n\t\t\tconst plain = getPlainText();\r\n\t\t\tif ( plain.length === 0 ) return; // let browser insert first break\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet pos = saveCaretPosition( editor );\r\n\t\t\tconst before = plain.slice( 0, pos );\r\n\t\t\tconst lastLine = before.split( /\\r?\\n/ ).pop() || '';\r\n\t\t\tconst indent = (lastLine.match( /^[\\t ]+/ ) || [ '' ])[0];\r\n\r\n\t\t\tconst insert = '\\n' + indent;\r\n\t\t\tlet newText = plain.slice( 0, pos ) + insert + plain.slice( pos );\r\n\t\t\tlet newPos = pos + insert.length;\r\n\r\n\t\t\tif ( newText === plain ) {\r\n\t\t\t\tnewText = plain + insert;\r\n\t\t\t\tnewPos = plain.length + insert.length;\r\n\t\t\t}\r\n\r\n\t\t\teditor.textContent = newText;\r\n\t\t\teditor.focus();\r\n\t\t\trestoreCaretPosition( editor, newPos );\r\n\t\t\tlastText = '';\r\n\t\t\trenderHighlight();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onInput( e ) {\r\n\t\t// Normalise ghost empties after delete/cut (e.g. <div><br></div>)\r\n\t\tconst isWhitespaceOnly = /^[\\s\\u200B]*$/.test( editor.textContent );\r\n\t\tif ( isWhitespaceOnly && ((e.inputType || '').startsWith( 'delete' ) || e.inputType === 'deleteByCut') ) {\r\n\t\t\teditor.innerHTML = '';\r\n\t\t\tlastText = '';\r\n\t\t\topts.onChange && opts.onChange( '' );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\te.inputType === 'insertParagraph' ||\r\n\t\t\te.inputType === 'insertFromPaste' ||\r\n\t\t\te.inputType === 'insertFromDrop' ||\r\n\t\t\te.inputType === 'historyUndo' ||\r\n\t\t\te.inputType === 'historyRedo'\r\n\t\t) {\r\n\t\t\tlastText = '';\r\n\t\t\trenderHighlight();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tscheduleRender();\r\n\t}\r\n\r\n\tfunction onBlur() {\r\n\t\tallowFocusEscape = false; // leaving the editor cancels escape mode\r\n\t\trenderHighlight();\r\n\t}\r\n\r\n\t// Bind\r\n\teditor.addEventListener( 'beforeinput', onBeforeInput );\r\n\teditor.addEventListener( 'keydown', onKeyDown );\r\n\teditor.addEventListener( 'input', onInput );\r\n\teditor.addEventListener( 'blur', onBlur );\r\n\r\n\t// Initial paint\r\n\trenderHighlight();\r\n\r\n\treturn {\r\n\t\tgetValue() {\r\n\t\t\treturn getPlainText();\r\n\t\t},\r\n\t\tsetValue( text ) {\r\n\t\t\teditor.textContent = (text || '');\r\n\t\t\tlastText = '';\r\n\t\t\trenderHighlight();\r\n\t\t},\r\n\t\tdestroy() {\r\n\t\t\teditor.removeEventListener( 'beforeinput', onBeforeInput );\r\n\t\t\teditor.removeEventListener( 'keydown', onKeyDown );\r\n\t\t\teditor.removeEventListener( 'input', onInput );\r\n\t\t\teditor.removeEventListener( 'blur', onBlur );\r\n\t\t}\r\n\t};\r\n}\r\n","// assets/js/modules/search.js\nexport function initSearch() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst searchBar = document.querySelector( '.search-bar' );\n\t\tif ( searchBar ) {\n\t\t\tsearchBar.addEventListener( 'input', searchProjects );\n\t\t}\n\t} );\n}\n\nexport function searchProjects() {\n\tconst input = document.querySelector( '.search-bar' )?.value.toLowerCase() || '';\n\tconst items = document.querySelectorAll( '.folders li' );\n\n\titems.forEach( item => {\n\t\tconst text = item.textContent.toLowerCase();\n\t\titem.style.display = text.includes( input ) ? '' : 'none';\n\t} );\n}\n","// assets/js/modules/settings.js\r\nconst STORAGE_PREFIXES = [ 'theme', 'columnOrder', 'accordion_', 'width_' ];\r\n\r\nexport function initClearStorageButton() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst clearBtn = document.getElementById( 'clear-local-storage' );\r\n\t\tif ( !clearBtn ) return;\r\n\r\n\t\tclearBtn.addEventListener( 'click', () => {\r\n\t\t\tif ( !confirm( 'Are you sure you want to reset saved UI settings?' ) ) return;\r\n\r\n\t\t\tObject.keys( localStorage )\r\n\t\t\t\t.filter( key => STORAGE_PREFIXES.some( prefix => key.startsWith( prefix ) ) )\r\n\t\t\t\t.forEach( key => localStorage.removeItem( key ) );\r\n\r\n\t\t\talert( 'Saved settings have been cleared from local storage.' );\r\n\t\t\tlocation.reload();\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nexport function autoHideConfirmationMessage() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst msg = document.querySelector( '.post-confirmation-container' );\r\n\t\tif ( !msg ) return;\r\n\r\n\t\tsetTimeout( () => {\r\n\t\t\tmsg.style.transition = 'opacity 0.5s ease';\r\n\t\t\tmsg.style.opacity = '0';\r\n\t\t\tsetTimeout( () => msg.remove(), 500 );\r\n\t\t}, 3000 );\r\n\t} );\r\n}\r\n","// assets/js/modules/theme.js\r\nexport function initThemeSwitcher() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst selector = document.querySelector( '#theme-selector' );\r\n\t\tif ( !selector ) return;\r\n\r\n\t\t// Use serverTheme first, then fallback to default\r\n\t\tconst saved =\r\n\t\t\tlocalStorage.getItem( 'theme' ) ||\r\n\t\t\t(typeof serverTheme !== 'undefined' ? serverTheme : 'default');\r\n\r\n\t\tsetTheme( saved );\r\n\t\tselector.value = saved;\r\n\r\n\t\tselector.addEventListener( 'change', ( e ) => {\r\n\t\t\tconst selected = e.target.value;\r\n\t\t\tsetTheme( selected );\r\n\t\t\tlocalStorage.setItem( 'theme', selected );\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nfunction setTheme( theme ) {\r\n\tconst root = document.documentElement;\r\n\r\n\t// Remove any existing *-theme classes\r\n\troot.className = root.className\r\n\t\t.split( /\\s+/ )\r\n\t\t.filter( ( cls ) => cls && !cls.endsWith( '-theme' ) )\r\n\t\t.join( ' ' );\r\n\r\n\tif ( theme !== 'default' ) {\r\n\t\troot.classList.add( `${ theme }-theme` );\r\n\t}\r\n\r\n\t// Default to dark mode\r\n\tlet colorScheme = 'dark';\r\n\tif ( !document.body.classList.contains( 'dark-mode' ) ) {\r\n\t\tdocument.body.classList.remove( 'light-mode' );\r\n\t\tdocument.body.classList.add( 'dark-mode' );\r\n\t}\r\n\r\n\t// Apply light mode if defined in themeTypes\r\n\tif ( typeof themeTypes !== 'undefined' && themeTypes[theme] === 'light' ) {\r\n\t\tcolorScheme = 'light';\r\n\t\tif ( !document.body.classList.contains( 'light-mode' ) ) {\r\n\t\t\tdocument.body.classList.remove( 'dark-mode' );\r\n\t\t\tdocument.body.classList.add( 'light-mode' );\r\n\t\t}\r\n\t}\r\n\r\n\t// Update or create <meta name=\"color-scheme\">\r\n\tlet meta = document.querySelector( 'meta[name=\"color-scheme\" ]' );\r\n\tif ( !meta ) {\r\n\t\tmeta = document.createElement( 'meta' );\r\n\t\tmeta.setAttribute( 'name', 'color-scheme' );\r\n\t\tdocument.head.appendChild( meta );\r\n\t}\r\n\tif ( meta.getAttribute( 'content' ) !== colorScheme ) {\r\n\t\tmeta.setAttribute( 'content', colorScheme );\r\n\t}\r\n}\r\n","// assets/js/modules/vhosts.js\nexport function setupVhostCertButtons() {\n\tif ( document.readyState === 'loading' ) {\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\t\tbindButtons();\n\t\t\tsetupFiltering();\n\t\t\tsetupOpenFolder();\n\t\t} );\n\t} else {\n\t\tbindButtons();\n\t\tsetupFiltering();\n\t\tsetupOpenFolder();\n\t}\n}\n\nfunction bindButtons() {\n\tconst buttons = document.querySelectorAll( '[data-generate-cert]' );\n\n\tbuttons.forEach( button => {\n\t\tbutton.addEventListener( 'click', () => {\n\t\t\tconst name = button.dataset.generateCert;\n\t\t\tif ( confirm( 'Generate a new SSL certificate for ' + name + '?' ) ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/generate_cert.php?name=${ encodeURIComponent( name ) }` )\n\t\t\t\t\t.then( res => res.text() )\n\t\t\t\t\t.then( msg => {\n\t\t\t\t\t\talert( msg );\n\t\t\t\t\t\tif ( msg.includes( 'successfully' ) ) {\n\t\t\t\t\t\t\tconst restartBtn = document.getElementById( 'restart-apache' );\n\t\t\t\t\t\t\tif ( restartBtn ) restartBtn.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( () => alert( 'Failed to run cert script.' ) );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nfunction setupFiltering() {\n\tconst filter = document.getElementById( 'vhost-filter' );\n\tconst rows = document.querySelectorAll( '#vhosts-table tbody tr' );\n\n\tif ( !filter || !rows.length ) return;\n\n\tfilter.addEventListener( 'change', () => {\n\t\tconst value = filter.value;\n\t\tlet visibleCount = 0;\n\n\t\trows.forEach( row => {\n\t\t\tconst isSSL = row.classList.contains( 'vhost-ssl' );\n\t\t\tconst hasCert = row.classList.contains( 'cert-valid' );\n\t\t\tconst hasHost = row.classList.contains( 'host-valid' );\n\n\t\t\tlet show = true;\n\t\t\tif ( value === 'missing-cert' ) show = !hasCert;\n\t\t\telse if ( value === 'missing-host' ) show = !hasHost;\n\t\t\telse if ( value === 'ssl-only' ) show = isSSL;\n\t\t\telse if ( value === 'non-ssl' ) show = !isSSL;\n\n\t\t\trow.style.display = show ? '' : 'none';\n\t\t\tif ( show ) visibleCount++;\n\t\t} );\n\n\t\tconst emptyMsg = document.getElementById( 'vhost-empty-msg' );\n\t\tif ( emptyMsg ) {\n\t\t\temptyMsg.style.display = visibleCount === 0 ? '' : 'none';\n\t\t}\n\t} );\n}\n\nfunction setupOpenFolder() {\n\tdocument.addEventListener( 'click', e => {\n\t\tif ( e.target.matches( '.open-folder' ) ) {\n\t\t\tconst path = e.target.dataset.path.replace( /^\"(.*)\"$/, '$1' );\n\t\t\tif ( path ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/open_folder.php`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify( {path} )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n}\n","// assets/js/modules/dock.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nexport function initDockConfig() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst dockList = document.getElementById( 'dock-list' );\r\n\t\tconst addBtn = document.getElementById( 'add-dock-item' );\r\n\t\tconst form = document.querySelector( '#settings-view form' );\r\n\r\n\t\tif ( !dockList || !addBtn || !form ) return;\r\n\r\n\t\t// Load current config\r\n\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=dock`, {cache: 'no-store'} )\r\n\t\t\t.then( res => res.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tdata.forEach( addDockItem );\r\n\t\t\t\tenableDragSort( '#dock-list' );\r\n\r\n\t\t\t\t// When user reorders items, refresh hidden input\r\n\t\t\t\tdockList.addEventListener( 'sorted', updateInput );\r\n\t\t\t\tupdateInput();\r\n\t\t\t} );\r\n\r\n\t\taddBtn.addEventListener( 'click', () => {\r\n\t\t\taddDockItem();\r\n\t\t\t// enableDragSort is idempotent now; it will only bind to new child\r\n\t\t\tenableDragSort( '#dock-list' );\r\n\t\t\tupdateInput();\r\n\t\t} );\r\n\r\n\t\tfunction addDockItem( item = {} ) {\r\n\t\t\tconst li = document.createElement( 'li' );\r\n\t\t\tli.className = 'dock-item';\r\n\t\t\tli.innerHTML = `\r\n\t\t\t\t<input type=\"text\" placeholder=\"Label\" value=\"${ item.label || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"URL\" value=\"${ item.url || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"Icon\" value=\"${ item.icon || '' }\">\r\n\t\t\t\t<input type=\"text\" placeholder=\"Alt Text\" value=\"${ item.alt || '' }\">\r\n\t\t\t\t<button type=\"button\" class=\"remove-dock-item\">âŒ</button>\r\n\t\t\t`;\r\n\t\t\tdockList.appendChild( li );\r\n\r\n\t\t\tli.querySelector( '.remove-dock-item' ).addEventListener( 'click', () => {\r\n\t\t\t\tli.remove();\r\n\t\t\t\tupdateInput();\r\n\t\t\t} );\r\n\r\n\t\t\tArray.from( li.querySelectorAll( 'input' ) ).forEach( ( input ) => {\r\n\t\t\t\tinput.addEventListener( 'input', updateInput );\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction updateInput() {\r\n\t\t\tconst dockItems = [];\r\n\t\t\tArray.from( dockList.children ).forEach( ( li ) => {\r\n\t\t\t\tconst inputs = li.querySelectorAll( 'input' );\r\n\t\t\t\tif ( inputs.length < 4 ) return;\r\n\t\t\t\tdockItems.push( {\r\n\t\t\t\t\tlabel: inputs[0].value.trim(),\r\n\t\t\t\t\turl: inputs[1].value.trim(),\r\n\t\t\t\t\ticon: inputs[2].value.trim(),\r\n\t\t\t\t\talt: inputs[3].value.trim()\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t\tconst dockJsonInput = document.getElementById( 'dock_json_input' );\r\n\t\t\tif ( dockJsonInput ) {\r\n\t\t\t\tdockJsonInput.value = JSON.stringify( dockItems, null, 2 );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n}\r\n","// assets/js/modules/folders.js\r\nimport {enableDragSort} from './drag.js';\r\n\r\nexport function initFoldersConfig() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst list = document.getElementById( 'folders-config-list' );\r\n\t\tconst addBtn = document.getElementById( 'add-folder-column' );\r\n\t\tconst jsonInput = document.getElementById( 'folders_json_input' );\r\n\t\tif ( !list || !addBtn || !jsonInput ) return;\r\n\r\n\t\tlet linkTemplates = [];\r\n\t\tlet templateOptionsHtml = `<option value=\"\">(none)</option>`;\r\n\t\tlet dirty = false;\r\n\t\tlet debounceTimer = null;\r\n\r\n\t\t// helpers for specialCases (object map <-> rows)\r\n\r\n\t\tfunction mapToRows( scMap ) {\r\n\t\t\tif ( scMap && typeof scMap === 'object' && !Array.isArray( scMap ) ) {\r\n\t\t\t\treturn Object.entries( scMap ).map( ( [ match, replace ] ) => ({\r\n\t\t\t\t\tmatch: String( match ?? '' ),\r\n\t\t\t\t\treplace: String( replace ?? '' )\r\n\t\t\t\t}) );\r\n\t\t\t}\r\n\t\t\treturn []; // default if missing/invalid\r\n\t\t}\r\n\r\n\t\tfunction rowsToMap( rows ) {\r\n\t\t\tconst map = {};\r\n\t\t\trows.forEach( ( {match = '', replace = ''} ) => {\r\n\t\t\t\tconst m = String( match ).trim();\r\n\t\t\t\tconst r = String( replace ).trim();\r\n\t\t\t\tif ( m.length || r.length ) {\r\n\t\t\t\t\tmap[m] = r; // later duplicates overwrite earlier â€” deterministic\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn map;\r\n\t\t}\r\n\r\n\t\t// templates\r\n\r\n\t\tfunction fetchLinkTemplates() {\r\n\t\t\tif ( Array.isArray( window.LINK_TEMPLATES ) ) {\r\n\t\t\t\tlinkTemplates = window.LINK_TEMPLATES\r\n\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\r\n\t\t\t\t\t.filter( Boolean );\r\n\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\r\n\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\r\n\t\t\t\treturn Promise.resolve( linkTemplates );\r\n\t\t\t}\r\n\r\n\t\t\treturn fetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, {cache: 'no-store'} )\r\n\t\t\t\t.then( res => res.json() )\r\n\t\t\t\t.then( data => {\r\n\t\t\t\t\tlinkTemplates = (Array.isArray( data ) ? data : [])\r\n\t\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\r\n\t\t\t\t\t\t.filter( Boolean );\r\n\t\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\r\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\r\n\t\t\t\t\treturn linkTemplates;\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( () => {\r\n\t\t\t\t\tlinkTemplates = [];\r\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>`;\r\n\t\t\t\t\treturn linkTemplates;\r\n\t\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// rendering\r\n\r\n\t\tfunction specialCaseRowHtml( sc = {} ) {\r\n\t\t\tconst matchVal = sc.match || '';\r\n\t\t\tconst replaceVal = sc.replace || '';\r\n\t\t\treturn `\r\n\t\t\t\t<div class=\"special-case\">\r\n\t\t\t\t\t<input type=\"text\" class=\"sc-match\" placeholder=\"Match Regex\" value=\"${ matchVal }\">\r\n\t\t\t\t\t<input type=\"text\" class=\"sc-replace\" placeholder=\"Replace Regex\" value=\"${ replaceVal }\">\r\n\t\t\t\t\t<button type=\"button\" class=\"remove-special\">âœ–</button>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tfunction folderItemHtml( item = {} ) {\r\n\t\t\tconst casesHtml = mapToRows( item.specialCases ).map( specialCaseRowHtml ).join( '' );\r\n\t\t\tconst selected = item.linkTemplate || '';\r\n\r\n\t\t\treturn `\r\n\t\t\t\t<li class=\"folder-config-item\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"title\" placeholder=\"Title\" value=\"${ item.title || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"href\" placeholder=\"Href (optional)\" value=\"${ item.href || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"dir\" placeholder=\"Dir (relative to HTDOCS_PATH)\" value=\"${ item.dir || '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"excludeList\" placeholder=\"Exclude List (comma-separated)\" value=\"${ (item.excludeList || []).join( ',' ) }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"match\" placeholder=\"Match Regex\" value=\"${ item.urlRules?.match ?? '' }\">\r\n\t\t\t\t\t<input type=\"text\" data-key=\"replace\" placeholder=\"Replace Regex\" value=\"${ item.urlRules?.replace ?? '' }\">\r\n\t\t\t\t\t<label>Link Template:\r\n\t\t\t\t\t\t<select class=\"link-template-select\" name=\"linkTemplate\">${ templateOptionsHtml }</select>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label><input type=\"checkbox\" class=\"disable-links\"${ item.disableLinks ? ' checked' : '' }> Disable Links</label>\r\n\r\n\t\t\t\t\t<div class=\"special-cases-wrapper\">\r\n\t\t\t\t\t\t<label>Special Cases:</label>\r\n\t\t\t\t\t\t<div class=\"special-cases\">${ casesHtml }</div>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"add-special\">âž• Add Rule</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"remove-folder-column\">âŒ</button>\r\n\t\t\t\t</li>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tfunction appendFolderItems( items ) {\r\n\t\t\tconst frag = document.createDocumentFragment();\r\n\t\t\tconst tmp = document.createElement( 'div' );\r\n\t\t\ttmp.innerHTML = items.map( folderItemHtml ).join( '' );\r\n\t\t\tArray.from( tmp.children ).forEach( child => frag.appendChild( child ) );\r\n\t\t\tlist.appendChild( frag );\r\n\r\n\t\t\t// Apply select value + disable state\r\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\r\n\t\t\t\tconst select = li.querySelector( '.link-template-select' );\r\n\t\t\t\tif ( select ) {\r\n\t\t\t\t\t// Find the corresponding item by matching the title currently in the li\r\n\t\t\t\t\tconst titleInLi = li.querySelector( 'input[data-key=\"title\"]' )?.value || '';\r\n\t\t\t\t\tconst found = items.find( it => (it.title || '') === titleInLi );\r\n\t\t\t\t\tconst val = found?.linkTemplate || '';\r\n\t\t\t\t\tif ( val ) select.value = val;\r\n\t\t\t\t\tselect.disabled = linkTemplates.length === 0;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction addFolderItem( item = {} ) {\r\n\t\t\tconst tmp = document.createElement( 'div' );\r\n\t\t\ttmp.innerHTML = folderItemHtml( item );\r\n\t\t\tconst li = tmp.firstElementChild;\r\n\t\t\tlist.appendChild( li );\r\n\t\t\tconst select = li.querySelector( '.link-template-select' );\r\n\t\t\tif ( select ) {\r\n\t\t\t\tselect.disabled = linkTemplates.length === 0;\r\n\t\t\t\tif ( item.linkTemplate ) select.value = item.linkTemplate;\r\n\t\t\t}\r\n\t\t\tmarkDirty();\r\n\t\t}\r\n\r\n\t\t// updates\r\n\r\n\t\tfunction markDirty() {\r\n\t\t\tdirty = true;\r\n\t\t\tdebounceUpdate();\r\n\t\t}\r\n\r\n\t\tfunction debounceUpdate() {\r\n\t\t\tif ( debounceTimer ) clearTimeout( debounceTimer );\r\n\t\t\tdebounceTimer = setTimeout( updateInput, 120 );\r\n\t\t}\r\n\r\n\t\tfunction updateInput() {\r\n\t\t\tdebounceTimer = null;\r\n\t\t\tif ( !dirty ) return;\r\n\t\t\tjsonInput.value = JSON.stringify( serializeList(), null, 2 );\r\n\t\t\tdirty = false;\r\n\t\t}\r\n\r\n\t\tfunction serializeList() {\r\n\t\t\tconst items = [];\r\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\r\n\t\t\t\tconst get = ( sel ) => li.querySelector( sel );\r\n\r\n\t\t\t\tconst title = get( 'input[data-key=\"title\"]' )?.value.trim() || '';\r\n\t\t\t\tconst href = get( 'input[data-key=\"href\"]' )?.value.trim() || '';\r\n\t\t\t\tconst dir = get( 'input[data-key=\"dir\"]' )?.value.trim() || '';\r\n\t\t\t\tconst excludeStr = get( 'input[data-key=\"excludeList\"]' )?.value || '';\r\n\t\t\t\tconst match = get( 'input[data-key=\"match\"]' )?.value || '';\r\n\t\t\t\tconst replace = get( 'input[data-key=\"replace\"]' )?.value || '';\r\n\t\t\t\tconst linkTemplate = li.querySelector( '.link-template-select' )?.value || '';\r\n\t\t\t\tconst disableLinks = !!li.querySelector( '.disable-links' )?.checked;\r\n\r\n\t\t\t\t// Collect specialCases from rows and convert back to an object map\r\n\t\t\t\tconst scRows = [];\r\n\t\t\t\tli.querySelectorAll( '.special-case' ).forEach( row => {\r\n\t\t\t\t\tconst m = row.querySelector( '.sc-match' )?.value || '';\r\n\t\t\t\t\tconst r = row.querySelector( '.sc-replace' )?.value || '';\r\n\t\t\t\t\tif ( m.length || r.length ) scRows.push( {match: m, replace: r} );\r\n\t\t\t\t} );\r\n\t\t\t\tconst specialCases = rowsToMap( scRows );\r\n\r\n\t\t\t\tconst excludeList = excludeStr.split( ',' ).map( s => s.trim() ).filter( Boolean );\r\n\r\n\t\t\t\tconst record = {\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\thref,\r\n\t\t\t\t\tdir,\r\n\t\t\t\t\texcludeList,\r\n\t\t\t\t\turlRules: {match, replace},\r\n\t\t\t\t\tlinkTemplate,\r\n\t\t\t\t\tdisableLinks,\r\n\t\t\t\t\tspecialCases\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Skip fully empty rows\r\n\t\t\t\tconst hasValue =\r\n\t\t\t\t\ttitle || href || dir || excludeList.length || match || replace || linkTemplate || disableLinks || Object.keys( specialCases ).length;\r\n\t\t\t\tif ( hasValue ) items.push( record );\r\n\t\t\t} );\r\n\t\t\treturn items;\r\n\t\t}\r\n\r\n\t\t// delegated events\r\n\r\n\t\tlist.addEventListener( 'input', ( e ) => {\r\n\t\t\tif ( e.target.matches( 'input[type=\"text\"], select' ) ) {\r\n\t\t\t\tmarkDirty();\r\n\t\t\t}\r\n\t\t} );\r\n\t\tlist.addEventListener( 'change', ( e ) => {\r\n\t\t\tif ( e.target.matches( 'select, input[type=\"checkbox\"]' ) ) {\r\n\t\t\t\tmarkDirty();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tlist.addEventListener( 'click', ( e ) => {\r\n\t\t\tif ( e.target.closest( '.add-special' ) ) {\r\n\t\t\t\tconst wrap = e.target.closest( '.folder-config-item' )?.querySelector( '.special-cases' );\r\n\t\t\t\tif ( wrap ) {\r\n\t\t\t\t\twrap.insertAdjacentHTML( 'beforeend', specialCaseRowHtml() );\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( e.target.closest( '.remove-special' ) ) {\r\n\t\t\t\tconst row = e.target.closest( '.special-case' );\r\n\t\t\t\tif ( row ) {\r\n\t\t\t\t\trow.remove();\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( e.target.closest( '.remove-folder-column' ) ) {\r\n\t\t\t\tconst li = e.target.closest( '.folder-config-item' );\r\n\t\t\t\tif ( li ) {\r\n\t\t\t\t\tli.remove();\r\n\t\t\t\t\tmarkDirty();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tlist.addEventListener( 'sorted', () => {\r\n\t\t\tdirty = true;\r\n\t\t\tupdateInput(); // immediate update after reorder\r\n\t\t} );\r\n\r\n\t\t// init\r\n\r\n\t\tPromise.all( [\r\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=folders`, {cache: 'no-store'} ).then( r => r.json() ).catch( () => [] ),\r\n\t\t\tfetchLinkTemplates()\r\n\t\t] ).then( ( [ data ] ) => {\r\n\t\t\tenableDragSort( '#folders-config-list' );\r\n\t\t\tif ( Array.isArray( data ) && data.length ) {\r\n\t\t\t\tappendFolderItems( data );\r\n\t\t\t}\r\n\t\t\tif ( list.children.length === 0 ) addFolderItem( {} );\r\n\t\t\tdirty = true;\r\n\t\t\tupdateInput();\r\n\t\t} );\r\n\r\n\t\taddBtn.addEventListener( 'click', () => {\r\n\t\t\taddFolderItem( {} );\r\n\t\t} );\r\n\t} );\r\n}\r\n","// assets/js/modules/linkTemplates.js\nimport {attachHtmlEditor} from './htmlSyntaxEditor.js';\n\n// ðŸ”§ Toggle this to enable/disable syntax highlighting editor\nconst USE_SYNTAX_HIGHLIGHTER = true;\n\nexport function initLinkTemplates() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst list = document.getElementById( 'link-templates-list' );\n\t\tconst addBtn = document.getElementById( 'add-link-template' );\n\t\tconst PLACEHOLDER = 'HTML Template';\n\t\tif ( !list || !addBtn ) return;\n\n\t\tfunction loadTemplatesFromFile() {\n\t\t\tlist.innerHTML = '';\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, {cache: 'no-store'} )\n\t\t\t\t.then( res => res.json() )\n\t\t\t\t.then( data => {\n\t\t\t\t\tconst arr = Array.isArray( data )\n\t\t\t\t\t\t? data\n\t\t\t\t\t\t: Array.isArray( data?.templates ) ? data.templates : [];\n\t\t\t\t\tarr.forEach( addTemplateItem );\n\t\t\t\t\tupdateHiddenInput();\n\t\t\t\t} )\n\t\t\t\t.catch( () => updateHiddenInput() );\n\t\t}\n\n\t\tfunction updateHiddenInput() {\n\t\t\tconst templates = [];\n\t\t\tlist.querySelectorAll( '.template-item' ).forEach( item => {\n\t\t\t\tconst name = item.querySelector( '.template-name' )?.value.trim();\n\n\t\t\t\tlet html = '';\n\t\t\t\tif ( USE_SYNTAX_HIGHLIGHTER ) {\n\t\t\t\t\thtml = item.querySelector( '.template-html' )?.textContent || '';\n\t\t\t\t} else {\n\t\t\t\t\thtml = item.querySelector( '.template-textarea' )?.value || '';\n\t\t\t\t}\n\n\t\t\t\thtml = html.replace( /\\u200B/g, '' );\n\t\t\t\tif ( name && html ) templates.push( {name, html} );\n\t\t\t} );\n\t\t\tconst hidden = document.getElementById( 'link_templates_json_input' );\n\t\t\tif ( hidden ) hidden.value = JSON.stringify( templates, null, 2 );\n\t\t}\n\n\t\tfunction addTemplateItem( data = {} ) {\n\t\t\tconst li = document.createElement( 'li' );\n\t\t\tli.className = 'template-item';\n\n\t\t\t// Editor markup changes depending on toggle\n\t\t\tlet editorMarkup = '';\n\t\t\tif ( USE_SYNTAX_HIGHLIGHTER ) {\n\t\t\t\teditorMarkup = `\n\t\t\t\t\t<div class=\"template-html-wrapper\">\n\t\t\t\t\t\t<pre class=\"template-html syntax-highlight\"\n\t\t\t\t\t\t\trole=\"textbox\" aria-multiline=\"true\" aria-label=\"HTML Template\"\n\t\t\t\t\t\t\tplaceholder=\"${ PLACEHOLDER }\"></pre>\n\t\t\t\t\t</div>`;\n\t\t\t} else {\n\t\t\t\teditorMarkup = `\n\t\t\t\t\t<textarea class=\"template-textarea\"\n\t\t\t\t\t\tplaceholder=\"${ PLACEHOLDER }\" spellcheck=\"false\"\n\t\t\t\t\t\tautocomplete=\"off\" autocapitalize=\"off\" autocorrect=\"off\"\n\t\t\t\t\t\trows=\"5\">${ data.html || '' }</textarea>`;\n\t\t\t}\n\n\t\t\tli.innerHTML = `\n\t\t\t\t<input type=\"text\" class=\"template-name\" placeholder=\"Template Name\" value=\"${ data.name || '' }\">\n\t\t\t\t${ editorMarkup }\n\t\t\t\t<button type=\"button\" class=\"remove-template\">âŒ</button>\n\t\t\t`;\n\n\t\t\t// --- Wire up behaviour ---\n\t\t\tlet api = null;\n\n\t\t\tif ( USE_SYNTAX_HIGHLIGHTER ) {\n\t\t\t\tconst editor = li.querySelector( '.template-html' );\n\t\t\t\teditor.textContent = data.html || '';\n\n\t\t\t\tapi = attachHtmlEditor( editor, {\n\t\t\t\t\tplaceholder: PLACEHOLDER,\n\t\t\t\t\tonChange: updateHiddenInput\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tconst textarea = li.querySelector( '.template-textarea' );\n\t\t\t\ttextarea.addEventListener( 'input', updateHiddenInput );\n\t\t\t}\n\n\t\t\t// Remove button\n\t\t\tli.querySelector( '.remove-template' ).addEventListener( 'click', () => {\n\t\t\t\tif ( api && typeof api.destroy === 'function' ) api.destroy();\n\t\t\t\tli.remove();\n\t\t\t\tupdateHiddenInput();\n\t\t\t} );\n\n\t\t\t// Sync name field\n\t\t\tli.querySelector( '.template-name' ).addEventListener( 'input', updateHiddenInput );\n\n\t\t\tlist.appendChild( li );\n\t\t\tupdateHiddenInput();\n\t\t}\n\n\t\taddBtn.addEventListener( 'click', () => addTemplateItem() );\n\t\tloadTemplatesFromFile();\n\t} );\n}\n","// assets/js/modules/system.js\nexport function initSystemMonitoring() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst body = document.body;\n\t\tconst systemStatsSection = document.getElementById( 'system-monitor' );\n\n\t\tif ( !systemStatsSection ) return;\n\n\t\tconst ajaxEnabled = body.getAttribute( 'data-ajax-enabled' ) === 'true';\n\t\tif ( !ajaxEnabled ) return;\n\n\t\tconst cpuElem = document.getElementById( 'cpu-load' );\n\t\tconst memElem = document.getElementById( 'memory-usage' );\n\t\tconst diskElem = document.getElementById( 'disk-space' );\n\n\t\tlet statsInterval;\n\n\t\tfunction fetchSystemStats() {\n\t\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t\t.then( response => {\n\t\t\t\t\tif ( !response.ok ) throw new Error( 'System stats unavailable' );\n\t\t\t\t\treturn response.json();\n\t\t\t\t} )\n\t\t\t\t.then( data => {\n\t\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction startMonitoring() {\n\t\t\tstatsInterval = setInterval( fetchSystemStats, 1000 );\n\t\t\tfetchSystemStats();\n\t\t}\n\n\t\t// Only begin polling once we know the backend is returning valid JSON\n\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t.then( response => {\n\t\t\t\tif ( !response.ok ) return;\n\t\t\t\treturn response.json();\n\t\t\t} )\n\t\t\t.then( data => {\n\t\t\t\t// First fetch succeeded â€” safe to start polling\n\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\tstartMonitoring();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\t// Do nothing â€” let next AJAX-enabled cycle pick it up silently\n\t\t\t} );\n\t} );\n}\n","// assets/js/modules/accordion.js\r\nexport function initToggleAccordion() {\r\n    // Ensure Firefox animates collapses\r\n    function forceReflow( el ) {\r\n        void el.offsetHeight;\r\n    }\r\n\r\n    function isClickInside( e, sel ) {\r\n        return !!e.target.closest( sel );\r\n    }\r\n\r\n    function firstFocusable( root ) {\r\n        return root.querySelector( 'a,button,input,select,textarea,[tabindex]:not([tabindex=\"-1\"])' );\r\n    }\r\n\r\n    function getTransitionMs( el ) {\r\n        const cs = getComputedStyle( el );\r\n        // Handles multiple comma-separated durations (take the longest)\r\n        const parseList = ( s ) => s.split( ',' ).map( v => parseFloat( v ) || 0 );\r\n        const d = Math.max( ...parseList( cs.transitionDuration ) );\r\n        const delay = Math.max( ...parseList( cs.transitionDelay ) );\r\n        return Math.round( (d + delay) * 1000 ) || 0;\r\n    }\r\n\r\n    document.addEventListener( 'DOMContentLoaded', () => {\r\n        document.querySelectorAll( '.toggle-content-container' ).forEach( ( container, index ) => {\r\n            // Guard against double init\r\n            if ( container.dataset.accordionInit === '1' ) return;\r\n            container.dataset.accordionInit = '1';\r\n\r\n            const toggle = container.querySelector( '.toggle-accordion' );\r\n            const content = container.querySelector( '.toggle-content' );\r\n            if ( !toggle || !content ) return;\r\n\r\n            const collapsedHeight = parseInt( content.dataset.collapsedHeight ) || 0;\r\n            const accordionId = container.dataset.id || 'accordion-' + index;\r\n\r\n            // Animation control\r\n            let animToken = 0;      // bumped for each open/close run\r\n            let fallbackTimer = 0;  // transitionend safety net\r\n            let onEnd = null;       // current transitionend handler\r\n\r\n            function clearAnimGuards() {\r\n                if ( onEnd ) {\r\n                    content.removeEventListener( 'transitionend', onEnd );\r\n                    onEnd = null;\r\n                }\r\n                if ( fallbackTimer ) {\r\n                    clearTimeout( fallbackTimer );\r\n                    fallbackTimer = 0;\r\n                }\r\n            }\r\n\r\n            function setOpenAria( isOpen ) {\r\n                container.classList.toggle( 'open', isOpen );\r\n                toggle.setAttribute( 'aria-expanded', isOpen ? 'true' : 'false' );\r\n                localStorage.setItem( 'accordion_' + accordionId, isOpen ? 'open' : 'closed' );\r\n            }\r\n\r\n            function finishOpen( token ) {\r\n                if ( token !== animToken ) return;\r\n                content.style.height = 'auto';\r\n            }\r\n\r\n            function finishClose( token ) {\r\n                if ( token !== animToken ) return;\r\n                content.hidden = true; // remove from tab order after animation\r\n            }\r\n\r\n            function openPanel() {\r\n                const token = ++animToken;\r\n                clearAnimGuards();\r\n\r\n                // Unhide immediately for any open intent\r\n                content.hidden = false;\r\n                setOpenAria( true );\r\n\r\n                // Animate from collapsed -> target -> auto\r\n                content.style.height = collapsedHeight + 'px';\r\n                forceReflow( content );\r\n                requestAnimationFrame( () => {\r\n                    if ( token !== animToken ) return;\r\n                    const target = content.scrollHeight;\r\n                    content.style.height = target + 'px';\r\n\r\n                    onEnd = ( e ) => {\r\n                        if ( e.target !== content || e.propertyName !== 'height' ) return;\r\n                        clearAnimGuards();\r\n                        finishOpen( token );\r\n                    };\r\n                    content.addEventListener( 'transitionend', onEnd );\r\n\r\n                    const ms = getTransitionMs( content );\r\n                    if ( ms > 0 ) {\r\n                        fallbackTimer = setTimeout( () => {\r\n                            clearAnimGuards();\r\n                            finishOpen( token );\r\n                        }, ms + 40 );\r\n                    }\r\n                } );\r\n            }\r\n\r\n            function closePanel() {\r\n                const token = ++animToken;\r\n                clearAnimGuards();\r\n\r\n                setOpenAria( false );\r\n\r\n                // Animate current -> collapsed, THEN hide\r\n                content.style.height = content.scrollHeight + 'px';\r\n                forceReflow( content );\r\n                requestAnimationFrame( () => {\r\n                    if ( token !== animToken ) return;\r\n                    content.style.height = collapsedHeight + 'px';\r\n\r\n                    onEnd = ( e ) => {\r\n                        if ( e.target !== content || e.propertyName !== 'height' ) return;\r\n                        clearAnimGuards();\r\n                        finishClose( token );\r\n                    };\r\n                    content.addEventListener( 'transitionend', onEnd );\r\n\r\n                    const ms = getTransitionMs( content );\r\n                    if ( ms > 0 ) {\r\n                        fallbackTimer = setTimeout( () => {\r\n                            clearAnimGuards();\r\n                            finishClose( token );\r\n                        }, ms + 40 );\r\n                    }\r\n                } );\r\n            }\r\n\r\n            function togglePanel() {\r\n                const willOpen = !container.classList.contains( 'open' );\r\n                // If opening, guarantee visibility immediately to avoid â€œstuck hiddenâ€\r\n                if ( willOpen && content.hidden ) content.hidden = false;\r\n                willOpen ? openPanel() : closePanel();\r\n\r\n                // Self-heal if state and hidden diverge\r\n                requestAnimationFrame( () => {\r\n                    const isOpen = container.classList.contains( 'open' );\r\n                    if ( isOpen && content.hidden ) content.hidden = false;\r\n                } );\r\n            }\r\n\r\n            // Initial state (restore + ARIA + hidden)\r\n            const saved = localStorage.getItem( 'accordion_' + accordionId );\r\n            const startOpen = saved === 'open';\r\n            setOpenAria( startOpen );\r\n\r\n            if ( startOpen ) {\r\n                content.hidden = false; // must be visible to measure\r\n                content.style.height = content.scrollHeight + 'px';\r\n                requestAnimationFrame( () => {\r\n                    content.style.height = 'auto';\r\n                } );\r\n            } else {\r\n                content.style.height = collapsedHeight + 'px';\r\n                content.hidden = true; // keyboard users won't tab into closed panel\r\n            }\r\n\r\n            // Mouse/touch\r\n            toggle.addEventListener( 'click', ( event ) => {\r\n                event.stopPropagation();\r\n                // Ignore clicks on tooltip icon\r\n                if ( isClickInside( event, '.tooltip-icon' ) ) return;\r\n                togglePanel();\r\n            } );\r\n\r\n            // Keyboard: Space/Enter toggle; ArrowDown jumps into open panel\r\n            toggle.addEventListener( 'keydown', ( e ) => {\r\n                if ( e.key === ' ' || e.key === 'Enter' ) {\r\n                    e.preventDefault();\r\n                    togglePanel();\r\n                } else if ( e.key === 'ArrowDown' ) {\r\n                    if ( container.classList.contains( 'open' ) && !content.hidden ) {\r\n                        const target = firstFocusable( content );\r\n                        if ( target ) target.focus();\r\n                    }\r\n                }\r\n            } );\r\n        } );\r\n\r\n        // Keep heights sane on resize\r\n        window.addEventListener( 'resize', () => {\r\n            document.querySelectorAll( '.toggle-content-container.open .toggle-content' ).forEach( ( content ) => {\r\n                if ( content.hidden ) content.hidden = false;\r\n                if ( content.style.height !== 'auto' ) {\r\n                    content.style.height = content.scrollHeight + 'px';\r\n                }\r\n            } );\r\n        } );\r\n    } );\r\n}\r\n","// assets/js/main.js\nimport '../scss/style.scss';\n\nimport {initToggleAccordion} from './modules/accordion.js';\nimport {toggleApache} from './modules/apache.js';\nimport {initClock} from './modules/clock.js';\nimport {setColumnWidth, cycleColumnWidth, initColumnFeatures} from './modules/columns.js';\nimport {initDockConfig} from './modules/dock.js';\nimport {initApacheErrorLog, initPhpErrorLog} from './modules/error.js';\nimport {initExportModule} from './modules/export.js';\nimport {initFoldersConfig} from './modules/folders.js';\nimport {initLinkTemplates} from './modules/linkTemplates.js';\nimport {initSearch} from './modules/search.js';\nimport {initClearStorageButton} from './modules/settings.js';\nimport {autoHideConfirmationMessage} from './modules/settings.js';\nimport {initSystemMonitoring} from './modules/system.js';\nimport {initThemeSwitcher} from './modules/theme.js';\nimport {setupVhostCertButtons} from './modules/vhosts.js';\nimport {initViewToggles} from './modules/view.js';\n\n// Initialise on page load\ninitClock();\ninitColumnFeatures();\ninitDockConfig();\ninitFoldersConfig();\ninitLinkTemplates();\ninitApacheErrorLog();\ninitPhpErrorLog();\ninitExportModule();\ninitSearch();\ninitClearStorageButton();\nautoHideConfirmationMessage();\ninitSystemMonitoring();\ninitThemeSwitcher();\nsetupVhostCertButtons();\ninitToggleAccordion();\ninitViewToggles();\n","// assets/js/modules/view.js\r\nexport function initViewToggles() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst views = {\r\n\t\t\t'index': document.getElementById( 'folders-view' ),\r\n\t\t\t'settings': document.getElementById( 'settings-view' ),\r\n\t\t\t'phpinfo': document.getElementById( 'phpinfo-view' ),\r\n\t\t\t'apache': document.getElementById( 'apache-view' ),\r\n\t\t\t'mysql': document.getElementById( 'mysql-view' ),\r\n\t\t};\r\n\r\n\t\tconst pathMap = {\r\n\t\t\t'index': 'index',\r\n\t\t\t'settings': 'settings',\r\n\t\t\t'phpinfo': 'phpinfo',\r\n\t\t\t'apache-inspector': 'apache',\r\n\t\t\t'mysql-inspector': 'mysql',\r\n\t\t};\r\n\r\n\t\tconst toggleMap = {\r\n\t\t\t'toggle-index': 'index',\r\n\t\t\t'toggle-settings': 'settings',\r\n\t\t\t'toggle-phpinfo': 'phpinfo',\r\n\t\t\t'toggle-apache-inspector': 'apache-inspector',\r\n\t\t\t'toggle-mysql-inspector': 'mysql-inspector',\r\n\t\t};\r\n\r\n\t\tfunction getCurrentRoute() {\r\n\t\t\tconst params = new URLSearchParams( window.location.search );\r\n\t\t\treturn params.get( 'view' ) || 'index';\r\n\t\t}\r\n\r\n\t\tfunction showView( routeKey, push = false ) {\r\n\t\t\tconst key = pathMap[routeKey] || 'index';\r\n\r\n\t\t\tObject.entries( views ).forEach( ( [ k, el ] ) => {\r\n\t\t\t\tif ( el ) el.classList.toggle( 'visible', k === key );\r\n\t\t\t} );\r\n\r\n\t\t\t// Lazy load for Apache and MySQL views\r\n\t\t\tif ( key === 'apache' || key === 'mysql' ) {\r\n\t\t\t\tconst target = views[key];\r\n\t\t\t\tif ( target && !target.dataset.loaded ) {\r\n\t\t\t\t\t// To use a spinning emoji, add the class \"emoji\" to \"loader\" and insert your emoji within the <span>\r\n\t\t\t\t\ttarget.innerHTML = '<div class=\"loader\"><span class=\"spinner\" role=\"img\" aria-label=\"Loading\"></span></div>';\r\n\t\t\t\t\tconst url = `utils/${ key }_inspector.php`;\r\n\r\n\t\t\t\t\tfetch( `${ window.BASE_URL || '/' }${ url }` )\r\n\t\t\t\t\t\t.then( res => res.text() )\r\n\t\t\t\t\t\t.then( html => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = html;\r\n\t\t\t\t\t\t\ttarget.dataset.loaded = 'true';\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t.catch( err => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = `<p class=\"error\">Failed to load ${ url }</p>`;\r\n\t\t\t\t\t\t\tconsole.error( `[view.js] Failed to fetch ${ url }`, err );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( push ) {\r\n\t\t\t\tconst base = window.BASE_URL || window.location.pathname;\r\n\t\t\t\tconst param = key === 'index' ? '' : '?view=' + encodeURIComponent( routeKey );\r\n\t\t\t\thistory.pushState( {}, '', base + param );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Attach toggle click handlers\r\n\t\tObject.entries( toggleMap ).forEach( ( [ toggleId, routeKey ] ) => {\r\n\t\t\tconst toggle = document.getElementById( toggleId );\r\n\t\t\tif ( toggle ) {\r\n\t\t\t\ttoggle.addEventListener( 'click', ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tshowView( routeKey, true );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\t// Initial load\r\n\t\tshowView( getCurrentRoute() );\r\n\r\n\t\t// Back/forward navigation\r\n\t\twindow.addEventListener( 'popstate', () => {\r\n\t\t\tshowView( getCurrentRoute() );\r\n\t\t} );\r\n\t} );\r\n}\r\n"],"names":["updateClock","clock","document","querySelector","now","Date","textContent","toLocaleTimeString","hour","minute","second","hour12","addEventListener","btn","getElementById","action","messageBox","innerText","fetch","concat","window","BASE_URL","method","headers","body","encodeURIComponent","then","response","text","data","JSON","parse","message","renderServerInfo","e","console","error","_initialisedLists","WeakSet","enableDragSort","listSelector","_opts$allowHandleInte","opts","arguments","length","undefined","list","has","add","itemsSelector","items","handleSelector","handle","interactiveSelector","allowInsideHandle","allowHandleInteractive","dragSrcEl","dragging","item","target","closest","contains","isHandleHit","draggable","capture","dataTransfer","effectAllowed","setData","_","classList","preventDefault","remove","children","Array","from","querySelectorAll","indexOf","to","after","before","dispatchEvent","CustomEvent","bubbles","forEach","el","WIDTH_SIZES","getWidthKey","dataset","widthKey","setWidthForElement","size","storageKey","localStorage","setItem","cls","startsWith","style","maxWidth","cycleWidthForElement","direction","sizes","nextIdx","current","getItem","idx","initGenericErrorLog","_ref","sectionId","toggleButtonId","logElementId","endpoint","toggleBtn","logElement","isVisible","toggle","this","setAttribute","getAttribute","cache","res","ok","Promise","reject","displayLogContent","setInterval","fetchLog","isEmpty","trim","innerHTML","setupExport","groupEl","folderEl","uploadsModeRow","filesForm","filesStatus","dbForm","dbSelect","dbStatus","groups","refreshCsrf","credentials","r","json","Error","disabled","display","selectEl","g","opt","createElement","value","String","index","title","appendChild","renderGroups","options","Event","err","dbs","databases","name","parseInt","group","Number","isNaN","subfolders","def","checked","sf","selectedIndex","gIdx","find","s","showUploads","isWordPress","hasUploads","form","FormData","append","getArchiveEngine","html","href","location","d","token","attachHtmlEditor","editor","PLACEHOLDER","placeholder","lastText","renderScheduled","allowFocusEscape","getPlainText","replace","saveCaretPosition","element","sel","getSelection","rangeCount","range","getRangeAt","pre","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","len","Math","min","toString","restoreCaretPosition","position","createRange","lastTextNode","walker","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","node","currentNode","nodeValue","setStart","collapse","removeAllRanges","addRange","empty","createTextNode","renderHighlight","raw","caretPos","endsWith","match","inner","slice","isClosing","selfClosing","firstSpace","search","tagName","toLowerCase","rest","eqPart","_ref2","_m$","m","quote","open","t","close","hasAttribute","lastChild","nodeType","Node","TEXT_NODE","onChange","onBeforeInput","inputType","clipboardData","txt","getData","plain","pos","_saveCaretPosition","newText","onKeyDown","key","shiftKey","insert","split","pop","newPos","focus","onInput","test","requestAnimationFrame","onBlur","describedBy","getValue","setValue","destroy","removeEventListener","searchProjects","_document$querySelect","input","includes","STORAGE_PREFIXES","setTheme","theme","root","documentElement","className","filter","join","colorScheme","themeTypes","meta","head","bindButtons","button","generateCert","confirm","msg","alert","restartBtn","click","setupFiltering","rows","visibleCount","row","isSSL","hasCert","hasHost","show","emptyMsg","setupOpenFolder","matches","path","stringify","savedSize","controls","widthFor","resetBtn","prevBtn","nextBtn","container","savedOrder","isArray","id","col","order","map","Boolean","dockList","addBtn","addDockItem","li","label","url","icon","alt","updateInput","dockItems","inputs","push","dockJsonInput","jsonInput","linkTemplates","templateOptionsHtml","dirty","debounceTimer","markDirty","_e$target$closest","wrap","insertAdjacentHTML","specialCaseRowHtml","all","LINK_TEMPLATES","Set","n","resolve","_ref4","frag","tmp","_slicedToArray","createDocumentFragment","folderItemHtml","child","select","_li$querySelector","titleInLi","found","it","val","linkTemplate","addFolderItem","sc","matchVal","replaceVal","_item$urlRules$match","_item$urlRules","_item$urlRules$replac","_item$urlRules2","scMap","casesHtml","specialCases","_typeof","Object","entries","dir","excludeList","urlRules","disableLinks","firstElementChild","clearTimeout","setTimeout","_get","_get2","_get3","_get4","_get5","_get6","_li$querySelector2","_li$querySelector3","get","excludeStr","scRows","_row$querySelector","_row$querySelector2","_ref3","_ref3$match","_ref3$replace","record","keys","updateHiddenInput","templates","_item$querySelector","_item$querySelector2","hidden","addTemplateItem","editorMarkup","api","readyState","searchBar","clearBtn","some","prefix","removeItem","reload","transition","opacity","cpuElem","memElem","diskElem","cpu","memory","disk","fetchSystemStats","selector","saved","serverTheme","selected","forceReflow","offsetHeight","getTransitionMs","cs","getComputedStyle","parseList","v","parseFloat","max","apply","_toConsumableArray","transitionDuration","delay","transitionDelay","round","accordionInit","content","collapsedHeight","accordionId","animToken","fallbackTimer","onEnd","startOpen","setOpenAria","height","scrollHeight","event","stopPropagation","togglePanel","clearAnimGuards","isOpen","finishOpen","finishClose","willOpen","propertyName","ms","closePanel","initToggleAccordion","views","pathMap","getCurrentRoute","URLSearchParams","showView","routeKey","k","loaded","base","pathname","param","history","pushState","toggleId"],"sourceRoot":""}