{"version":3,"file":"js/script.min.js","mappings":"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","sources":["webpack://pav-localhost/./assets/js/modules/clock.js","webpack://pav-localhost/./assets/js/modules/drag.js","webpack://pav-localhost/./assets/js/modules/columns.js","webpack://pav-localhost/./assets/js/modules/error.js","webpack://pav-localhost/./assets/js/modules/export.js","webpack://pav-localhost/./assets/js/modules/search.js","webpack://pav-localhost/./assets/js/modules/theme.js","webpack://pav-localhost/./assets/js/modules/vhosts.js","webpack://pav-localhost/./assets/js/modules/apache.js","webpack://pav-localhost/./assets/js/modules/dock.js","webpack://pav-localhost/./assets/js/modules/folders.js","webpack://pav-localhost/./assets/js/modules/linkTemplates.js","webpack://pav-localhost/./assets/js/modules/settings.js","webpack://pav-localhost/./assets/js/modules/system.js","webpack://pav-localhost/./assets/js/modules/view.js"],"sourcesContent":["// assets/js/modules/clock.js\nexport function initClock() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tupdateClock();\n\t\tsetInterval( updateClock, 1000 );\n\t} );\n}\n\nexport function updateClock() {\n\tconst clock = document.querySelector( '.clock' );\n\tif ( clock ) {\n\t\tconst now = new Date();\n\t\tclock.textContent = now.toLocaleTimeString( [], {\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\tsecond: '2-digit',\n\t\t\thour12: false\n\t\t} );\n\t}\n}\n","// assets/js/modules/drag.js\nexport function enableDragSort( listSelector, opts = {} ) {\n\tconst list = document.querySelector( listSelector );\n\tif ( !list ) return;\n\n\t// Prevent double-initialising the same list\n\tif ( list.dataset.sortBound === '1' ) return;\n\tlist.dataset.sortBound = '1';\n\n\tconst itemsSelector  = opts.items  || 'li';\n\tconst handleSelector = opts.handle || null;\n\n\tlet dragSrcEl = null;\n\n\tfunction isInteractive( el ) {\n\t\treturn !!el.closest( 'input, select, textarea, button, a, [contenteditable=\"\"], .no-drag' );\n\t}\n\n\t// Enable \"just-in-time\" draggable, but only if we’re on a valid item (and, if set, on its handle)\n\tlist.addEventListener( 'pointerdown', ( e ) => {\n\t\tconst item = e.target.closest( itemsSelector );\n\t\tif ( !item || !list.contains( item ) ) return;\n\t\tif ( isInteractive( e.target ) ) return;\n\t\tif ( handleSelector && !e.target.closest( handleSelector ) ) return;\n\t\titem.draggable = true;\n\t}, { capture: true } );\n\n\tlist.addEventListener( 'dragstart', ( e ) => {\n\t\tconst item = e.target.closest( itemsSelector );\n\t\tif ( !item || !list.contains( item ) ) return;\n\t\tdragSrcEl = item;\n\t\te.dataTransfer.effectAllowed = 'move';\n\t\ttry { e.dataTransfer.setData( 'text/plain', '' ); } catch ( _ ) {}\n\t\titem.classList.add( 'dragElem' );\n\t} );\n\n\tlist.addEventListener( 'dragenter', ( e ) => {\n\t\tconst item = e.target.closest( itemsSelector );\n\t\tif ( !item || !list.contains( item ) ) return;\n\t\titem.classList.add( 'over' );\n\t} );\n\n\tlist.addEventListener( 'dragover', ( e ) => {\n\t\tif ( dragSrcEl ) e.preventDefault();\n\t} );\n\n\tlist.addEventListener( 'dragleave', ( e ) => {\n\t\tconst item = e.target.closest( itemsSelector );\n\t\tif ( item && list.contains( item ) ) {\n\t\t\titem.classList.remove( 'over' );\n\t\t}\n\t} );\n\n\tlist.addEventListener( 'drop', ( e ) => {\n\t\te.preventDefault();\n\t\tconst target = e.target.closest( itemsSelector );\n\t\tif ( !target || !dragSrcEl || target === dragSrcEl ) return;\n\n\t\tconst children = Array.from( list.querySelectorAll( `:scope > ${ itemsSelector }` ) );\n\t\tconst from = children.indexOf( dragSrcEl );\n\t\tconst to   = children.indexOf( target );\n\n\t\tif ( from > -1 && to > -1 ) {\n\t\t\tif ( from < to ) {\n\t\t\t\ttarget.after( dragSrcEl );\n\t\t\t} else {\n\t\t\t\ttarget.before( dragSrcEl );\n\t\t\t}\n\t\t\tlist.dispatchEvent( new CustomEvent( 'sorted', { bubbles: true } ) );\n\t\t}\n\t\ttarget.classList.remove( 'over' );\n\t} );\n\n\tlist.addEventListener( 'dragend', ( e ) => {\n\t\tconst item = e.target.closest( itemsSelector );\n\t\tif ( item && list.contains( item ) ) {\n\t\t\titem.classList.remove( 'dragElem' );\n\t\t\titem.draggable = false; // return inputs to normal behaviour\n\t\t}\n\t\tArray.from( list.querySelectorAll( itemsSelector ) ).forEach( el => el.classList.remove( 'over' ) );\n\t\tdragSrcEl = null;\n\t} );\n}\n","// assets/js/modules/columns.js\nimport { enableDragSort } from './drag.js';\n\nexport function setColumnWidth( size ) {\n\tlocalStorage.setItem( 'columnSize', size );\n\tconst columnsDiv = document.querySelector( '.columns' );\n\tif ( !columnsDiv ) return;\n\n\tcolumnsDiv.classList.forEach( ( cls ) => {\n\t\tif ( cls.startsWith( 'max-' ) ) {\n\t\t\tcolumnsDiv.classList.remove( cls );\n\t\t}\n\t} );\n\n\tif ( size !== 'auto' ) {\n\t\tcolumnsDiv.classList.add( size );\n\t}\n}\n\nexport function cycleColumnWidth( direction, sizes ) {\n\tconst current = localStorage.getItem( 'columnSize' ) || 'auto';\n\tconst idx = sizes.indexOf( current );\n\tlet nextIdx = 0;\n\n\tif ( direction === 'next' ) {\n\t\tnextIdx = ( idx + 1 ) % sizes.length;\n\t} else if ( direction === 'prev' ) {\n\t\tnextIdx = ( idx - 1 + sizes.length ) % sizes.length;\n\t}\n\n\tsetColumnWidth( sizes[ nextIdx ] );\n}\n\nexport function initColumnFeatures() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst container = document.querySelector( '.columns' );\n\t\tif ( !container ) return;\n\n\t\t// Restore saved width\n\t\tconst columnSizes = [ 'max-xs', 'max-sm', 'max-md', 'max-lg' ];\n\t\tconst savedSize = localStorage.getItem( 'columnSize' );\n\t\tif ( savedSize && columnSizes.includes( savedSize ) ) {\n\t\t\tsetColumnWidth( savedSize );\n\t\t}\n\n\t\t// Width controls\n\t\tconst resetBtn = document.getElementById( 'reset-width' );\n\t\tconst prevBtn  = document.getElementById( 'prev-width' );\n\t\tconst nextBtn  = document.getElementById( 'next-width' );\n\n\t\tif ( resetBtn ) {\n\t\t\tresetBtn.addEventListener( 'click', () => setColumnWidth( 'auto' ) );\n\t\t}\n\t\tif ( prevBtn ) {\n\t\t\tprevBtn.addEventListener( 'click', () => cycleColumnWidth( 'prev', columnSizes ) );\n\t\t}\n\t\tif ( nextBtn ) {\n\t\t\tnextBtn.addEventListener( 'click', () => cycleColumnWidth( 'next', columnSizes ) );\n\t\t}\n\n\t\t// Restore saved column order (IDs are the source of truth)\n\t\tconst savedOrder = JSON.parse( localStorage.getItem( 'columnOrder' ) || '[]' );\n\t\tif ( Array.isArray( savedOrder ) && savedOrder.length ) {\n\t\t\tsavedOrder.forEach( ( id ) => {\n\t\t\t\tconst col = document.getElementById( id );\n\t\t\t\t// skip control “column” rows if any; only reorder actual columns\n\t\t\t\tif ( col && col.classList.contains( 'column' ) && !col.classList.contains( 'column-controls' ) ) {\n\t\t\t\t\tcontainer.appendChild( col );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction saveOrder() {\n\t\t\tconst order = Array.from( container.querySelectorAll( ':scope > .column:not(.column-controls)' ) )\n\t\t\t\t.map( ( el ) => el.id )\n\t\t\t\t.filter( Boolean );\n\t\t\tlocalStorage.setItem( 'columnOrder', JSON.stringify( order ) );\n\t\t}\n\n\t\t// Hook into the shared drag util (same pattern as dock/folders)\n\t\tenableDragSort( '.columns', {\n\t\t\titems:  '.column:not(.column-controls)',\n\t\t\thandle: '.drag-handle'\n\t\t} );\n\n\t\t// Persist whenever user reorders\n\t\tcontainer.addEventListener( 'sorted', saveOrder );\n\t} );\n}\n","// assets/js/modules/error.js\nfunction initGenericErrorLog( {\n\tsectionId,\n\ttoggleButtonId,\n\tlogElementId,\n\tendpoint\n} ) {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst body = document.body;\n\t\tconst logSection = document.getElementById( sectionId );\n\t\tif ( !logSection ) return;\n\n\t\tconst toggleBtn = document.getElementById( toggleButtonId );\n\t\tconst logElement = document.getElementById( logElementId );\n\n\t\tif ( !toggleBtn || !logElement ) return;\n\n\t\ttoggleBtn.addEventListener( 'click', function () {\n\t\t\tconst isVisible = logElement.classList.contains( 'visible' );\n\t\t\tlogElement.classList.toggle( 'visible', !isVisible );\n\t\t\tthis.setAttribute( 'aria-expanded', !isVisible );\n\t\t} );\n\n\t\tif ( body.getAttribute( 'data-ajax-enabled' ) !== 'true' ) return;\n\n\t\tfunction displayLogContent( data ) {\n\t\t\tconst isEmpty = data.trim() === '';\n\t\t\tlogElement.innerHTML = isEmpty\n\t\t\t\t? `<code class=\"muted\">No errors logged. You're doing great. 🎉</code>`\n\t\t\t\t: `<code>${ data }</code>`;\n\t\t}\n\n\t\tfunction fetchLog() {\n\t\t\tfetch( `${ window.BASE_URL }${ endpoint }`, { cache: 'no-store' } )\n\t\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\n\t\t\t\t.then( displayLogContent );\n\t\t}\n\n\t\tfetch( `${ window.BASE_URL }${ endpoint }`, { cache: 'no-store' } )\n\t\t\t.then( res => res.ok ? res.text() : Promise.reject() )\n\t\t\t.then( data => {\n\t\t\t\tdisplayLogContent( data );\n\t\t\t\tsetInterval( fetchLog, 3000 );\n\t\t\t} )\n\t\t\t.catch( () => {} );\n\t} );\n}\n\n// Public wrappers — keeps main.js simple\nexport function initApacheErrorLog() {\n\tinitGenericErrorLog( {\n\t\tsectionId: 'apache-error-log-section',\n\t\ttoggleButtonId: 'toggle-apache-error-log',\n\t\tlogElementId: 'apache-error-log',\n\t\tendpoint: 'utils/apache_error_log.php'\n\t} );\n}\n\nexport function initPhpErrorLog() {\n\tinitGenericErrorLog( {\n\t\tsectionId: 'php-error-log-section',\n\t\ttoggleButtonId: 'toggle-php-error-log',\n\t\tlogElementId: 'php-error-log',\n\t\tendpoint: 'utils/php_error_log.php'\n\t} );\n}\n","// assets/js/modules/export.js\r\nexport function initExportModule() {\r\n\tif ( document.readyState === 'loading' ) {\r\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => setupExport() );\r\n\t} else {\r\n\t\tsetupExport();\r\n\t}\r\n}\r\n\r\nfunction setupExport() {\r\n\tconst groupEl = document.getElementById( 'export-group' );\r\n\tconst folderEl = document.getElementById( 'export-folder' );\r\n\tconst uploadsModeRow = document.getElementById( 'uploads-mode-row' );\r\n\r\n\tconst filesForm = document.getElementById( 'export-files-form' );\r\n\tconst filesStatus = document.getElementById( 'export-files-status' );\r\n\r\n\tconst dbForm = document.getElementById( 'export-db-form' );\r\n\tconst dbSelect = document.getElementById( 'export-db' );\r\n\tconst dbStatus = document.getElementById( 'export-db-status' );\r\n\r\n\tif ( !groupEl || !folderEl ) return;\r\n\r\n\tlet groups = [];\r\n\r\n\t// Helpers\r\n\tfunction refreshCsrf() {\r\n\t\treturn fetch( `${ window.BASE_URL }partials/export.php?action=token`, {credentials: 'same-origin'} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( d => {\r\n\t\t\t\tif ( d.ok && d.token ) {\r\n\t\t\t\t\tdocument.querySelectorAll( 'input[name=\"csrf\"]' ).forEach( el => {\r\n\t\t\t\t\t\tel.value = d.token;\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t} );\r\n\t}\r\n\r\n\tfunction renderGroups( selectEl, data ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tdata.forEach( ( g ) => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = String( g.index );\r\n\t\t\topt.textContent = g.title;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderFolders( selectEl, subfolders ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !subfolders.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No subfolders found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsubfolders.forEach( sf => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = sf.name;\r\n\t\t\topt.textContent = sf.name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\tfunction renderDatabases( selectEl, dbs ) {\r\n\t\tselectEl.innerHTML = '';\r\n\t\tif ( !dbs.length ) {\r\n\t\t\tselectEl.innerHTML = `<option value=\"\">No databases found</option>`;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdbs.forEach( name => {\r\n\t\t\tconst opt = document.createElement( 'option' );\r\n\t\t\topt.value = name;\r\n\t\t\topt.textContent = name;\r\n\t\t\tselectEl.appendChild( opt );\r\n\t\t} );\r\n\t}\r\n\r\n\t// Initial loads\r\n\trefreshCsrf();\r\n\r\n\tfetch( `${ window.BASE_URL }partials/export.php?action=scan`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to scan folders' );\r\n\t\t\t}\r\n\r\n\t\t\tgroups = data.groups || [];\r\n\r\n\t\t\tif ( !groups.length ) {\r\n\t\t\t\t// Graceful empty state\r\n\t\t\t\tgroupEl.innerHTML = `<option value=\"\">No folders defined</option>`;\r\n\t\t\t\tgroupEl.disabled = true;\r\n\r\n\t\t\t\tfolderEl.innerHTML = `<option value=\"\">No subfolders</option>`;\r\n\t\t\t\tfolderEl.disabled = true;\r\n\r\n\t\t\t\tconst filesStatus = document.getElementById( 'export-files-status' );\r\n\t\t\t\tif (filesStatus) {\r\n\t\t\t\t\tfilesStatus.innerHTML = 'No folders defined. Add entries to <code>config/folders.json</code> to enable file exports.';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Hide media options just in case\r\n\t\t\t\tconst uploadsModeRow = document.getElementById( 'uploads-mode-row' );\r\n\t\t\t\tif ( uploadsModeRow ) uploadsModeRow.style.display = 'none';\r\n\r\n\t\t\t\treturn; // stop here\r\n\t\t\t}\r\n\r\n\t\t\trenderGroups( groupEl, groups );\r\n\t\t\tif ( groupEl.options.length ) {\r\n\t\t\t\tgroupEl.dispatchEvent( new Event( 'change' ) );\r\n\t\t\t}\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tgroupEl.innerHTML = `<option value=\"\">Error loading groups</option>`;\r\n\t\t\tgroupEl.disabled = true;\r\n\t\t\tfolderEl.innerHTML = `<option value=\"\">—</option>`;\r\n\t\t\tfolderEl.disabled = true;\r\n\t\t} );\r\n\r\n\tfetch( `${ window.BASE_URL }partials/export.php?action=dbs`, {credentials: 'same-origin'} )\r\n\t\t.then( r => r.json() )\r\n\t\t.then( data => {\r\n\t\t\tif ( !data.ok ) {\r\n\t\t\t\tthrow new Error( data.error || 'Failed to list databases' );\r\n\t\t\t}\r\n\t\t\trenderDatabases( dbSelect, data.databases || [] );\r\n\t\t} )\r\n\t\t.catch( err => {\r\n\t\t\tconsole.error( err );\r\n\t\t\tdbSelect.innerHTML = `<option value=\"\">Error loading databases</option>`;\r\n\t\t} );\r\n\r\n\t// Events\r\n\tgroupEl.addEventListener( 'change', () => {\r\n\t\tconst idx = parseInt( groupEl.value, 10 );\r\n\t\tif ( Number.isNaN( idx ) || !groups[idx] ) {\r\n\t\t\tfolderEl.innerHTML = `<option value=\"\">Select a group first…</option>`;\r\n\t\t\tfolderEl.disabled = true;\r\n\t\t\tuploadsModeRow.style.display = 'none';\r\n\t\t\t// reset radio to exclude\r\n\t\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\t\tif ( def ) def.checked = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trenderFolders( folderEl, groups[idx].subfolders );\r\n\t\tfolderEl.disabled = false;\r\n\t\tuploadsModeRow.style.display = 'none';\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\t} );\r\n\r\n\tfolderEl.addEventListener( 'change', () => {\r\n\t\tconst gIdx = parseInt( groupEl.value, 10 );\r\n\t\tconst group = groups[gIdx];\r\n\t\tif ( !group ) return;\r\n\t\tconst sf = group.subfolders.find( s => s.name === folderEl.value );\r\n\t\tconst showUploads = !!(sf && sf.isWordPress && sf.hasUploads);\r\n\r\n\t\tuploadsModeRow.style.display = showUploads ? '' : 'none';\r\n\t\t// default to exclude on change\r\n\t\tconst def = document.querySelector( 'input[name=\"uploadsMode\"][value=\"exclude\"]' );\r\n\t\tif ( def ) def.checked = true;\r\n\t} );\r\n\r\n\tfilesForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tfilesStatus.textContent = 'Preparing archive…';\r\n\r\n\t\tconst form = new FormData( filesForm );\r\n\t\tform.append( 'action', 'zip' ); // radios are included automatically\r\n\r\n\t\tfetch( `${ window.BASE_URL }partials/export.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) {\r\n\t\t\t\t\tthrow new Error( data.error || 'Export failed' );\r\n\t\t\t\t}\r\n\t\t\t\tfilesStatus.innerHTML = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tfilesStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n\r\n\tdbForm.addEventListener( 'submit', e => {\r\n\t\te.preventDefault();\r\n\t\tdbStatus.textContent = 'Dumping database…';\r\n\r\n\t\tconst form = new FormData( dbForm );\r\n\t\tform.append( 'action', 'dumpdb' );\r\n\r\n\t\tfetch( `${ window.BASE_URL }partials/export.php`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: form,\r\n\t\t\tcredentials: 'same-origin'\r\n\t\t} )\r\n\t\t\t.then( r => r.json() )\r\n\t\t\t.then( data => {\r\n\t\t\t\tif ( !data.ok ) {\r\n\t\t\t\t\tthrow new Error( data.error || 'DB export failed' );\r\n\t\t\t\t}\r\n\t\t\t\tdbStatus.innerHTML = `Done. <a href=\"${ window.BASE_URL }${ data.href }\" download=\"${ data.name }\">${ data.name }</a>`;\r\n\t\t\t\twindow.location.href = `${ window.BASE_URL }${ data.href }`;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} )\r\n\t\t\t.catch( err => {\r\n\t\t\t\tconsole.error( err );\r\n\t\t\t\tdbStatus.textContent = 'Error: ' + err.message;\r\n\t\t\t\treturn refreshCsrf();\r\n\t\t\t} );\r\n\t} );\r\n}\r\n","// assets/js/modules/search.js\nexport function initSearch() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst searchBar = document.querySelector( '.search-bar' );\n\t\tif ( searchBar ) {\n\t\t\tsearchBar.addEventListener( 'input', searchProjects );\n\t\t}\n\t} );\n}\n\nexport function searchProjects() {\n\tconst input = document.querySelector( '.search-bar' )?.value.toLowerCase() || '';\n\tconst items = document.querySelectorAll( '.folders li' );\n\n\titems.forEach( item => {\n\t\tconst text = item.textContent.toLowerCase();\n\t\titem.style.display = text.includes( input ) ? '' : 'none';\n\t} );\n}\n","// assets/js/modules/theme.js\nexport function initThemeSwitcher() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst selector = document.querySelector( '#theme-selector' );\n\t\tif ( !selector ) return;\n\n\t\t// Use serverTheme first, then fallback to localStorage\n\t\tconst saved = localStorage.getItem( 'theme' ) || serverTheme || 'default';\n\t\tsetTheme( saved );\n\n\t\tselector.value = saved;\n\t\tselector.addEventListener( 'change', ( e ) => {\n\t\t\tconst selected = e.target.value;\n\t\t\tsetTheme( selected );\n\t\t\tlocalStorage.setItem( 'theme', selected );\n\t\t} );\n\t} );\n}\n\nfunction setTheme( theme ) {\n\tdocument.documentElement.className = '';\n\n\tif ( theme !== 'default' ) {\n\t\tdocument.documentElement.classList.add( `${theme}-theme` );\n\t}\n\n\tdocument.body.classList.remove( 'light-mode' );\n\n\tif ( typeof themeTypes !== 'undefined' && themeTypes[ theme ] === 'light' ) {\n\t\tdocument.body.classList.add( 'light-mode' );\n\t}\n}\n","// assets/js/modules/vhosts.js\nexport function setupVhostCertButtons() {\n\tif ( document.readyState === 'loading' ) {\n\t\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\t\tbindButtons();\n\t\t\tsetupFiltering();\n\t\t\tsetupOpenFolder();\n\t\t} );\n\t} else {\n\t\tbindButtons();\n\t\tsetupFiltering();\n\t\tsetupOpenFolder();\n\t}\n}\n\nfunction bindButtons() {\n\tconst buttons = document.querySelectorAll( '[data-generate-cert]' );\n\n\tbuttons.forEach( button => {\n\t\tbutton.addEventListener( 'click', () => {\n\t\t\tconst name = button.dataset.generateCert;\n\t\t\tif ( confirm( 'Generate a new SSL certificate for ' + name + '?' ) ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/generate_cert.php?name=${ encodeURIComponent( name ) }` )\n\t\t\t\t\t.then( res => res.text() )\n\t\t\t\t\t.then( msg => {\n\t\t\t\t\t\talert( msg );\n\t\t\t\t\t\tif ( msg.includes( 'successfully' ) ) {\n\t\t\t\t\t\t\tconst restartBtn = document.getElementById( 'restart-apache' );\n\t\t\t\t\t\t\tif ( restartBtn ) restartBtn.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( () => alert( 'Failed to run cert script.' ) );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nfunction setupFiltering() {\n\tconst filter = document.getElementById( 'vhost-filter' );\n\tconst rows = document.querySelectorAll( '#vhosts-table tbody tr' );\n\n\tif ( !filter || !rows.length ) return;\n\n\tfilter.addEventListener( 'change', () => {\n\t\tconst value = filter.value;\n\t\tlet visibleCount = 0;\n\n\t\trows.forEach( row => {\n\t\t\tconst isSSL = row.classList.contains( 'vhost-ssl' );\n\t\t\tconst hasCert = row.classList.contains( 'cert-valid' );\n\t\t\tconst hasHost = row.classList.contains( 'host-valid' );\n\n\t\t\tlet show = true;\n\t\t\tif ( value === 'missing-cert' ) show = !hasCert;\n\t\t\telse if ( value === 'missing-host' ) show = !hasHost;\n\t\t\telse if ( value === 'ssl-only' ) show = isSSL;\n\t\t\telse if ( value === 'non-ssl' ) show = !isSSL;\n\n\t\t\trow.style.display = show ? '' : 'none';\n\t\t\tif ( show ) visibleCount++;\n\t\t} );\n\n\t\tconst emptyMsg = document.getElementById( 'vhost-empty-msg' );\n\t\tif ( emptyMsg ) {\n\t\t\temptyMsg.style.display = visibleCount === 0 ? '' : 'none';\n\t\t}\n\t} );\n}\n\nfunction setupOpenFolder() {\n\tdocument.addEventListener( 'click', e => {\n\t\tif ( e.target.matches( '.open-folder' ) ) {\n\t\t\tconst path = e.target.dataset.path.replace( /^\"(.*)\"$/, '$1' );\n\t\t\tif ( path ) {\n\t\t\t\tfetch( `${ window.BASE_URL }utils/open_folder.php`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify( {path} )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n}\n","// assets/js/modules/apache.js\nexport function toggleApache( action ) {\n\tconst messageBox = document.getElementById( 'apache-status-message' );\n\tif ( !messageBox ) return;\n\tmessageBox.innerText = 'Executing ' + action + '...';\n\tfetch( `${ window.BASE_URL }utils/toggle_apache.php`, {\n\t\tmethod: 'POST',\n\t\theaders: {'Content-Type': 'application/x-www-form-urlencoded'},\n\t\tbody: 'action=' + encodeURIComponent( action )\n\t} )\n\t\t.then( response => response.text() )\n\t\t.then( text => {\n\t\t\ttry {\n\t\t\t\tconst data = JSON.parse( text );\n\t\t\t\tmessageBox.innerText = data.message;\n\t\t\t\tif ( typeof renderServerInfo === 'function' ) {\n\t\t\t\t\trenderServerInfo(); // Refresh Apache status\n\t\t\t\t}\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.error( 'Invalid JSON:', text );\n\t\t\t\tmessageBox.innerText = 'Error: Invalid server response';\n\t\t\t}\n\t\t} )\n\t\t.catch( error => {\n\t\t\tmessageBox.innerText = 'Error: ' + error;\n\t\t} );\n}\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst btn = document.getElementById( 'restart-apache-button' );\n\tif ( btn ) {\n\t\tbtn.addEventListener( 'click', () => toggleApache( 'restart' ) );\n\t}\n} );\n","// assets/js/modules/dock.js\nimport { enableDragSort } from './drag.js';\n\nexport function initDockConfig() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst dockList = document.getElementById( 'dock-list' );\n\t\tconst addBtn = document.getElementById( 'add-dock-item' );\n\t\tconst form = document.querySelector( '#settings-view form' );\n\n\t\tif ( !dockList || !addBtn || !form ) return;\n\n\t\t// Load current config\n\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=dock`, { cache: 'no-store' } )\n\t\t\t.then( res => res.json() )\n\t\t\t.then( data => {\n\t\t\t\tdata.forEach( addDockItem );\n\t\t\t\tenableDragSort( '#dock-list' );\n\n\t\t\t\t// When user reorders items, refresh hidden input\n\t\t\t\tdockList.addEventListener( 'sorted', updateInput );\n\t\t\t\tupdateInput();\n\t\t\t} );\n\n\t\taddBtn.addEventListener( 'click', () => {\n\t\t\taddDockItem();\n\t\t\t// enableDragSort is idempotent now; it will only bind to new child\n\t\t\tenableDragSort( '#dock-list' );\n\t\t\tupdateInput();\n\t\t} );\n\n\t\tfunction addDockItem( item = {} ) {\n\t\t\tconst li = document.createElement( 'li' );\n\t\t\tli.className = 'dock-item';\n\t\t\tli.innerHTML = `\n\t\t\t\t<input type=\"text\" placeholder=\"Label\" value=\"${ item.label || '' }\">\n\t\t\t\t<input type=\"text\" placeholder=\"URL\" value=\"${ item.url || '' }\">\n\t\t\t\t<input type=\"text\" placeholder=\"Icon\" value=\"${ item.icon || '' }\">\n\t\t\t\t<input type=\"text\" placeholder=\"Alt Text\" value=\"${ item.alt || '' }\">\n\t\t\t\t<button type=\"button\" class=\"remove-dock-item\">❌</button>\n\t\t\t`;\n\t\t\tdockList.appendChild( li );\n\n\t\t\tli.querySelector( '.remove-dock-item' ).addEventListener( 'click', () => {\n\t\t\t\tli.remove();\n\t\t\t\tupdateInput();\n\t\t\t} );\n\n\t\t\tArray.from( li.querySelectorAll( 'input' ) ).forEach( ( input ) => {\n\t\t\t\tinput.addEventListener( 'input', updateInput );\n\t\t\t} );\n\t\t}\n\n\t\tfunction updateInput() {\n\t\t\tconst dockItems = [];\n\t\t\tArray.from( dockList.children ).forEach( ( li ) => {\n\t\t\t\tconst inputs = li.querySelectorAll( 'input' );\n\t\t\t\tif ( inputs.length < 4 ) return;\n\t\t\t\tdockItems.push( {\n\t\t\t\t\tlabel: inputs[0].value.trim(),\n\t\t\t\t\turl: inputs[1].value.trim(),\n\t\t\t\t\ticon: inputs[2].value.trim(),\n\t\t\t\t\talt: inputs[3].value.trim()\n\t\t\t\t} );\n\t\t\t} );\n\t\t\tconst dockJsonInput = document.getElementById( 'dock_json_input' );\n\t\t\tif ( dockJsonInput ) {\n\t\t\t\tdockJsonInput.value = JSON.stringify( dockItems, null, 2 );\n\t\t\t}\n\t\t}\n\t} );\n}\n","// assets/js/modules/folders.js\nimport { enableDragSort } from './drag.js';\n\nexport function initFoldersConfig() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst list = document.getElementById( 'folders-config-list' );\n\t\tconst addBtn = document.getElementById( 'add-folder-column' );\n\t\tconst jsonInput = document.getElementById( 'folders_json_input' );\n\t\tif ( !list || !addBtn || !jsonInput ) return;\n\n\t\tlet linkTemplates = [];\n\t\tlet templateOptionsHtml = `<option value=\"\">(none)</option>`;\n\t\tlet dirty = false;\n\t\tlet debounceTimer = null;\n\n\t\t// helpers for specialCases (object map <-> rows)\n\n\t\tfunction mapToRows( scMap ) {\n\t\t\tif ( scMap && typeof scMap === 'object' && !Array.isArray( scMap ) ) {\n\t\t\t\treturn Object.entries( scMap ).map( ( [ match, replace ] ) => ( {\n\t\t\t\t\tmatch: String( match ?? '' ),\n\t\t\t\t\treplace: String( replace ?? '' )\n\t\t\t\t} ) );\n\t\t\t}\n\t\t\treturn []; // default if missing/invalid\n\t\t}\n\n\t\tfunction rowsToMap( rows ) {\n\t\t\tconst map = {};\n\t\t\trows.forEach( ( { match = '', replace = '' } ) => {\n\t\t\t\tconst m = String( match ).trim();\n\t\t\t\tconst r = String( replace ).trim();\n\t\t\t\tif ( m.length || r.length ) {\n\t\t\t\t\tmap[ m ] = r; // later duplicates overwrite earlier — deterministic\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn map;\n\t\t}\n\n\t\t// templates\n\n\t\tfunction fetchLinkTemplates() {\n\t\t\tif ( Array.isArray( window.LINK_TEMPLATES ) ) {\n\t\t\t\tlinkTemplates = window.LINK_TEMPLATES\n\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\n\t\t\t\t\t.filter( Boolean );\n\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\n\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\n\t\t\t\treturn Promise.resolve( linkTemplates );\n\t\t\t}\n\n\t\t\treturn fetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, { cache: 'no-store' } )\n\t\t\t\t.then( res => res.json() )\n\t\t\t\t.then( data => {\n\t\t\t\t\tlinkTemplates = ( Array.isArray( data ) ? data : [] )\n\t\t\t\t\t\t.map( t => t && typeof t.name === 'string' ? t.name.trim() : '' )\n\t\t\t\t\t\t.filter( Boolean );\n\t\t\t\t\tlinkTemplates = Array.from( new Set( linkTemplates ) );\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>` + linkTemplates.map( n => `<option value=\"${ n }\">${ n }</option>` ).join( '' );\n\t\t\t\t\treturn linkTemplates;\n\t\t\t\t} )\n\t\t\t\t.catch( () => {\n\t\t\t\t\tlinkTemplates = [];\n\t\t\t\t\ttemplateOptionsHtml = `<option value=\"\">(none)</option>`;\n\t\t\t\t\treturn linkTemplates;\n\t\t\t\t} );\n\t\t}\n\n\t\t// rendering\n\n\t\tfunction specialCaseRowHtml( sc = {} ) {\n\t\t\tconst matchVal = sc.match || '';\n\t\t\tconst replaceVal = sc.replace || '';\n\t\t\treturn `\n\t\t\t\t<div class=\"special-case\">\n\t\t\t\t\t<input type=\"text\" class=\"sc-match\" placeholder=\"Match Regex\" value=\"${ matchVal }\">\n\t\t\t\t\t<input type=\"text\" class=\"sc-replace\" placeholder=\"Replace Regex\" value=\"${ replaceVal }\">\n\t\t\t\t\t<button type=\"button\" class=\"remove-special\">✖</button>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tfunction folderItemHtml( item = {} ) {\n\t\t\tconst casesHtml = mapToRows( item.specialCases ).map( specialCaseRowHtml ).join( '' );\n\t\t\tconst selected = item.linkTemplate || '';\n\n\t\t\treturn `\n\t\t\t\t<li class=\"folder-config-item\">\n\t\t\t\t\t<input type=\"text\" data-key=\"title\" placeholder=\"Title\" value=\"${ item.title || '' }\">\n\t\t\t\t\t<input type=\"text\" data-key=\"href\" placeholder=\"Href (optional)\" value=\"${ item.href || '' }\">\n\t\t\t\t\t<input type=\"text\" data-key=\"dir\" placeholder=\"Dir (relative to HTDOCS_PATH)\" value=\"${ item.dir || '' }\">\n\t\t\t\t\t<input type=\"text\" data-key=\"excludeList\" placeholder=\"Exclude List (comma-separated)\" value=\"${ ( item.excludeList || [] ).join( ',' ) }\">\n\t\t\t\t\t<input type=\"text\" data-key=\"match\" placeholder=\"Match Regex\" value=\"${ item.urlRules?.match ?? '' }\">\n\t\t\t\t\t<input type=\"text\" data-key=\"replace\" placeholder=\"Replace Regex\" value=\"${ item.urlRules?.replace ?? '' }\">\n\t\t\t\t\t<label>Link Template:\n\t\t\t\t\t\t<select class=\"link-template-select\" name=\"linkTemplate\">${ templateOptionsHtml }</select>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label><input type=\"checkbox\" class=\"disable-links\"${ item.disableLinks ? ' checked' : '' }> Disable Links</label>\n\n\t\t\t\t\t<div class=\"special-cases-wrapper\">\n\t\t\t\t\t\t<label>Special Cases:</label>\n\t\t\t\t\t\t<div class=\"special-cases\">${ casesHtml }</div>\n\t\t\t\t\t\t<button type=\"button\" class=\"add-special\">➕ Add Rule</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button type=\"button\" class=\"remove-folder-column\">❌</button>\n\t\t\t\t</li>\n\t\t\t`;\n\t\t}\n\n\t\tfunction appendFolderItems( items ) {\n\t\t\tconst frag = document.createDocumentFragment();\n\t\t\tconst tmp = document.createElement( 'div' );\n\t\t\ttmp.innerHTML = items.map( folderItemHtml ).join( '' );\n\t\t\tArray.from( tmp.children ).forEach( child => frag.appendChild( child ) );\n\t\t\tlist.appendChild( frag );\n\n\t\t\t// Apply select value + disable state\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\n\t\t\t\tconst select = li.querySelector( '.link-template-select' );\n\t\t\t\tif ( select ) {\n\t\t\t\t\t// Find the corresponding item by matching the title currently in the li\n\t\t\t\t\tconst titleInLi = li.querySelector( 'input[data-key=\"title\"]' )?.value || '';\n\t\t\t\t\tconst found = items.find( it => ( it.title || '' ) === titleInLi );\n\t\t\t\t\tconst val = found?.linkTemplate || '';\n\t\t\t\t\tif ( val ) select.value = val;\n\t\t\t\t\tselect.disabled = linkTemplates.length === 0;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction addFolderItem( item = {} ) {\n\t\t\tconst tmp = document.createElement( 'div' );\n\t\t\ttmp.innerHTML = folderItemHtml( item );\n\t\t\tconst li = tmp.firstElementChild;\n\t\t\tlist.appendChild( li );\n\t\t\tconst select = li.querySelector( '.link-template-select' );\n\t\t\tif ( select ) {\n\t\t\t\tselect.disabled = linkTemplates.length === 0;\n\t\t\t\tif ( item.linkTemplate ) select.value = item.linkTemplate;\n\t\t\t}\n\t\t\tmarkDirty();\n\t\t}\n\n\t\t// updates\n\n\t\tfunction markDirty() {\n\t\t\tdirty = true;\n\t\t\tdebounceUpdate();\n\t\t}\n\n\t\tfunction debounceUpdate() {\n\t\t\tif ( debounceTimer ) clearTimeout( debounceTimer );\n\t\t\tdebounceTimer = setTimeout( updateInput, 120 );\n\t\t}\n\n\t\tfunction updateInput() {\n\t\t\tdebounceTimer = null;\n\t\t\tif ( !dirty ) return;\n\t\t\tjsonInput.value = JSON.stringify( serializeList(), null, 2 );\n\t\t\tdirty = false;\n\t\t}\n\n\t\tfunction serializeList() {\n\t\t\tconst items = [];\n\t\t\tlist.querySelectorAll( '.folder-config-item' ).forEach( li => {\n\t\t\t\tconst get = ( sel ) => li.querySelector( sel );\n\n\t\t\t\tconst title = get( 'input[data-key=\"title\"]' )?.value.trim() || '';\n\t\t\t\tconst href = get( 'input[data-key=\"href\"]' )?.value.trim() || '';\n\t\t\t\tconst dir = get( 'input[data-key=\"dir\"]' )?.value.trim() || '';\n\t\t\t\tconst excludeStr = get( 'input[data-key=\"excludeList\"]' )?.value || '';\n\t\t\t\tconst match = get( 'input[data-key=\"match\"]' )?.value || '';\n\t\t\t\tconst replace = get( 'input[data-key=\"replace\"]' )?.value || '';\n\t\t\t\tconst linkTemplate = li.querySelector( '.link-template-select' )?.value || '';\n\t\t\t\tconst disableLinks = !!li.querySelector( '.disable-links' )?.checked;\n\n\t\t\t\t// Collect specialCases from rows and convert back to an object map\n\t\t\t\tconst scRows = [];\n\t\t\t\tli.querySelectorAll( '.special-case' ).forEach( row => {\n\t\t\t\t\tconst m = row.querySelector( '.sc-match' )?.value || '';\n\t\t\t\t\tconst r = row.querySelector( '.sc-replace' )?.value || '';\n\t\t\t\t\tif ( m.length || r.length ) scRows.push( { match: m, replace: r } );\n\t\t\t\t} );\n\t\t\t\tconst specialCases = rowsToMap( scRows );\n\n\t\t\t\tconst excludeList = excludeStr.split( ',' ).map( s => s.trim() ).filter( Boolean );\n\n\t\t\t\tconst record = {\n\t\t\t\t\ttitle,\n\t\t\t\t\thref,\n\t\t\t\t\tdir,\n\t\t\t\t\texcludeList,\n\t\t\t\t\turlRules: { match, replace },\n\t\t\t\t\tlinkTemplate,\n\t\t\t\t\tdisableLinks,\n\t\t\t\t\tspecialCases\n\t\t\t\t};\n\n\t\t\t\t// Skip fully empty rows\n\t\t\t\tconst hasValue =\n\t\t\t\t\ttitle || href || dir || excludeList.length || match || replace || linkTemplate || disableLinks || Object.keys( specialCases ).length;\n\t\t\t\tif ( hasValue ) items.push( record );\n\t\t\t} );\n\t\t\treturn items;\n\t\t}\n\n\t\t// delegated events\n\n\t\tlist.addEventListener( 'input', ( e ) => {\n\t\t\tif ( e.target.matches( 'input[type=\"text\"], select' ) ) {\n\t\t\t\tmarkDirty();\n\t\t\t}\n\t\t} );\n\t\tlist.addEventListener( 'change', ( e ) => {\n\t\t\tif ( e.target.matches( 'select, input[type=\"checkbox\"]' ) ) {\n\t\t\t\tmarkDirty();\n\t\t\t}\n\t\t} );\n\n\t\tlist.addEventListener( 'click', ( e ) => {\n\t\t\tif ( e.target.closest( '.add-special' ) ) {\n\t\t\t\tconst wrap = e.target.closest( '.folder-config-item' )?.querySelector( '.special-cases' );\n\t\t\t\tif ( wrap ) {\n\t\t\t\t\twrap.insertAdjacentHTML( 'beforeend', specialCaseRowHtml() );\n\t\t\t\t\tmarkDirty();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( e.target.closest( '.remove-special' ) ) {\n\t\t\t\tconst row = e.target.closest( '.special-case' );\n\t\t\t\tif ( row ) {\n\t\t\t\t\trow.remove();\n\t\t\t\t\tmarkDirty();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( e.target.closest( '.remove-folder-column' ) ) {\n\t\t\t\tconst li = e.target.closest( '.folder-config-item' );\n\t\t\t\tif ( li ) {\n\t\t\t\t\tli.remove();\n\t\t\t\t\tmarkDirty();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tlist.addEventListener( 'sorted', () => {\n\t\t\tdirty = true;\n\t\t\tupdateInput(); // immediate update after reorder\n\t\t} );\n\n\t\t// init\n\n\t\tPromise.all( [\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=folders`, { cache: 'no-store' } ).then( r => r.json() ).catch( () => [] ),\n\t\t\tfetchLinkTemplates()\n\t\t] ).then( ( [ data ] ) => {\n\t\t\tenableDragSort( '#folders-config-list' );\n\t\t\tif ( Array.isArray( data ) && data.length ) {\n\t\t\t\tappendFolderItems( data );\n\t\t\t}\n\t\t\tif ( list.children.length === 0 ) addFolderItem( {} );\n\t\t\tdirty = true;\n\t\t\tupdateInput();\n\t\t} );\n\n\t\taddBtn.addEventListener( 'click', () => {\n\t\t\taddFolderItem( {} );\n\t\t} );\n\t} );\n}\n","// assets/js/modules/linkTemplates.js\nexport function initLinkTemplates() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst list = document.getElementById( 'link-templates-list' );\n\t\tconst addBtn = document.getElementById( 'add-link-template' );\n\t\tif ( !list || !addBtn ) return;\n\n\t\tfunction loadTemplatesFromFile() {\n\t\t\tlist.innerHTML = '';\n\t\t\tfetch( `${ window.BASE_URL }utils/read_config.php?file=link_templates`, {cache: 'no-store'} )\n\t\t\t\t.then( ( res ) => res.json() )\n\t\t\t\t.then( ( data ) => {\n\t\t\t\t\tdata.forEach( addTemplateItem );\n\t\t\t\t\tupdateHiddenInput();\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction updateHiddenInput() {\n\t\t\tconst templates = [];\n\t\t\tlist.querySelectorAll( '.template-item' ).forEach( item => {\n\t\t\t\tconst name = item.querySelector( '.template-name' )?.value.trim();\n\t\t\t\tconst html = item.querySelector( '.template-html' )?.value.trim();\n\t\t\t\tif ( name && html ) templates.push( {name, html} );\n\t\t\t} );\n\n\t\t\tconst hidden = document.getElementById( 'link_templates_json_input' );\n\t\t\tif ( hidden ) hidden.value = JSON.stringify( templates, null, 2 );\n\t\t}\n\n\t\tfunction addTemplateItem( data = {} ) {\n\t\t\tconst li = document.createElement( 'li' );\n\t\t\tli.className = 'template-item';\n\t\t\tli.innerHTML = `\n        <input type=\"text\" class=\"template-name\" placeholder=\"Template Name\" value=\"${ data.name || '' }\">\n        <input type=\"text\" class=\"template-html\" placeholder=\"HTML Template\" value=\"${ data.html || '' }\">\n        <button type=\"button\" class=\"remove-template\">❌</button>\n      `;\n\n\t\t\tli.querySelector( '.remove-template' ).addEventListener( 'click', () => {\n\t\t\t\tli.remove();\n\t\t\t\tupdateHiddenInput();\n\t\t\t} );\n\n\t\t\tArray.from( li.querySelectorAll( 'input' ) ).forEach( input => {\n\t\t\t\tinput.addEventListener( 'input', updateHiddenInput );\n\t\t\t} );\n\n\t\t\tlist.appendChild( li );\n\t\t\tupdateHiddenInput();\n\t\t}\n\n\t\taddBtn.addEventListener( 'click', () => addTemplateItem() );\n\n\t\t// Load templates from file on page load\n\t\tloadTemplatesFromFile();\n\t} );\n}\n","// assets/js/modules/settings.js\r\nexport function initClearStorageButton() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst clearBtn = document.getElementById( 'clear-local-storage' );\r\n\t\tif ( !clearBtn ) return;\r\n\r\n\t\tclearBtn.addEventListener( 'click', () => {\r\n\t\t\tif ( !confirm( \"Are you sure you want to reset saved UI settings?\" ) ) return;\r\n\r\n\t\t\tconst prefixesToRemove = [ 'theme', 'columnOrder', 'columnSize' ];\r\n\r\n\t\t\tObject.keys( localStorage ).forEach( ( key ) => {\r\n\t\t\t\tif ( prefixesToRemove.some( prefix => key.startsWith( prefix ) ) ) {\r\n\t\t\t\t\tlocalStorage.removeItem( key );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\talert( \"Saved settings have been cleared from local storage.\" );\r\n\t\t\tlocation.reload();\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nexport function autoHideConfirmationMessage() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst msg = document.querySelector( '.post-confirmation-container' );\r\n\t\tif ( !msg ) return;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tmsg.style.transition = 'opacity 0.5s ease';\r\n\t\t\tmsg.style.opacity = '0';\r\n\t\t\tsetTimeout(() => msg.remove(), 500);\r\n\t\t}, 3000);\r\n\t} );\r\n}\r\n","// assets/js/modules/system.js\nexport function initSystemMonitoring() {\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\n\t\tconst body = document.body;\n\t\tconst systemStatsSection = document.getElementById( 'system-monitor' );\n\n\t\tif ( !systemStatsSection ) return;\n\n\t\tconst ajaxEnabled = body.getAttribute( 'data-ajax-enabled' ) === 'true';\n\t\tif ( !ajaxEnabled ) return;\n\n\t\tconst cpuElem = document.getElementById( 'cpu-load' );\n\t\tconst memElem = document.getElementById( 'memory-usage' );\n\t\tconst diskElem = document.getElementById( 'disk-space' );\n\n\t\tlet statsInterval;\n\n\t\tfunction fetchSystemStats() {\n\t\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t\t.then( response => {\n\t\t\t\t\tif ( !response.ok ) throw new Error( 'System stats unavailable' );\n\t\t\t\t\treturn response.json();\n\t\t\t\t} )\n\t\t\t\t.then( data => {\n\t\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction startMonitoring() {\n\t\t\tstatsInterval = setInterval( fetchSystemStats, 1000 );\n\t\t\tfetchSystemStats();\n\t\t}\n\n\t\t// Only begin polling once we know the backend is returning valid JSON\n\t\tfetch( `${ window.BASE_URL }utils/system_stats.php`, {cache: 'no-store'} )\n\t\t\t.then( response => {\n\t\t\t\tif ( !response.ok ) return;\n\t\t\t\treturn response.json();\n\t\t\t} )\n\t\t\t.then( data => {\n\t\t\t\t// First fetch succeeded — safe to start polling\n\t\t\t\tcpuElem.textContent = `${ data.cpu }%`;\n\t\t\t\tmemElem.textContent = `${ data.memory } MB`;\n\t\t\t\tdiskElem.textContent = `${ data.disk }%`;\n\t\t\t\tstartMonitoring();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\t// Do nothing — let next AJAX-enabled cycle pick it up silently\n\t\t\t} );\n\t} );\n}\n","// assets/js/modules/view.js\r\nexport function initToggleAccordion() {\r\n\t// Helper: force layout reflow to ensure transitions behave correctly (especially in Firefox)\r\n\tfunction forceReflow( element ) {\r\n\t\tvoid element.offsetHeight;\r\n\t}\r\n\r\n\t// Helper: check if the click happened inside a given selector\r\n\tfunction isClickInside( event, selector ) {\r\n\t\treturn !!event.target.closest( selector );\r\n\t}\r\n\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tdocument.querySelectorAll( '.toggle-content-container' ).forEach( ( container, index ) => {\r\n\t\t\tconst toggle = container.querySelector( '.toggle-accordion' );\r\n\t\t\tconst content = container.querySelector( '.toggle-content' );\r\n\t\t\tif ( !toggle || !content ) return;\r\n\r\n\t\t\tconst collapsedHeight = parseInt( content.dataset.collapsedHeight ) || 0;\r\n\t\t\tconst accordionId = container.dataset.id || 'accordion-' + index;\r\n\r\n\t\t\t// Restore state from localStorage\r\n\t\t\tconst savedState = localStorage.getItem( 'accordion_' + accordionId );\r\n\t\t\tif ( savedState === 'open' ) {\r\n\t\t\t\tcontainer.classList.add( 'open' );\r\n\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\trequestAnimationFrame( () => {\r\n\t\t\t\t\tcontent.style.height = 'auto';\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tcontainer.classList.remove( 'open' );\r\n\t\t\t\tcontent.style.height = collapsedHeight + 'px';\r\n\t\t\t}\r\n\r\n\t\t\t// Toggle click\r\n\t\t\ttoggle.addEventListener( 'click', ( event ) => {\r\n\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\t\t// Prevent toggling if clicking inside .tooltip-icon\r\n\t\t\t\tif ( isClickInside( event, '.tooltip-icon' ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst isOpen = container.classList.toggle( 'open' );\r\n\t\t\t\tlocalStorage.setItem( 'accordion_' + accordionId, isOpen ? 'open' : 'closed' );\r\n\r\n\t\t\t\tif ( isOpen ) {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t\tconst onTransitionEnd = () => {\r\n\t\t\t\t\t\tcontent.style.height = 'auto';\r\n\t\t\t\t\t\tcontent.removeEventListener( 'transitionend', onTransitionEnd );\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcontent.addEventListener( 'transitionend', onTransitionEnd );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t\tforceReflow( content ); // Ensure Firefox animates the collapse properly\r\n\t\t\t\t\trequestAnimationFrame( () => {\r\n\t\t\t\t\t\tcontent.style.height = collapsedHeight + 'px';\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n\t\t// Recalculate heights on window resize\r\n\t\twindow.addEventListener( 'resize', () => {\r\n\t\t\tdocument.querySelectorAll( '.toggle-content-container.open .toggle-content' ).forEach( ( content ) => {\r\n\t\t\t\tif ( content.style.height !== 'auto' ) {\r\n\t\t\t\t\tcontent.style.height = content.scrollHeight + 'px';\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nexport function initViewToggles() {\r\n\tdocument.addEventListener( 'DOMContentLoaded', () => {\r\n\t\tconst views = {\r\n\t\t\t'index': document.getElementById( 'folders-view' ),\r\n\t\t\t'settings': document.getElementById( 'settings-view' ),\r\n\t\t\t'phpinfo': document.getElementById( 'phpinfo-view' ),\r\n\t\t\t'apache': document.getElementById( 'apache-view' ),\r\n\t\t\t'mysql': document.getElementById( 'mysql-view' ),\r\n\t\t};\r\n\r\n\t\tconst pathMap = {\r\n\t\t\t'index': 'index',\r\n\t\t\t'settings': 'settings',\r\n\t\t\t'phpinfo': 'phpinfo',\r\n\t\t\t'apache-inspector': 'apache',\r\n\t\t\t'mysql-inspector': 'mysql',\r\n\t\t};\r\n\r\n\t\tconst toggleMap = {\r\n\t\t\t'toggle-index': 'index',\r\n\t\t\t'toggle-settings': 'settings',\r\n\t\t\t'toggle-phpinfo': 'phpinfo',\r\n\t\t\t'toggle-apache-inspector': 'apache-inspector',\r\n\t\t\t'toggle-mysql-inspector': 'mysql-inspector',\r\n\t\t};\r\n\r\n\t\tfunction getCurrentRoute() {\r\n\t\t\tconst params = new URLSearchParams( window.location.search );\r\n\t\t\treturn params.get( 'view' ) || 'index';\r\n\t\t}\r\n\r\n\t\tfunction showView( routeKey, push = false ) {\r\n\t\t\tconst key = pathMap[routeKey] || 'index';\r\n\r\n\t\t\tObject.entries( views ).forEach( ( [ k, el ] ) => {\r\n\t\t\t\tif ( el ) el.classList.toggle( 'visible', k === key );\r\n\t\t\t} );\r\n\r\n\t\t\t// Lazy load for Apache and MySQL views\r\n\t\t\tif ( key === 'apache' || key === 'mysql' ) {\r\n\t\t\t\tconst target = views[key];\r\n\t\t\t\tif ( !target.dataset.loaded ) {\r\n\t\t\t\t\t// To use a spinning emoji, add the class \"emoji\" to \"loader\" and insert your emoji within the <span>\r\n\t\t\t\t\ttarget.innerHTML = '<div class=\"loader\"><span class=\"spinner\" role=\"img\" aria-label=\"Loading\"></span></div>';\r\n\t\t\t\t\tconst url = `utils/${ key }_inspector.php`;\r\n\r\n\t\t\t\t\tfetch( `${ window.BASE_URL || '/' }${ url }` )\r\n\t\t\t\t\t\t.then( res => res.text() )\r\n\t\t\t\t\t\t.then( html => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = html;\r\n\t\t\t\t\t\t\ttarget.dataset.loaded = 'true';\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t.catch( err => {\r\n\t\t\t\t\t\t\ttarget.innerHTML = `<p class=\"error\">Failed to load ${ url }</p>`;\r\n\t\t\t\t\t\t\tconsole.error( `[view.js] Failed to fetch ${ url }`, err );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( push ) {\r\n\t\t\t\tconst base = window.BASE_URL || window.location.pathname;\r\n\t\t\t\tconst param = key === 'index' ? '' : '?view=' + encodeURIComponent( routeKey );\r\n\t\t\t\thistory.pushState( {}, '', base + param );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Attach toggle click handlers\r\n\t\tObject.entries( toggleMap ).forEach( ( [ toggleId, routeKey ] ) => {\r\n\t\t\tconst toggle = document.getElementById( toggleId );\r\n\t\t\tif ( toggle ) {\r\n\t\t\t\ttoggle.addEventListener( 'click', ( e ) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tshowView( routeKey, true );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\t// Initial load\r\n\t\tshowView( getCurrentRoute() );\r\n\r\n\t\t// Back/forward navigation\r\n\t\twindow.addEventListener( 'popstate', () => {\r\n\t\t\tshowView( getCurrentRoute() );\r\n\t\t} );\r\n\t} );\r\n}\r\n"],"names":["updateClock","clock","document","querySelector","now","Date","textContent","toLocaleTimeString","hour","minute","second","hour12","enableDragSort","listSelector","opts","arguments","length","undefined","list","dataset","sortBound","itemsSelector","items","handleSelector","handle","dragSrcEl","addEventListener","e","item","target","closest","contains","draggable","capture","dataTransfer","effectAllowed","setData","_","classList","add","preventDefault","remove","children","Array","from","querySelectorAll","concat","indexOf","to","after","before","dispatchEvent","CustomEvent","bubbles","forEach","el","setColumnWidth","size","localStorage","setItem","columnsDiv","cls","startsWith","cycleColumnWidth","direction","sizes","current","getItem","idx","nextIdx","initGenericErrorLog","_ref","sectionId","toggleButtonId","logElementId","endpoint","body","getElementById","toggleBtn","logElement","isVisible","toggle","this","setAttribute","getAttribute","fetch","window","BASE_URL","cache","then","res","ok","text","Promise","reject","data","displayLogContent","setInterval","fetchLog","isEmpty","trim","innerHTML","setupExport","groupEl","folderEl","uploadsModeRow","filesForm","filesStatus","dbForm","dbSelect","dbStatus","groups","refreshCsrf","credentials","r","json","Error","error","selectEl","g","opt","createElement","value","String","index","title","appendChild","renderGroups","options","Event","disabled","style","display","err","console","dbs","databases","name","parseInt","Number","isNaN","subfolders","sf","def","checked","gIdx","group","find","s","showUploads","isWordPress","hasUploads","form","FormData","append","method","href","location","message","d","token","searchProjects","_document$querySelect","input","toLowerCase","includes","setTheme","theme","documentElement","className","themeTypes","bindButtons","button","generateCert","confirm","encodeURIComponent","msg","alert","restartBtn","click","setupFiltering","filter","rows","visibleCount","row","isSSL","hasCert","hasHost","show","emptyMsg","setupOpenFolder","matches","path","replace","headers","JSON","stringify","btn","action","messageBox","innerText","response","parse","renderServerInfo","container","columnSizes","savedSize","resetBtn","prevBtn","nextBtn","savedOrder","isArray","id","col","order","map","Boolean","dockList","addBtn","addDockItem","li","label","url","icon","alt","updateInput","dockItems","inputs","push","dockJsonInput","jsonInput","linkTemplates","templateOptionsHtml","dirty","debounceTimer","markDirty","_e$target$closest","wrap","insertAdjacentHTML","specialCaseRowHtml","all","LINK_TEMPLATES","t","Set","n","join","resolve","_ref4","frag","tmp","_slicedToArray","createDocumentFragment","folderItemHtml","child","select","_li$querySelector","titleInLi","found","it","val","linkTemplate","addFolderItem","sc","matchVal","match","replaceVal","_item$urlRules$match","_item$urlRules","_item$urlRules$replac","_item$urlRules2","scMap","casesHtml","specialCases","_typeof","Object","entries","_ref2","dir","excludeList","urlRules","disableLinks","firstElementChild","clearTimeout","setTimeout","_get","_get2","_get3","_get4","_get5","_get6","_li$querySelector2","_li$querySelector3","get","sel","excludeStr","scRows","_row$querySelector","_row$querySelector2","m","_ref3","_ref3$match","_ref3$replace","split","record","keys","updateHiddenInput","templates","_item$querySelector","_item$querySelector2","html","hidden","addTemplateItem","readyState","searchBar","clearBtn","prefixesToRemove","key","some","prefix","removeItem","reload","transition","opacity","cpuElem","memElem","diskElem","cpu","memory","disk","fetchSystemStats","selector","saved","serverTheme","selected","content","collapsedHeight","accordionId","height","scrollHeight","requestAnimationFrame","event","stopPropagation","isClickInside","isOpen","onTransitionEnd","removeEventListener","offsetHeight","views","pathMap","getCurrentRoute","URLSearchParams","search","showView","routeKey","k","loaded","base","pathname","param","history","pushState","toggleId"],"sourceRoot":""}